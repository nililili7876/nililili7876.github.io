<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ACWing</title>
    <url>/2022/11/12/ACWing/</url>
    <content><![CDATA[<h1 id="acwing"><a class="markdownIt-Anchor" href="#acwing"></a> ACWing</h1>
<p>跟着Y佬学算法</p>
<span id="more"></span>
<h2 id="6_22-hello-word"><a class="markdownIt-Anchor" href="#6_22-hello-word"></a> 6_22: hello word</h2>
<h3 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> 题目</h3>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220622233750449.png" alt="image-20220622233750449"  />
<h3 id="算法"><a class="markdownIt-Anchor" href="#算法"></a> 算法</h3>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627213149424.png" alt="image-20220627213149424"  />
<p>把对应矩阵的对应行加过去</p>
<p>注意getchar()的问题</p>
<h2 id="6_27-行程表排序"><a class="markdownIt-Anchor" href="#6_27-行程表排序"></a> 6_27: 行程表排序</h2>
<h3 id="题目-2"><a class="markdownIt-Anchor" href="#题目-2"></a> 题目</h3>
<img src="C:\Users\nili990221\Desktop\屏幕截图 2022-06-27 193434.jpg" alt="屏幕截图 2022-06-27 193434" style="zoom:50%;" />
<h3 id="未ac超时"><a class="markdownIt-Anchor" href="#未ac超时"></a> 未AC(超时)</h3>
<p>数据结构：结构体+vector；</p>
<p>​				  结构体是两个string和一个flag用来标记有没有排序</p>
<p>算法描述：蛮暴力的，当排序做的，每次遍历把头和尾加上</p>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627193729390.png" alt="image-20220627193729390"  />
<p>时间复杂度: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mo>∗</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(T*n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 属实有点子高了</p>
<h3 id="正解"><a class="markdownIt-Anchor" href="#正解"></a> 正解</h3>
<h4 id="视频"><a class="markdownIt-Anchor" href="#视频"></a> 视频</h4>
<p>救命，说这个题非常简单T^T</p>
<p>用<strong>图论</strong>去解的</p>
<p>数据结构：用两个哈希表存储后继和前驱</p>
<p>算法：1.找起点：起点入度为0；2.通过next数组找剩下所有点</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> cases = <span class="number">1</span>; cases &lt;= T; cases++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        unordered_map&lt;string,string&gt; next;<span class="comment">//搜索关键字K是出发地</span></span><br><span class="line">        unordered_set&lt;string&gt; S;<span class="comment">//存目的地</span></span><br><span class="line">        <span class="keyword">while</span>(n--)</span><br><span class="line">        &#123;</span><br><span class="line">            string a,b;</span><br><span class="line">            cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            next[a] = b;</span><br><span class="line">            S.<span class="built_in">insert</span>(b);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//找头结点</span></span><br><span class="line">        string head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [a,b]:next)<span class="comment">//这写法属实第一次见了</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!S.<span class="built_in">count</span>(a))<span class="comment">//统计a出现的次数</span></span><br><span class="line">            &#123;</span><br><span class="line">                head = a;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Case #&quot;</span>&lt;&lt;cases&lt;&lt;<span class="string">&quot;: &quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(next[head].<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;head&lt;&lt;<span class="string">&quot;-&quot;</span>&lt;&lt;next[head]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">            head = next[head];<span class="comment">//wow</span></span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="大一数据结构回顾"><a class="markdownIt-Anchor" href="#大一数据结构回顾"></a> 大一数据结构回顾</h5>
<h6 id="图"><a class="markdownIt-Anchor" href="#图"></a> 图</h6>
<p><strong>存储结构</strong>：邻接矩阵，邻接表(头结点+表结点)，有向图的十字链表（多了入度的表），无向图的邻接多重表(类十字链表)</p>
<figure class="third">     
    <img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627201925040.png" alt="image-20220627201925040" style="zoom:20%;" />    
    <img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627202112001.png" alt="image-20220627202112001" style="zoom:22%;" />    
    <img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627202143221.png" alt="image-20220627202143221" style="zoom:22%;" />
</figure>
<h6 id="哈希表"><a class="markdownIt-Anchor" href="#哈希表"></a> 哈希表</h6>
<p>由<strong>关键字K</strong>检索数据元素(对象)时，数据元素(对象)的存储地址可以由函数H(K)直接计算得到，这样可 以大大加快查找速度。若查找表中的所有数据元素均 存储到函数H(K)指定的地址，称为哈希(Hash)表。时间复杂度为O(1)</p>
<h5 id="includeunordered_map"><a class="markdownIt-Anchor" href="#includeunordered_map"></a> #include&lt;unordered_map&gt;</h5>
<p>概念：unordered_map是一个将key和value关联起来的容器，它可以高效的根据单个key值查找对应的value。key值应该是唯一的，key和value的数据类型可以不相同。unordered_map存储元素时是没有顺序的，只是根据key的哈希值，将元素存在指定位置，所以根据key查找单个value时非常高效，平均可以在常数时间内完成。可以使用[]操作符来访问key值对应的value值。</p>
<p>常见操作：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line">unordered_map&lt;string, <span class="type">int</span>&gt; umap; <span class="comment">//表示&lt;K,T&gt;，调用是.first和.second</span></span><br><span class="line">umap.<span class="built_in">insert</span>(Map::<span class="built_in">value_type</span>(<span class="string">&quot;test&quot;</span>, <span class="number">1</span>));<span class="comment">////增</span></span><br><span class="line"><span class="keyword">auto</span> n = umap.<span class="built_in">erase</span>(<span class="string">&quot;test&quot;</span>) <span class="comment">//删</span></span><br><span class="line"><span class="keyword">auto</span> it = umap.<span class="built_in">find</span>(key) <span class="comment">//改</span></span><br><span class="line">	<span class="keyword">if</span>(it != umap.<span class="built_in">end</span>()) it-&gt;second = new_value; </span><br><span class="line">umap.<span class="built_in">find</span>(x) != map.<span class="built_in">end</span>()<span class="comment">//查</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> x:unomap)<span class="comment">//遍历</span></span><br><span class="line">&#123;</span><br><span class="line">	cout&lt;&lt;x.first&lt;&lt;x.second&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="includeunordered_set"><a class="markdownIt-Anchor" href="#includeunordered_set"></a> #include&lt;unordered_set&gt;</h5>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627211014596.png" alt="image-20220627211014596"  />
<h4 id="y佬"><a class="markdownIt-Anchor" href="#y佬"></a> Y佬</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板</span></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;string, string&gt; PSS;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">10010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">PSS P[N];</span><br><span class="line"><span class="type">int</span> R[N];<span class="comment">//记录排序结果</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= T; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        unordered_map&lt;string, <span class="type">int</span>&gt; S,D;<span class="comment">//存起点终点以及他们对应的位置</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; P[i].first;</span><br><span class="line">            cin &gt;&gt; P[i].second;</span><br><span class="line">            S[P[i].first] = i;</span><br><span class="line">            D[P[i].second] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// find the begin</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (D.<span class="built_in">find</span>(P[i].first) == D.<span class="built_in">end</span>())<span class="comment">//在终点里面没有找到起点说明是头</span></span><br><span class="line">            &#123;</span><br><span class="line">                R[<span class="number">0</span>] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i ++ )</span><br><span class="line">            R[i] = S[P[R[i<span class="number">-1</span>]].second];<span class="comment">//找下一机票P的下标--&gt;(起点是上一张机票的终点)</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Case #%d: &quot;</span>, i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; P[R[i]].first &lt;&lt; <span class="string">&quot;-&quot;</span> &lt;&lt; P[R[i]].second &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>绕但好厉害T=T</p>
<h2 id="6_28-放苹果"><a class="markdownIt-Anchor" href="#6_28-放苹果"></a> 6_28: 放苹果</h2>
<p>DFS的题！我会！</p>
<h3 id="题目-3"><a class="markdownIt-Anchor" href="#题目-3"></a> 题目</h3>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20220627225441280.png" alt="image-20220627225441280"  />
<h3 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> step,<span class="type">int</span> res)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(step == n+<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(res == m) count++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;=r[step<span class="number">-1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            r[step] = i;res += i;</span><br><span class="line">            <span class="built_in">dfs</span>(step+<span class="number">1</span>,res);</span><br><span class="line">            r[step] = <span class="number">0</span>;res -= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不输出重复的规定采用的方法是让结果必须升序</p>
<h2 id="7_18-正方形数组"><a class="markdownIt-Anchor" href="#7_18-正方形数组"></a> 7_18: 正方形数组</h2>
<p>本质是去掉重复的全排列</p>
<p>思想：先对输入进行排序（algotithm的sort），设置last变量记录上次该位置的数值，保证（同一节点的）每一层不会出现重复数据</p>
<p>代码</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(step == n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">judgment</span>(result))sum++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> last=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!book[i] &amp;&amp; input[i] != last)</span><br><span class="line">        &#123;</span><br><span class="line">            result[step]=input[i]; book[i] = <span class="number">1</span>;last = input[i];</span><br><span class="line">            <span class="built_in">dfs</span>(step+<span class="number">1</span>);</span><br><span class="line">            book[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是它超时了救命！！！！！！！！！！！！</p>
<p>解决办法：不要排好了再判断，边加就边判断。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(step == n)</span><br><span class="line">    &#123;</span><br><span class="line">        sum++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> last=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!book[i] &amp;&amp; input[i] != last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">judgment</span>(result[step<span class="number">-1</span>],input[i]) || !step)</span><br><span class="line">            &#123;</span><br><span class="line">                result[step]=input[i]; book[i] = <span class="number">1</span>;last = input[i];</span><br><span class="line">                <span class="built_in">dfs</span>(step+<span class="number">1</span>);</span><br><span class="line">                book[i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7_19-伪二叉树"><a class="markdownIt-Anchor" href="#7_19-伪二叉树"></a> 7_19: 伪二叉树</h2>
<h3 id="题"><a class="markdownIt-Anchor" href="#题"></a> 题</h3>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/444444.png" alt="444444" style="zoom:80%;" />
<h3 id="题解-2"><a class="markdownIt-Anchor" href="#题解-2"></a> 题解</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> m,n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (m &gt; n) m /= <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (n &gt; m) n /= <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; m &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="碎碎念"><a class="markdownIt-Anchor" href="#碎碎念"></a> 碎碎念</h3>
<p>不用真的去构建二叉树然后找所有父节点这样子。</p>
<p>构建二叉树的方法：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreeTree</span><span class="params">(node* &amp;root,<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(val &gt; <span class="built_in">max</span>(n,m))</span><br><span class="line">    &#123;</span><br><span class="line">        root = <span class="built_in">CreeNode</span>(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        root = <span class="keyword">new</span> node;</span><br><span class="line">        root-&gt;val = val;</span><br><span class="line">        <span class="built_in">CreeTree</span>(root-&gt;gauche,<span class="number">2</span>*root-&gt;val);</span><br><span class="line">        <span class="built_in">CreeTree</span>(root-&gt;droite,<span class="number">2</span>*root-&gt;val+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>找父节点的方法：1.用哈希表存储所有节点的父节点，根节点的父节点设为nullptr；2.然后利用节点的父节点信息从target节点开始不断往查找，并将当前结点的值存储到ans中，直到查找到nullptr。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//存储所有节点的父节点</span></span><br><span class="line">unordered_map&lt;<span class="type">int</span>, node*&gt; parents;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(node* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;gauche) </span><br><span class="line">    &#123;</span><br><span class="line">        parents[root-&gt;gauche-&gt;val] = root;</span><br><span class="line">        <span class="built_in">dfs</span>(root-&gt;gauche);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;droite)</span><br><span class="line">    &#123;</span><br><span class="line">        parents[root-&gt;droite-&gt;val] = root;</span><br><span class="line">        <span class="built_in">dfs</span>(root-&gt;droite);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findPath</span><span class="params">(node* root,node* target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;ans;</span><br><span class="line">    <span class="keyword">while</span>(target!= <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ans.<span class="built_in">push_back</span>(target-&gt;val);</span><br><span class="line">        target=parents[target-&gt;val];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(),ans.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7_20-约瑟夫环问题"><a class="markdownIt-Anchor" href="#7_20-约瑟夫环问题"></a> 7_20: 约瑟夫环问题</h2>
<h3 id="题-2"><a class="markdownIt-Anchor" href="#题-2"></a> 题</h3>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4mw3cgoz9zw0.png" alt="yaimage" style="zoom:80%;" />
<h3 id="题解-3"><a class="markdownIt-Anchor" href="#题解-3"></a> 题解</h3>
<h4 id="数组实现"><a class="markdownIt-Anchor" href="#数组实现"></a> 数组实现</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">tableaux</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    <span class="type">int</span> a[N]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;<span class="comment">//n表示总人数,m表示报道第几出局</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;<span class="comment">//用来统计出局的人数</span></span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;<span class="comment">//报数</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;sum&lt;n;i++)<span class="comment">//来遍历所有人</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i == n+<span class="number">1</span>) i=<span class="number">1</span>;<span class="comment">//绕了一圈   </span></span><br><span class="line">        <span class="keyword">if</span>(!a[i])<span class="comment">//表示对没有出局的人的操作</span></span><br><span class="line">        &#123;</span><br><span class="line">            k++;</span><br><span class="line">            <span class="keyword">if</span>(k == m)<span class="comment">//出局</span></span><br><span class="line">            &#123;</span><br><span class="line">                a[i]=<span class="number">1</span>;</span><br><span class="line">                sum++;</span><br><span class="line">                cout&lt;&lt;i&lt;&lt;<span class="string">&quot;  &quot;</span>;</span><br><span class="line">                k=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>学习区</category>
        <category>暑假的乱七八糟</category>
      </categories>
      <tags>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGOA_CM1&amp;2</title>
    <url>/2022/09/06/ALGOA_CM1&amp;2/</url>
    <content><![CDATA[<h1 id="algoa_cm12"><a class="markdownIt-Anchor" href="#algoa_cm12"></a> ALGOA_CM1&amp;2</h1>
<p>Algorithmique avancée_CM1&amp;2</p>
<span id="more"></span>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<p><strong>Pourquoi étudier l’algorithmique ?</strong></p>
<ol>
<li>Résoudre plus facilement les problèmes (Problem solving) ;</li>
<li>Ne pas réinventer[再次创作] la roue ;</li>
<li>Produire des programmes :  corrects, efficaces,  et lisibles（可读性）.</li>
</ol>
<p><strong>Pourquoi faire des programmes efficaces ?</strong></p>
<p>Pour optimiser l’utilisation des ressources : temps de calcul, mémoire, énergie.</p>
<p>下面是一个提高算法效率的例子（斐波那契）</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib1</span> (n):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> fib1 (n=<span class="number">1</span>) + fib1(n=<span class="number">2</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib2</span> (n):</span><br><span class="line">    x = <span class="number">1</span></span><br><span class="line">    y = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">2</span> to n:</span><br><span class="line">        y = x + y<span class="comment">#后两个数相加得第三个数</span></span><br><span class="line">        x = y - x<span class="comment">#舍弃第一个数</span></span><br><span class="line">    <span class="keyword">return</span> y</span><br></pre></td></tr></table></figure>
<p><strong>Objectifs du cours</strong></p>
<p>• Prouver la correction de programmes ;</p>
<p>• Analyser leur performance ;</p>
<p>• Connaître et savoir utiliser les principales stratégies génériques de résolution de problèmes (algorithmiques) ;</p>
<p>• Connaître et savoir utiliser les principaux types abstraits（抽象的） ;</p>
<p>• Comprendre le fonctionnement de leurs principales implémentations（实施方法） et leurs limites.</p>
<h2 id="analyse-dalgorithmes"><a class="markdownIt-Anchor" href="#analyse-dalgorithmes"></a> Analyse d’algorithmes</h2>
<h3 id="prouver-des-propriétés"><a class="markdownIt-Anchor" href="#prouver-des-propriétés"></a> Prouver des propriétés</h3>
<p>Propriétés des algorithmes (et programmes)：</p>
<ol>
<li>Propriétés non-fonctionnelles[非功能性属性] : Terminaison, Indices de tableaux, Pointeurs, Débordements[溢出] de capacité, etc.</li>
<li>Propriétés fonctionnelles : le résultat est celui attendu. [结果符合预期]</li>
<li>Performances</li>
</ol>
<p>Prouver des propriétés：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.7amj2y53dcc0.png" alt="yaimage" /></p>
<p>exhaustif:全面，formelles:正式的</p>
<h4 id="invariants-de-boucles循环不变量"><a class="markdownIt-Anchor" href="#invariants-de-boucles循环不变量"></a> Invariants de boucles：循环不变量</h4>
<p>Pour prouver ce type de propriétés[什么属性？] :</p>
<p>​		• Invariants de boucles :</p>
<p>​				• Propriétés inductives[归纳的，电感的，感应的] ;</p>
<p>​				• À prouver par induction[归纳] sur les itérations.</p>
<p>​		• Contrats de type assume-guarantee :</p>
<p>​				• Sous réserve de la précondition[前提条件] X, la postcondition[后置条件] Y est vraie</p>
<p>​				• Version informelle des triplets de Hoare dans la logique du même nom.</p>
<p><strong>源于网上的一些解释</strong></p>
<p>在计算机科学中，循环不变量，是一组在循环体内、每次迭代均保持为真的某种性质，通常被用来证明程序或算法的正确性。</p>
<p>我们使用循环不变量帮助我们理解一个算法为什么是对的。对于一个给定的循环不变量，我们必须遵循以下三个属性：</p>
<ol>
<li>
<p>初始化：在循环的第一次迭代之前，循环不变量为真。</p>
</li>
<li>
<p>保持：如果在循环的一次迭代之前循环不变量为真，那么在下一次迭代之前循环不变量同样为真。</p>
</li>
<li>
<p>终止：当循环结束时，不变量能够提供我们有用的属性，用于帮助我们证实算法是正确的。</p>
</li>
</ol>
<p>当保证前两个属性时，循环不变量在循环的任意迭代之前都满足。注意它与<strong>数学归纳法</strong>的相似性，当你想证明一个属性存在时，你需要证明一个基准和一个归纳步。相应的，我们第一次迭代之前保证不变量成立对应于一个基准，我们在每次迭代之间保证不变量成立对应于一个归纳步。</p>
<p>因为我们用循环不变量证明算法正确性，所以第三个属性或许是最重要的。通常，我们必须保证在循环结束时“循环不变量”和“循环终止条件”同时成立。 这与数学归纳法有所不同。数学归纳法常采用无限的归纳步，而循环不变量的归纳往往随着循环的终止而结束。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1r8ss79uasxs.png" alt="yaimage" /></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3hsdj71pwgo0.png" alt="yaimage" /></p>
<p><strong>EXEMPLE</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3l5dz33os5c0.png" alt="yaimage" /></p>
<p>对于插入算法的12到14行，有如下分析</p>
<p>après la <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">n^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span> itération, on a 0 ≤ j &lt; x</p>
<ol>
<li>
<p>vrai pour n = 0, par la ligne 11 et l’hypothèse x ≥ 1</p>
</li>
<li>
<p>si vrai pour n ≥ 0, alors :</p>
<p>• soit j = 0 (ou A[x] ≤ A[j]), la boucle s’arrête et pas d’itération n + 1 ;</p>
<p>• soit j &gt; 0 (et A[j] &lt; A[x]) et après la ligne 14, au début de l’itération n + 1, on a bien 0 ≤ j &lt; x.</p>
</li>
</ol>
<p><strong>EXERCICE</strong></p>
<p><strong>1.插入排序</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sort</span> (A, n):</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">1</span> to n = <span class="number">1</span>:</span><br><span class="line">        insert(i , A)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">insert</span> (x , A):</span><br><span class="line">    key = A[x]</span><br><span class="line">    j = x - <span class="number">1</span><span class="comment">#j从后往前遍历</span></span><br><span class="line">    <span class="keyword">while</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> A[j] &gt; key:<span class="comment">#比key大的都往后移</span></span><br><span class="line">        A[j + <span class="number">1</span>] = A[j]</span><br><span class="line">        j = j - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">     A[j] = key<span class="comment">#放入key</span></span><br></pre></td></tr></table></figure>
<p>1.quel invariant pour la boucle dans sort ? --回答第n次迭代会发生什么事情，从功能上和参数变化上来考虑</p>
<p>Après <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">k^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span> iteration, les k+1 premieres cases de A sont par ordre croissant.</p>
<p>2.quelles préconditions et postconditions pour insert ?</p>
<p>Après <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">k^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span> appel de insert:</p>
<p>xxxxxxxxxx void tableaux(){    int n,m;    int a[N]={0};    cin&gt;&gt;n&gt;&gt;m;//n表示总人数,m表示报道第几出局    int sum=0;//用来统计出局的人数    int k=0;//报数    for(int i=1;sum&lt;n;i++)//来遍历所有人    {        if(i == n+1) i=1;//绕了一圈           if(!a[i])//表示对没有出局的人的操作        {            k++;            if(k == m)//出局            {                a[i]=1;                sum++;                cout&lt;&lt;i&lt;&lt;&quot;  &quot;;                k=0;            }        }    }    cout&lt;&lt;endl; }C++</p>
<p>​	postconditions: les k+1 permiers triés</p>
<p>3.quel invariant pour le while d’insert ?</p>
<p>après la <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>m</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">m^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span> itération du while:</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>=</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>−</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">j = x -1 - m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span></p>
</li>
<li>
<p>les m éléments d’indice plus grand que j sont &gt; key</p>
</li>
<li>
<p>soit A[j] &gt; key, soit (A[j] &lt;= key et pour tout i&lt;=j, A[i]&lt;=key)</p>
</li>
<li>
<p>soit A’ la valeur de A au début de itération</p>
<p>​	si  $ i &gt; j , A[i+1] = A’[i]$</p>
<p>​	si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><mo>=</mo><mi>j</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><msup><mi>A</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">i &lt;=j, A[i] = A&#x27;[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69862em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></p>
</li>
</ul>
<p><strong>2.Algorithme d’Euclide#相减求最大公约数</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pour a et b strictement positifs</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">euclid</span> (a , b):</span><br><span class="line">    <span class="keyword">while</span> a != b:</span><br><span class="line">        <span class="keyword">if</span> a &gt; b:</span><br><span class="line">            a = a - b</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            b = b - a</span><br><span class="line">	<span class="keyword">return</span> a</span><br></pre></td></tr></table></figure>
<p>On note ai la valeur de a à la n de l’itération i (donc a0 est la valeur initiale) et on définit bi de façon similaire.</p>
<ol>
<li>
<p>Quel invariant de la boucle while pour la correction de l’algorithme?–从功能上解释：Propriétés fonctionnelles : le résultat est celui attendu. [结果符合预期]</p>
<p>​	après <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>i</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">i^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span>  itération:	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">pgcd(a_i,b_i) = pgcd(a,b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">c</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">c</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>Quel invariant de la boucle while pour la terminaison ? --从参数上解释：non-fonctionnelles[非功能性属性] : Terminaison, Indices de tableaux, Pointeurs, Débordements[溢出] de capacité, etc.</p>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>a</mi><mi>i</mi></msub><mo>&lt;</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">0&lt;a_i&lt;a_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> ou <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>b</mi><mi>i</mi></msub><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">0&lt;b_i&lt;b_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>Conclure quand à la terminaison et la correction de l’algorithme en utilisant les deux invariants.</p>
</li>
</ol>
<h5 id="invariants-pour-les-programmes-récursifs"><a class="markdownIt-Anchor" href="#invariants-pour-les-programmes-récursifs"></a> Invariants pour les programmes récursifs</h5>
<p><strong>EXEMPLE:</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pour i &lt; n = len(A)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">maximum</span>(<span class="params">i, A</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="built_in">len</span>(A) - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> A[i]</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(A[i], maximum(i + <span class="number">1</span>, A))</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE:</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pour a et b strictement positifs</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">euclid</span> (a , b):</span><br><span class="line">    <span class="keyword">if</span> a == b:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">if</span> a &gt; b:</span><br><span class="line">            <span class="keyword">return</span> euclid (a - b, b)</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            <span class="keyword">return</span> euclid (a , b - a)</span><br></pre></td></tr></table></figure>
<h5 id="invariants-et-problèmes-insolubles"><a class="markdownIt-Anchor" href="#invariants-et-problèmes-insolubles"></a> Invariants et problèmes insolubles</h5>
<ol>
<li>On peut aussi utiliser les invariants pour démontrer qu’un problème n’a pas de solution ;</li>
<li>L’invariant est satisfait[满足] par les itérations de tout hypothétique algorithme ;</li>
<li>Il n’est pas satisfait par la configuration finale recherchée.</li>
</ol>
<p><strong>EXERCICE:</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2ynpvelt40i0.png" alt="yaimage" /></p>
<p>第一个是奇数不行–&gt;每次循环增加的一个多米洛是2</p>
<p>第二个是缺同色的不行–&gt;每次循环增加的是一黑一白，但棋盘缺了两白色</p>
<h4 id="preuve-automatique-et-indécidabilité不可决定性"><a class="markdownIt-Anchor" href="#preuve-automatique-et-indécidabilité不可决定性"></a> Preuve automatique et indécidabilité[不可决定性]</h4>
<p>Peut-on écrire un programme qui prend un programme quelconque[任何] en entrée et décide s’il a une propriété donnée ?</p>
<p>比如说，我们Écrire un programme qui décide si un programme quelconque s’arrête (sur une entrée donnée).</p>
<p>• Supposons qu’un tel programme existe : on l’appelle H ;</p>
<p>• <em><strong>Pour un programme P et une entrée i donnés, H(P, i) vaut vrai si P s’arrête pour l’entrée i</strong></em> et faux sinon</p>
<p>• Soit le programme H‘ , qui prend en entrée un programme P dont l’entrée est un programme, et défini par :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> H(P,P):</span><br><span class="line">	<span class="keyword">while</span> <span class="literal">True</span>: <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;coin !&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Que se passe-t-il pour l’exécution de H’ pour le programme H’?</p>
<p>H’ est bien un programme qui prend un programme en entrée</p>
<p>• Si l’exécution se termine alors H(H’, H’) est vrai… et on devrait aller dans le while qui ne s’arrête jamais ;</p>
<p>• Si l’exécution ne se termine pas, alors H(H’, H’) est faux… et on devrait s’arrêter en affichant “coin !”.</p>
<p><strong>–&gt;Donc le programme H‘ ne peut pas exister !</strong></p>
<h5 id="indécidable"><a class="markdownIt-Anchor" href="#indécidable"></a> <strong>Indécidable</strong></h5>
<p>Un problème algorithmique dont la réponse est vrai ou faux est appelé problème de décision ;</p>
<p>Un problème de décision pour lequel il n’existe pas d’algorithme qui le résout est dit indécidable ;</p>
<p>Le Théorème de Rice dit (informellement) que toute propriété non-triviale[琐碎，平凡] sur les programmes est indécidable.</p>
<p>下面是3个Indécidable的例子</p>
<p>le 10e problème de Hilbert</p>
<p>不定方程又称丢番图方程[ Une équation diophantienne]的可解性</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2c6qkzpkkgis.png" alt="yaimage" /></p>
<p>Problème de correspondance de Post (PCP)</p>
<p>Machines à deux compteurs</p>
<h3 id="complexité"><a class="markdownIt-Anchor" href="#complexité"></a> Complexité</h3>
<h4 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h4>
<p>La complexité d’un problème est celle du meilleur algorithme[最佳算法] qui le résoud ;</p>
<p>Deux mesures principales : 1 temps de calcul ; 2 mémoire maximale utilisée.</p>
<p>Ces mesures dépendent de l’instance du problème considéré : 1.on mesure en fonction de la taille de l’entrée ; 2. meilleur cas ou pire cas ; 3.cas moyen (espérance) ;</p>
<p>Elles dépendent aussi du modèle de calcul considéré :</p>
<ol>
<li>Informatique théorique : machines de Turing. Par exemple  le problème de décision du voyageur de commerce est <strong>NP-complet</strong></li>
<li>Analyse pratique : modèle RAM. Par exemple  le tri fusion opère[归并排序] en <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></li>
</ol>
<h4 id="machines-de-turing"><a class="markdownIt-Anchor" href="#machines-de-turing"></a> Machines de Turing</h4>
<p><strong>EXEMPLE</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4zdaacozaik0.png" alt="yaimage" /></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220907215638505.png" alt="image-20220907215638505" /></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220907215816206.png" alt="image-20220907215816206" /></p>
<p>负数的补码计算：取反+1</p>
<p><strong>EXERCICE</strong></p>
<p>Écrire une machine de Turing sur l’alphabet {a, b} qui décide si un mot est un palindrome. Par exemple abba ou ababa sont acceptés mais abbaa est rejeté.</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220907215946755.png" alt="image-20220907215946755" /></p>
<p>本质思想还是第一个和最后一个比。</p>
<h5 id="complexité-dune-machine-de-turing"><a class="markdownIt-Anchor" href="#complexité-dune-machine-de-turing"></a> Complexité d’une machine de Turing</h5>
<p>-Les machines de Turing sont le modèle le plus simple d’algorithme</p>
<p>-Un seul type d’instruction, un seul type de données (symbole)</p>
<p>单一指令单一数据类型</p>
<p>-La taille de l’entrée est le nombre de cases initialement non vides</p>
<p>-Les notions de complexité sont simples et naturelles :</p>
<ul>
<li>Complexité temporelle : nombre d’instructions réalisées avant arrêt[执行的指令数]</li>
<li>Complexité spatiale : nombre maximal de cases non vides simultanément[同时最大数量的非空方格]</li>
</ul>
<h5 id="sat"><a class="markdownIt-Anchor" href="#sat"></a> SAT</h5>
<p><strong>quelques classes de complexité des problèmes de décision</strong></p>
<ul>
<li>
<p>PTIME: temps polynomial --&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>​			 existence d’une solution dans un programme linéaire</p>
</li>
<li>
<p>PSPACE: espace polynomial</p>
<p>​				 décider si on peut passer d’un conguration à une autre dans Rush Hour ou Sokoban[独木桥]</p>
</li>
<li>
<p>EXPTIME: temps exponentiel --&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>​				  déterminer si le 1er joueur gagne pour une position de Go[围棋] (en fonction de la taille du plateau)</p>
</li>
<li>
<p>EXPSPACE: espace exponentiel</p>
<p>​					déterminer si 2 expression régulières (simples) ont le même langage <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>a</mi><mo>∗</mo></msup><msup><mi>b</mi><mo>∗</mo></msup><mo>+</mo><mi>c</mi><msup><mo stretchy="false">)</mo><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo>+</mo><mi>c</mi><msup><mo stretchy="false">)</mo><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">(a^*b^*+c)^* = (a+b+c)^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>T</mi><mi>I</mi><mi>M</mi><mi>E</mi><mo>⊂</mo><mi>P</mi><mi>A</mi><mi>P</mi><mi>A</mi><mi>C</mi><mi>E</mi><mo>⊂</mo><mi>E</mi><mi>X</mi><mi>P</mi><mi>T</mi><mi>I</mi><mi>E</mi><mi>M</mi><mo>⊂</mo><mi>E</mi><mi>X</mi><mi>P</mi><mi>S</mi><mi>P</mi><mi>A</mi><mi>C</mi><mi>E</mi><mspace linebreak="newline"></mspace><mi>P</mi><mi>T</mi><mi>I</mi><mi>M</mi><mi>E</mi><mo>⫋</mo><mi>E</mi><mi>X</mi><mi>P</mi><mi>T</mi><mi>I</mi><mi>E</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">PTIME\subset PAPACE \subset EXPTIEM \subset EXPSPACE\\
PTIME\subsetneqq EXPTIEM
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.07864em;vertical-align:-0.28481em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⫋</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span></span></p>
</li>
</ul>
<p><strong>Le problème SAT</strong></p>
<p>布尔可满足性问题: 确定是否存在满足给定布尔公式的解释的问题。</p>
<p>-Entrée: une formule booléenne avec des variables propositionnelles.</p>
<p>-Sortie: existe-t-il une valeur des variables telle que la formule est vraie ?</p>
<p><strong>EXEMPLE</strong>：8皇后问题的SAT表示</p>
<p>Le problème des huit reines : Placer huit reines sur un échiquier telles qu’elles ne soient pas en prise. Comment résoudre ce problème avec le problème SAT ?</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mn>11</mn></msub><mo>∨</mo><msub><mi>X</mi><mn>12</mn></msub><mo>∨</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∨</mo><msub><mi>X</mi><mn>18</mn></msub><mspace linebreak="newline"></mspace><mo>∧</mo><mspace linebreak="newline"></mspace><msub><mi>X</mi><mn>21</mn></msub><mo>∨</mo><msub><mi>X</mi><mn>22</mn></msub><mo>∨</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∨</mo><msub><mi>X</mi><mn>28</mn></msub><mspace linebreak="newline"></mspace><mo>∧</mo><mspace linebreak="newline"></mspace><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mspace linebreak="newline"></mspace><mo>∧</mo><mspace linebreak="newline"></mspace><msub><mi>X</mi><mn>11</mn></msub><mo>=</mo><mi mathvariant="normal">¬</mi><msub><mi>X</mi><mn>22</mn></msub><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mi>X</mi><mn>33</mn></msub><mo>∧</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mi>X</mi><mn>88</mn></msub><mspace linebreak="newline"></mspace><mo>∧</mo><mspace linebreak="newline"></mspace><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">X_{11} \vee X_{12} \vee ... \vee X_{18}\\\land\\X_{21} \vee X_{22} \vee ... \vee X_{28}\\\land\\...\\\land\\
X_{11} = \neg X_{22} \land \neg X_{33} \land ... \land\neg X_{88}\\\land\\...
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∧</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∧</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∧</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∧</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></span></p>
<p><strong>Complexité de SAT</strong></p>
<p>-问题是时间复杂度是EXPTIME: temps exponentiel --&gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>-On peut encoder une partie d’échecs ou de go avec SAT ⇒ mais avec une formule de taille exponentielle !</p>
<p>-Si on donne une valeur des variables, il est  facile  de vérifier que c’est une solution ou non</p>
<p>-De nombreux problèmes utiles ont cette propriété :</p>
<ul>
<li>existence d’un cycle hamiltonien dans un graphe orienté ; #有向图的哈密顿回路[一笔画]</li>
<li>coloration de graphes[着色]</li>
<li>problème du sac-à-dos (Knapsack) [背包问题];</li>
<li>problème des cartons (Bin packing) [装箱问题];</li>
<li>programmation linéaire en nombre entiers (ILP)[整数线性规划].</li>
</ul>
<p>-Pour les étudier : abstraire la recherche de la solution[将问题答案01编码]</p>
<ul>
<li>Permettre à la machine de  deviner[猜想，尝试]  une solution avant de la vérifier ;</li>
<li>Permettre à la machine de se dupliquer[赋值] et vérifier plusieurs candidats en même temps → <strong>Machine non-déterministe</strong></li>
</ul>
<p><strong>Machines de Turing non-déterministes</strong></p>
<p>就是读到的东西一样可能导致不同的操作</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.645vjssa18w0.png" alt="yaimage" /></p>
<p>Dans ce cas, la machine se duplique[自我复制] et chaque copie exécute l’une des possibilités.</p>
<p>La machine accepte si l’<strong>une</strong> des copies atteint l’état accept, mais la machine rejette si <strong>toutes</strong> les copies atteigent l’état reject.</p>
<p><strong>EXEMPLE</strong></p>
<p>Écrire une machine de Turing non-déterministe qui étant donnée une séquence de 0, 1 et x décide s’il existe une valeur de x ∈ {0, 1} telle que la séquence est un palindrome sur {0, 1}.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya77ac358ce7ee46481b3d4f308743137.7jxwce6isrg0.jpg" alt="ya77ac358ce7ee46481b3d4f308743137" /></p>
<h5 id="np"><a class="markdownIt-Anchor" href="#np"></a> NP</h5>
<p><strong>La classe de complexité NP</strong></p>
<p>-Une machine non-déterministe résout SAT en temps polynomial：[PTIME: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>]</p>
<p>-NPTIME (ou NP) : les problèmes qu’on peut résoudre en temps polynomial .</p>
<p>​								 ex. SAT, knapsack, ILP, etc.</p>
<p>-Mais aussi NPSPACE, NEXPTIME, NEXPSPACE, etc.</p>
<p>Le Théorème de Savitch implique que PSPACE = NPSPACE et EXPSPACE = NEXPSPACE.</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo>⊆</mo><mi>N</mi><mi>P</mi><mo>⊆</mo><mi>P</mi><mi>S</mi><mi>P</mi><mi>A</mi><mi>C</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">P ⊆ NP ⊆ PSPACE
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span></span></p>
<p>Une question ouverte importante est P=NP?</p>
<p><strong>Bornes inférieures et complétude</strong></p>
<p>-Soit un problème P tel que :</p>
<ol>
<li>on peut transformer toute instance d’un problème quelconque de la classe de complexité C en une instance de P</li>
<li>la transformation n’est pas trop coûteuse[昂贵] (typiquement polynomiale, ou logarithmique pour PTIME)</li>
</ol>
<p>-P est C-dificile ;</p>
<p>-Si de plus P ∈ C alors P est C-complet ;</p>
<p>-Les problèmes C-complets sont les plus  dificiles  de la classe C ;</p>
<p>-Le Théorème de Cook-Levin dit que <em>SAT est NP-dificile (et donc NP-complet).</em></p>
<p><strong>EXERCICE</strong></p>
<p>Le problème de décision ILP est : étant donnée une intersection de demi-espaces, contient-elle un point entier ? Montrer que ILP est NP-dificile.</p>
<p>证明所有的SAT问题都能转换成ILP问题。</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>任何</mtext><mi>S</mi><mi>A</mi><mi>T</mi><mo>:</mo><msub><mi>X</mi><mn>1</mn></msub><mo>∧</mo><mtext> </mtext><mi mathvariant="normal">¬</mi><msub><mi>X</mi><mn>2</mn></msub><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mi>X</mi><mn>3</mn></msub><mspace linebreak="newline"></mspace><mtext>转化为</mtext><mi>I</mi><mi>L</mi><mi>P</mi><mo>:</mo><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>X</mi><mn>1</mn><mo>&lt;</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>X</mi><mn>2</mn><mo>&lt;</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>X</mi><mn>3</mn><mo>&lt;</mo><mo>=</mo><mn>1</mn><mspace linebreak="newline"></mspace><msub><mi>X</mi><mn>1</mn></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>X</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">任何SAT: X_1 \land \ \neg X_2  \land  \neg X_3\\
转化为ILP:0 &lt;= X1 &lt;= 1, 0&lt;= X2 &lt;= 1 , 0 &lt;= X3 &lt;= 1\\ X_1+(1-X_2)+(1-X_3)&gt;=3
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">任</span><span class="mord cjk_fallback">何</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">转</span><span class="mord cjk_fallback">化</span><span class="mord cjk_fallback">为</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></span></p>
<h4 id="ram"><a class="markdownIt-Anchor" href="#ram"></a> RAM</h4>
<p>Les opérations arithmétiques ont une complexité polynomiale pour une machine de Turing</p>
<p>Idem pour l’accès à une case particulière de la mémoire</p>
<p>Pour l’analyse pratique des algorithmes, on considère un modèle plus réaliste :</p>
<ol>
<li>opérations arithmétiques simples, indexage [索引] (Random access memory), etc. en temps constant#简单的算术运算、索引（随机存取存储器）等，在恒定的时间内进行。</li>
<li>accès direct à des variables (registres) #直接访问变量[寄存器]</li>
<li>contrôle du ot d’exécution (branchements)</li>
<li>types de données classiques à précision innie (en général) #精度不高</li>
</ol>
<p>On peut adapter le modèle en fonction de ce qu’on cherche à mesurer.</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>ALGOA</category>
      </categories>
      <tags>
        <tag>循环不变量</tag>
        <tag>图灵机</tag>
        <tag>SAT</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGOA_CM4&amp;5</title>
    <url>/2022/09/16/ALGOA_CM4&amp;5/</url>
    <content><![CDATA[<h1 id="algoa_cm45"><a class="markdownIt-Anchor" href="#algoa_cm45"></a> ALGOA_CM4&amp;5</h1>
<p>Énumeration exhaustive et Backtracking et Diviser pour régner</p>
<span id="more"></span>
<h2 id="énumeration-exhaustive"><a class="markdownIt-Anchor" href="#énumeration-exhaustive"></a> Énumeration exhaustive</h2>
<p><strong>EXEMPLE</strong></p>
<p>Carré magique. Pour n ∈ N&gt;0, placer une fois et une seule chaque nombre de 1 à n^2 dans une grille carrée de taille de côté n de façon à ce que la somme de chaque ligne, chaque colonne, et chaque grande diagonale soit la même.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">carre</span>(<span class="params">C,T,k,n</span>):</span><br><span class="line">    <span class="keyword">if</span> k == n^<span class="number">2</span> <span class="keyword">and</span> test\_carre(C, n):<span class="comment">#递归终止条件</span></span><br><span class="line">        <span class="keyword">return</span> C</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">1</span> to n^<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> T[i]:</span><br><span class="line">            T[i] = true<span class="comment">#标记有没有取过</span></span><br><span class="line">            C[(k / n),(k mod n)]=i<span class="comment">#这里下标很有意思，这样i和j都能取[0..n-1]</span></span><br><span class="line">            carre(C,T,k+<span class="number">1</span>,n)</span><br><span class="line">            T[i]=false<span class="comment">#回退</span></span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.56taz0auu000.png" alt="yaimage" /></p>
<h2 id="backtracking"><a class="markdownIt-Anchor" href="#backtracking"></a> Backtracking</h2>
<p>解空间树，DFS+约束函数</p>
<p><strong>Exemple</strong></p>
<p>八皇后：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">aligned</span>(<span class="params">L,i,j</span>):<span class="comment">#约束函数</span></span><br><span class="line">    <span class="keyword">for</span> (k,l) <span class="keyword">in</span> L:</span><br><span class="line">        <span class="keyword">if</span> k==i <span class="keyword">or</span> l == j <span class="keyword">or</span> <span class="built_in">abs</span>(k-i) == <span class="built_in">abs</span>(l - j):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">queen</span>(<span class="params">L,i,n</span>):</span><br><span class="line">    <span class="keyword">if</span> i==n:</span><br><span class="line">        <span class="keyword">return</span> L</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">1</span> to n-<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> aligned(L,i,j):</span><br><span class="line">                L2 = L</span><br><span class="line">                L2 = L2 ++ [(i,j)]</span><br><span class="line">                queen(L2,i+<span class="number">1</span>,n)</span><br><span class="line">     <span class="keyword">return</span> []</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE:</strong></p>
<ol>
<li>
<p>Trouver des valeurs de x, y, z et w pour satisfaire cette formule de 3-SAT par backtracking : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>∨</mo><mi>z</mi><mo>∨</mo><mi>w</mi><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi>x</mi><mo>∨</mo><mi>y</mi><mo>∨</mo><mi mathvariant="normal">¬</mi><mi>w</mi><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>x</mi><mo>∨</mo><mi mathvariant="normal">¬</mi><mi>y</mi><mo>∨</mo><mi>w</mi><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>x</mi><mo>∨</mo><mi mathvariant="normal">¬</mi><mi>y</mi><mo>∨</mo><mi>z</mi><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>x</mi><mo>∨</mo><mi mathvariant="normal">¬</mi><mi>w</mi><mo stretchy="false">)</mo><mo>∧</mo><mi mathvariant="normal">¬</mi><mi>z</mi></mrow><annotation encoding="application/x-tex">(x ∨ z ∨ w) ∧ (x ∨ y ∨ ¬w) ∧ (¬x ∨ ¬y ∨ w) ∧ (¬x ∨ ¬y ∨ z) ∧ (¬x ∨ ¬w) ∧ ¬z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.19444em;"></span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.19444em;"></span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></p>
<p>X=0,Y=1,W=1,Z=0 OU X=1,Y=0,W=0,Z=0</p>
</li>
<li>
<p>Le voyage du cavalier. On considère un échiquier de taille n avec un cavalier sur la case en haut à gauche. On rappelle que le cavalier se déplace de 2 cases dans une direction puis 1 case dans une direction orthogonale. Écrire un algorithme pour trouver dans quel ordre le cavalier doit visiter les cases de l’échiquier pour les voir toutes exactement une fois.</p>
<p>-se déplace de 2 cases dans une direction puis 1 case dans une direction orthogonale:</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yadcab92fff01923e30b785264c8c05c5.5lj1hb3ohjk0.jpg" alt="yadcab92fff01923e30b785264c8c05c5" style="zoom:50%;" />
</li>
</ol>
<p>​		-老师写的算法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">moves</span>(<span class="params">B,i,j</span>):</span><br><span class="line">    n = <span class="built_in">len</span>(B)</span><br><span class="line">    deps = [(<span class="number">2</span>,<span class="number">1</span>),(-<span class="number">2</span>,<span class="number">1</span>),(<span class="number">2</span>,-<span class="number">1</span>),(-<span class="number">2</span>,-<span class="number">1</span>),(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">1</span>,-<span class="number">2</span>),(-<span class="number">1</span>,<span class="number">2</span>),(-<span class="number">1</span>,-<span class="number">2</span>)]</span><br><span class="line">    L = []</span><br><span class="line">    <span class="keyword">for</span> (x,y) <span class="keyword">in</span> deps:</span><br><span class="line">        <span class="keyword">if</span> i+x &gt;= <span class="number">0</span> <span class="keyword">and</span> i+x &lt; n <span class="keyword">and</span> j+y &gt;= <span class="number">0</span> <span class="keyword">and</span> j+y &lt; n <span class="keyword">and</span> B[i+x][j+y] == <span class="number">0</span>:</span><br><span class="line">            L.append((i+x,j+y))</span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">knight</span>(<span class="params">B,i,j,k</span>):</span><br><span class="line">    <span class="keyword">if</span> k == n*n+<span class="number">1</span>: print_board(B)<span class="comment">#注意终止条件！</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> (x,y) <span class="keyword">in</span> moves(B,i,j):</span><br><span class="line">    		B[x][y]=k</span><br><span class="line">            knight(B,i,j,k+<span class="number">1</span>)</span><br><span class="line">            B[x][y]=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>Diviser pour régner (Divide &amp; Conquer )</p>
<p>Principe général:</p>
<ol>
<li>Diviser en sous-problèmes</li>
<li>Résoudre les sous-problèmes</li>
<li>Combiner les solutions.</li>
</ol>
<p>En général, on parle de  diviser pour régner , quand on divise en (au moins deux) problèmes indépendants identiques au problème initial mais plus petits. Donne naturellement des algorithmes <em>récursifs.</em></p>
<p><strong>EXEMPLE: merge sort</strong></p>
<p>归并排序</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge_sort</span>(<span class="params">A,d,f</span>):</span><br><span class="line">	<span class="keyword">if</span> f - d &gt; <span class="number">1</span> :</span><br><span class="line">        //划分</span><br><span class="line">        m = <span class="built_in">int</span>((f+d)/<span class="number">2</span>)</span><br><span class="line">        merge_sort(A,<span class="number">0</span>,m)</span><br><span class="line">        merge_sort(A,m,f)</span><br><span class="line">        B = A</span><br><span class="line">        </span><br><span class="line">        //合并</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        j = m</span><br><span class="line">        k = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; m <span class="keyword">or</span> j &lt; n:</span><br><span class="line">            <span class="keyword">if</span> j == n <span class="keyword">or</span> B[i]&lt;B[j]<span class="comment">#左半区更小</span></span><br><span class="line">            	A[k] = B[i]</span><br><span class="line">            	i = i+<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                A[k] = B[j]</span><br><span class="line">                j = j + <span class="number">1</span></span><br><span class="line">            k = k + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>时间复杂度分析</p>
<p>T(n) = 2T(n/2) + Θ(n)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.39rz3f74gdy0.png" alt="yaimage" /></p>
<p>a=2,b=2,k=1–&gt;T(n)=Θ(nlogn)</p>
<p><strong>EXERCICE:</strong></p>
<ol>
<li>
<p>Recherche dichotomique. Proposer un algorithme pour la recherche d’un élement dans un tableau trié et donner sa complexité au pire cas.</p>
<p>二分查找</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dicho</span>(<span class="params">A,x,d,f</span>):</span><br><span class="line">    <span class="keyword">if</span> d &gt; f : <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        m = (d+f)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> x == A[m]: <span class="keyword">return</span> m</span><br><span class="line">    	<span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> x &lt; A[m]: <span class="keyword">return</span> dicho(A,x,d,m)</span><br><span class="line">        	<span class="keyword">else</span> : <span class="keyword">return</span> dicho(A,x,m+<span class="number">1</span>,f)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Occurrences. Écrire un algorithme pour compter le nombre d’occurrences d’un élément donné dans un tableau trié et donner sa complexité pire cas.</p>
<p>查找出现的次数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_first</span>(<span class="params">A,x,d,f</span>):</span><br><span class="line">    <span class="keyword">if</span> d &gt;= f : </span><br><span class="line">        <span class="keyword">if</span> A[d] == x: <span class="keyword">return</span> d</span><br><span class="line">    	<span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        m = (d+f)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; A[m] <span class="keyword">or</span> (m &gt; d <span class="keyword">and</span> A[m-<span class="number">1</span>] == x): --这里的m&gt;d等价于f&gt;d，看着没啥必要的样子哎</span><br><span class="line">            <span class="keyword">return</span> find_first(A,x,d,m)</span><br><span class="line">        <span class="keyword">elif</span> x &gt; A[m]: <span class="keyword">return</span> find_first(A,x,m+<span class="number">1</span>,f)</span><br><span class="line">    	<span class="keyword">else</span>: <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_last</span>(<span class="params">A,x,d,f</span>):</span><br><span class="line">    <span class="keyword">if</span> d &gt;= f : </span><br><span class="line">        <span class="keyword">if</span> A[d] == x: <span class="keyword">return</span> d</span><br><span class="line">    	<span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        m = (d+f)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; A[m]: <span class="keyword">return</span> find_last(A,x,d,m)</span><br><span class="line">        <span class="keyword">elif</span> x &gt; A[m] <span class="keyword">or</span> (m &lt; f <span class="keyword">and</span> A[m-<span class="number">1</span>] == x): --这里的m&gt;f也等价于f&gt;d，看着也没啥必要的样子</span><br><span class="line">        	<span class="keyword">return</span> find_last(A,x,m+<span class="number">1</span>,f)</span><br><span class="line">    	<span class="keyword">else</span>: <span class="keyword">return</span> m</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>多米诺棋盘覆盖问题</p>
<p>用一个L型骨牌覆盖这3个较小棋盘的会合处，从而将原问题转化为4个较小规模的棋盘覆盖问题。递归地使用这种划分策略，直至将棋盘分割为1×1的子棋盘。每次都对分割后的四个小方块进行判断，判断特殊方格是否在里面。这里的判断的方法是每次先记录下整个大方块的左上角（top left coner）方格的行列坐标，然后再与特殊方格坐标进行比较，就可以知道特殊方格是否在该块中。如果特殊方块在里面，这直接递归下去求即可，如果不在，则根据分割的四个方块的不同位置，把右下角、左下角、右上角或者左上角的方格标记为特殊方块，然后继续递归。</p>
<p>C++版</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//tr,tc表示棋盘左上角</span></span><br><span class="line"><span class="comment">//dr,dc表示表示特殊方格</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ChessBoard</span><span class="params">(<span class="type">int</span> tr , <span class="type">int</span> tc , <span class="type">int</span> dr , <span class="type">int</span> dc , <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(size == <span class="number">1</span>)<span class="keyword">return</span>;<span class="comment">//棋盘只有一个方格其是特殊方格</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> number = ++t;<span class="comment">//L型骨牌号</span></span><br><span class="line">    <span class="type">int</span> s = size/<span class="number">2</span>;<span class="comment">//划分棋盘</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖左上角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &lt; tr+s &amp;&amp; dc&lt;tc+s)<span class="comment">//特殊方格在左上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s<span class="number">-1</span>][tc+s<span class="number">-1</span>]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc,tr+s<span class="number">-1</span>,tc+s<span class="number">-1</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖右上角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &lt; tr+s &amp;&amp; dc &gt;= tc+s)<span class="comment">//特殊方格在右上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc+s,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖左下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s<span class="number">-1</span>][tc+s]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc+s,tr+s<span class="number">-1</span>,tc+s,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖左下角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &gt;= tr+s &amp;&amp; dc&lt;tc+s)<span class="comment">//特殊方格在左下角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右上角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s][tc+s<span class="number">-1</span>]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s ,tc,tr+s,tc+s<span class="number">-1</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖右下角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &gt;= tr+s &amp;&amp; dc&gt;=tc+s)<span class="comment">//特殊方格在左上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc+s,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s][tc+s]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc+s,tr+s,tc+s,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a = 4 , b = 2 , k = 1</p>
</li>
<li>
<p>Pesées. On a n pièces de monnaies dont une exactement est fausse et plus légère que les autres. On dispose d’une balance de type Roberval ou à éau : en une pesée on peut déterminer si un ensemble de pièces est plus lourd qu’un autre. Écrire un algorithme pour trouver la pièce fausse à l’aide de la balance et donner sa complexité au pire cas. On représente les pièces par un tableau de poids et on veut l’indice de la pièce fausse. On dispose d’une fonction compare(A, d1, f1, d2, f2) qui renvoit −1, 0 ou 1 si la somme des poids des pièces aux indices d1 jusqu’à f1 est respectivement plus petite, égale, ou plus grande que celle des pièces de d2 à f2</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pesses</span>(<span class="params">A,d,f</span>):</span><br><span class="line">    <span class="keyword">if</span> d &gt; f : <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> d == f : <span class="keyword">return</span> d</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        m = (d+f)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> compare(A,<span class="number">0</span>,m,m+<span class="number">1</span>,f) == -<span class="number">1</span> :</span><br><span class="line">            <span class="keyword">return</span> pesses(A,<span class="number">0</span>,m)</span><br><span class="line">        <span class="keyword">elif</span> compare(A,<span class="number">0</span>,m,m+<span class="number">1</span>,f) == <span class="number">1</span> :</span><br><span class="line">            <span class="keyword">return</span> pesses(A,m,f)</span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Tri rapide (quick sort). Si on choisit un élément du tableau (le pivot), on peut partionner les autres éléments en ceux qui sont plus petits, et ceux qui sont plus grands que le pivot. En exploitant ce principe, proposer un algorithme de tri d’un tableau et donner sa complexité au pire cas</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">quicksort</span> (A, d, f ):</span><br><span class="line">    <span class="keyword">if</span> d &lt; f :</span><br><span class="line">        p =  partition (A, d, f )</span><br><span class="line">        quick_sort(A, d, p-<span class="number">1</span>)</span><br><span class="line">        quick_sort(A, p+<span class="number">1</span>, f)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">partition</span> (A, d, f ):</span><br><span class="line">     p = random_int(d, f)</span><br><span class="line">     swap(A, f , p)</span><br><span class="line">	 j = d</span><br><span class="line">     <span class="keyword">for</span> i = d to f - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> A[i] ≤ A[f]:</span><br><span class="line">             swap(A, j , i )</span><br><span class="line">             j = j + <span class="number">1</span></span><br><span class="line">         swap(A, j , f )</span><br><span class="line">        <span class="keyword">return</span> j</span><br></pre></td></tr></table></figure>
<p>a = 2,b=,k=1</p>
</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>ALGOA</category>
      </categories>
      <tags>
        <tag>回溯</tag>
        <tag>分治</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGOA_CM3</title>
    <url>/2022/09/16/ALGOA_CM3/</url>
    <content><![CDATA[<h1 id="algoa_cm3"><a class="markdownIt-Anchor" href="#algoa_cm3"></a> ALGOA_CM3</h1>
<p>Complexité asymptotique et Algorithmes probabilistes</p>
<span id="more"></span>
<h2 id="complexité-asymptotique"><a class="markdownIt-Anchor" href="#complexité-asymptotique"></a> Complexité asymptotique</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.55jionrwrv00.png" alt="yaimage" /></p>
<p>对O，Ω，Θ等的一些理解</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.cnt0wffk680.png" alt="yaimage" /></p>
<h3 id="exemple"><a class="markdownIt-Anchor" href="#exemple"></a> EXEMPLE</h3>
<p><strong>求解插入排序在最坏情况下的时间复杂度</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4gy4pe204zy0.png" alt="yaimage" /></p>
<h3 id="exercice"><a class="markdownIt-Anchor" href="#exercice"></a> <strong>EXERCICE</strong></h3>
<p><strong>求解下面两个算法的时间复杂度</strong></p>
<ol>
<li>
<p>On veut évaluer en un point x un polynôme de degré n en donné par la liste A de ses coefficients. On considère deux approches :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">naive</span>(<span class="params">A,x,n</span>):</span><br><span class="line">    s = [<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">1</span> to n:</span><br><span class="line">        p = A[i]</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">1</span> to i:</span><br><span class="line">            p = p*x</span><br><span class="line">        s = s+p</span><br><span class="line">     <span class="keyword">return</span> s</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">horner</span>(<span class="params">A,x,n</span>):</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i = n downto <span class="number">0</span>:</span><br><span class="line">        s = s*x + A[i]</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>
<p>Calculer proprement la complexité des deux approches.</p>
<p>naive:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>2</mn><mo>∗</mo><mi>n</mi><mo>+</mo><msubsup><mo>∑</mo><mn>1</mn><mi>n</mi></msubsup><msubsup><mo>∑</mo><mn>1</mn><mi>i</mi></msubsup><mn>1</mn><mo>=</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>n</mi><mo>+</mo><msubsup><mo>∑</mo><mn>1</mn><mi>n</mi></msubsup><mi>i</mi><mo>=</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>n</mi><mo>+</mo><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>=</mo><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1+2*n+\sum^n_1\sum^i_1 1 = 1 + 2n + \sum^n_1 i = 1 + 2n + n(n-1)/2 = Θ(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.264274em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.964564em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>horner: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mi>n</mi><mo>=</mo><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1+n=Θ(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>Quelle est la complexité du tri par insertion en fonction du nombre d’inversions I (le nombre de couples (i, j) tels que i &lt; j et A[i] &gt; A[j]) et de n ?</p>
<p>移动的次数就是等于翻转对的个数：移动一次就少一个翻转对，直到排序完成</p>
<p>然后需要加上定位到所有位置的一个遍历的复杂度n</p>
<p>O(n+l)</p>
</li>
</ol>
<h2 id="complexité-pire-cas-des-algorithmes-récursifs"><a class="markdownIt-Anchor" href="#complexité-pire-cas-des-algorithmes-récursifs"></a> Complexité pire cas des algorithmes récursifs</h2>
<p>-On peut les résoudre parfois directement :</p>
<ol>
<li>récurrences linéaires à coefficients constants ;</li>
<li>deviner une expression et la prouver[归纳法归纳法] ;</li>
<li>Théorèmes dédiés : Master Theorem (voir divide and conquer), récurrences d’Akra-Bazzi.</li>
</ol>
<p>不能直接解决的那种证明可以用归纳法！</p>
<h3 id="exemple-2"><a class="markdownIt-Anchor" href="#exemple-2"></a> EXEMPLE</h3>
<p>阶乘</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n</span>):</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	eles:</span><br><span class="line">		<span class="keyword">return</span> n * fact(n-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mspace width="1em"/><mi>T</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mo>−</mo><mo>&gt;</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo>=</mo><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n) = T(n-1)+1 \quad T(0)=1 --&gt;  T(n)=n+1=Θ(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<p>fib:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">return</span> fib(n-<span class="number">1</span>)+fib(n-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&gt;</mo><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mspace width="1em"/><mi>e</mi><mi>t</mi><mspace width="1em"/><mi>T</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">T(n+2) = T(n+1) + T(n) +1 &gt;= T(n+1) +T(n) \quad et \quad T(0)=1,T(1)=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220913162101389.png" alt="image-20220913162101389" /></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>&gt;</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x^2-x-1 &gt;= 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 是因为偏微分方程</p>
<h3 id="exercice-2"><a class="markdownIt-Anchor" href="#exercice-2"></a> EXERCICE</h3>
<p>Montrer que la complexité de fib est <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>归纳法归纳法</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>假设</mtext><mspace width="1em"/><mi mathvariant="normal">∃</mi><mi>C</mi><mtext>、</mtext><mi>N</mi><mtext>，</mtext><mi>t</mi><mi>q</mi><mspace width="1em"/><mi mathvariant="normal">∀</mi><mi>n</mi><mo>&gt;</mo><mi>N</mi><mspace width="1em"/><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><mi>c</mi><mo>∗</mo><msup><mn>2</mn><mi>n</mi></msup><mspace linebreak="newline"></mspace><mtext>现在证</mtext><mi>n</mi><mo>+</mo><mn>1</mn><mo>:</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>&lt;</mo><mo>=</mo><msub><mi>c</mi><mn>1</mn></msub><msup><mn>2</mn><mi>n</mi></msup><mo>+</mo><msub><mi>c</mi><mn>2</mn></msub><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><mn>1</mn><mo>&lt;</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>c</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&lt;</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>c</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">假设\quad{\exists} C、N，tq\quad{\forall}n&gt;N\quad f(n)&lt;=c*2^n\\
现在证n+1: f(n+1)=f(n)+f(n-1)+1&lt;=c_12^n+c_22^{n-1}+1&lt;=max(c_1,c_2)2^n&lt;=max(c_1,c_2)2^{n+1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord cjk_fallback">假</span><span class="mord cjk_fallback">设</span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord">∃</span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord">∀</span></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7143919999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord cjk_fallback">现</span><span class="mord cjk_fallback">在</span><span class="mord cjk_fallback">证</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8643919999999999em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.014108em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="complexité-moyenne"><a class="markdownIt-Anchor" href="#complexité-moyenne"></a> Complexité moyenne</h2>
<p>-Pour calculer la complexité moyenne, il faut une <strong>distribution de probabilité[概率分布]</strong> sur les données d’entrée</p>
<p>-On calcule, <strong>l’espérance de la complexité selon cette distribution.[期望]</strong></p>
<h3 id="exemple引例"><a class="markdownIt-Anchor" href="#exemple引例"></a> EXEMPLE:引例</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># on suppose n&gt;0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">maximum</span>(<span class="params">A,n</span>):</span><br><span class="line">    r = A[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">2</span> to n-<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> A[i] &gt; r :</span><br><span class="line">            r = A[i]</span><br><span class="line">    <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure>
<p>Combien de fois le if est-il pris[prendre] ?</p>
<p>-Au pire cas, la liste est triée dans l’ordre ascendant, et le if est pris à chaque fois (n − 1 fois)</p>
<p>Mais en moyenne ?</p>
<p>–但是感觉这里讨论应该是if下面那条交换语句，就不管怎样if都得执行n-1 fois</p>
<h3 id="variables-aléatoires-indicatrices-随机指标变量"><a class="markdownIt-Anchor" href="#variables-aléatoires-indicatrices-随机指标变量"></a> <strong>variables aléatoires indicatrices: 随机指标变量</strong></h3>
<p>-Soit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> la variable aléatoire indicatrice de l’événement <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> =  <em><strong>le if est pris à l’itération i</strong></em></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是随机变量,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示if在第i次迭代被prendre的事件</p>
<p>-Le nombre total de prises est : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>2</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X=\sum^{n-1}_{i=2}X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>-L’espérance de X est donc (linéarité de l’espérance) : $E(X) = \sum^{n-1}_{i=2}E(X_i) $</p>
<p>-Par construction, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> est la probabilité que que l’événement soit vrai : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>X</mi><mi>i</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo><mi>X</mi><mi>i</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo><mo>×</mo><mn>1</mn><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo><mo>×</mo><mn>0</mn><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X_i) = P(E_i)Xi(E_i) + P(¬Ei)Xi(¬Ei) = P(Ei ) × 1 + P(¬Ei ) × 0 = P(Ei )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></p>
<p><strong>Donc : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>2</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X) = \sum^{n-1}_{i=2}P(Ei)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></strong></p>
<p>Reste à calculer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(E_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
<p>有了这些概念再回去看刚刚那个exemple：</p>
<p>-Sans information supplémentaire[进一步的], on suppose que chaque permutation des éléments de A est équiprobable[等效的].</p>
<p>-Pour simplifier, on suppose les éléments de A tous distincts[不同的];</p>
<p>-Comme tous les ordres pour A sont équiprobables :</p>
<p>随时牢记：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示执行第i次迭代的概率</p>
<ol>
<li>il y a autant de séquences avec A[1] &gt; A[0] qu’avec A[1] ≤ A[0] donc <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">P(E_2)=\frac12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li>on peut découper[切出] les séquences possibles en trois groupes de même taille :</li>
</ol>
<ul>
<li>dans les 3 premiers chiffres, le 1er est le plus grand : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">E_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>est faux</li>
<li>2 dans les 3 premiers chiffres, le 2e est le plus grand : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">E_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>est faux 3 dans les</li>
<li>3 premiers chiffres, le 3e est le plus grand : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">E_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> est vrai donc <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">P(E_3)=\frac 13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ul>
<ol start="3">
<li>plus généralement, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>i</mi></mfrac></mrow><annotation encoding="application/x-tex">P(E_i)=\frac 1i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
</ol>
<p>-Et finalement <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>2</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mfrac><mn>1</mn><mi>i</mi></mfrac></mrow><annotation encoding="application/x-tex">E(X) = \sum^{n-1}_{i=2}\frac 1i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.299008em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> et donc : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>n</mi><mi>n</mi><mo>+</mo><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X) = lnn+O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>[牛顿欧拉啥的近似]</p>
<h3 id="exercices"><a class="markdownIt-Anchor" href="#exercices"></a> Exercices</h3>
<ol>
<li>
<p>On réalise une permutation aléatoire uniforme de la la liste [1, 2, . . . , n] ? Quel est l’espérance du nombre de points fixes ? (le nombre d’éléments qui sont toujours à la même place).</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>i</mi><mi>n</mi></munderover><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>i</mi><mi>n</mi></munderover><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">E(X)=\sum_i^nP(E_i)=\sum_i^n\frac1n=1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">n</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span></p>
</li>
<li>
<p>On a vu que le nombre d’échanges faits par <strong>le tri par insertion est égal au nombre d’inversions dans le tableau A</strong> : le nombre de couples (i, j) tels que i &lt; j et A[i] &gt; A[j]. Quel est l’espérance du nombre d’inversions si on suppose le tableau A est une permutation aléatoire uniforme de l’ensemble [1, 2, . . . , n] ?</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow><mi>n</mi></munderover><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mspace width="1em"/><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mo>&lt;</mo><mi>j</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mi mathvariant="normal">∣</mi><mi>i</mi><mo>&lt;</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X)=\sum_{i\neq j}^nP(E_{ij})\quad P(E_{ij})=P(i&lt;j)P(E_{ij}|i&lt;j)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.089618em;vertical-align:-1.438221em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel mtight"></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.438221em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>Écrire un algorithme pour trouver un élément dans une liste de longueur n non triée ; Quelles sont les complexités au meilleur cas, au pire cas et en moyenne de cette algorithme ? (Pour la moyenne, on suppose x borné par une valeur N ≥ n)</p>
<p>算法[老师写的真的超级厉害！]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x,A</span>):</span><br><span class="line">    lens = <span class="built_in">len</span>(A)</span><br><span class="line">    find = false</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; lens <span class="keyword">and</span> <span class="keyword">not</span> find:</span><br><span class="line">        <span class="keyword">if</span> x == A[i]:</span><br><span class="line">            find = true</span><br><span class="line">        i++</span><br><span class="line">    <span class="keyword">return</span> find</span><br></pre></td></tr></table></figure>
<p>meilleur cas:1; pire cas: n</p>
<p>en moyenne:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示执行第i次迭代的概率–&gt;1.x n’est pas dans la liste; <a href="http://2.il">2.il</a> y a l’indice i ou après.</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mtext> </mtext><mi>d</mi><mi>a</mi><mi>n</mi><mi>s</mi><mtext> </mtext><mi>l</mi><mi>a</mi><mtext> </mtext><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><mi>d</mi><mi>a</mi><mi>n</mi><mi>s</mi><mtext> </mtext><mi>l</mi><mi>a</mi><mtext> </mtext><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mtext> </mtext><msup><mi>n</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi>e</mi><mi>s</mi><mi>t</mi><mtext> </mtext><mi>p</mi><mi>a</mi><mi>s</mi><mi>d</mi><mi>a</mi><mi>n</mi><mi>s</mi><mtext> </mtext><mi>l</mi><mi>a</mi><mtext> </mtext><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><msup><mi>n</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi>e</mi><mi>s</mi><mi>t</mi><mtext> </mtext><mi>p</mi><mi>a</mi><mi>s</mi><mi>d</mi><mi>a</mi><mi>n</mi><mi>s</mi><mtext> </mtext><mi>l</mi><mi>a</mi><mtext> </mtext><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mrow><mi>n</mi><mo>−</mo><mi>i</mi></mrow><mi>n</mi></mfrac><mo>∗</mo><mfrac><mi>n</mi><mi>N</mi></mfrac><mo>+</mo><mn>1</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mfrac><mi>n</mi><mi>N</mi></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>B</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">¬</mi><mi>B</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(E_i)=P(E_i|x\ dans\ la\ liste)P(x\ dans\ la\ liste) + P(E_i|x\ n&#x27;est\ pas  dans\ la\ liste)P(x\ n&#x27;est\ pas  dans\ la\ liste)\\=\frac{n-i}n*\frac nN+1*(1-\frac nN)\\P(A)=P(A|B)P(B)+P(A|\neg B)*P(\neg B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mspace"> </span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">e</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mspace"> </span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.200664em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.855664em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></p>
</li>
</ol>
<p>​		<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mfrac><mi>i</mi><mi>N</mi></mfrac><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mfrac><mi>n</mi><mrow><mn>2</mn><mi>N</mi></mrow></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X) = \sum^{n}_{i=1}P(Ei)=\sum_{i=1}^n(1-\frac iN)=(n-1)(1-\frac n{2N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.200664em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.855664em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></p>
<h2 id="algorithmes-probabilistes-概率算法"><a class="markdownIt-Anchor" href="#algorithmes-probabilistes-概率算法"></a> Algorithmes probabilistes: 概率算法</h2>
<p>-Pour la complexité, le cas moyen est souvent plus favorable que le pire cas, pour ne pas tomber systématiquement sur des cas défavorables, on peut mélanger aléatoirement les données[为了避免系统地找到不利的案例，可以将数据随机地混合起来]</p>
<p>-Un algorithme probabiliste est un algorithme qui utilise des instructions <em>random</em> ou similaires qui fournsissent leur résultat en suivant une certaine distribution de probabilité ;</p>
<p>-L’exécution d’un algorithme probabiliste est caractérisée par son temps d’exécution attendu[预期执行时间]</p>
<p>-La complexité attendue au pire cas est l’espérance de la complexité quand on résoud les choix non-probabilistes de la façon la plus défavorable ;</p>
<p>-L’espérance du nombre de fois où le if est pris au pire cas dans maximum_alea est O(ln n) quelles que soient les données d’entrée même si elles sont fournies par une entité adverse</p>
<h3 id="exemples"><a class="markdownIt-Anchor" href="#exemples"></a> EXEMPLES</h3>
<ol>
<li>
<p>Monte-Carlo</p>
<p>Les algorithmes de décision de type Monte-Carlo fournissent toujours une réponse mais peuvent se tromper[可能是错误的]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fermat_prime</span>(<span class="params">x,n</span>):</span><br><span class="line">	<span class="keyword">for</span> k = <span class="number">1</span> to n:</span><br><span class="line">        x = random_int(<span class="number">2</span>,n-<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> x^(n-<span class="number">1</span>) != <span class="number">1</span> (mod n):<span class="comment">#1 mod n永远等于0</span></span><br><span class="line">            <span class="keyword">return</span> false<span class="comment">#所以在说x取到0返回flase？</span></span><br><span class="line">    <span class="keyword">return</span> true<span class="comment">#永远vari</span></span><br></pre></td></tr></table></figure>
<p>Pour les problèmes d’optimisation, ils donnent une réponse approchée (typiquement avec une garantie probabiliste[概率保证])</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">eval</span>\_pi(n):<span class="comment"># estimer la valeur de π</span></span><br><span class="line">    r = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span> to n:</span><br><span class="line">        x = random(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        y = random(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> x^<span class="number">2</span>+y^<span class="number">2</span> &lt;= <span class="number">1</span>:<span class="comment">#x,y在圆[(0,0),1]里面</span></span><br><span class="line">            r = r + <span class="number">1</span></span><br><span class="line">     <span class="keyword">return</span> <span class="number">4</span>*r/n <span class="comment">#？？？？？？</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Las Vegas</p>
<p>Les algorithmes de type Las Vegas peuvent échouer à trouver une solution.[可能无法找到解决方案] Mais s’ils en renvoient une elle est correcte.</p>
<p>L’espérance de leur temps d’exécution est finie</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">random_queen</span>(<span class="params">L,i,n</span>):</span><br><span class="line">    <span class="keyword">if</span> i == n:</span><br><span class="line">        <span class="keyword">return</span> L</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        M=[]</span><br><span class="line">        <span class="keyword">for</span> j=<span class="number">1</span> to n-<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> aligned(L,i,j):</span><br><span class="line">                M = M ++ [j]</span><br><span class="line">        j = random_int(<span class="number">0</span>,<span class="built_in">len</span>(M)-<span class="number">1</span>)<span class="comment">#就是说把所有可以的j全加进去然后随机选，不太对怎么觉得len(M)这里</span></span><br><span class="line">        random_queen(L++[(i,j)],i+<span class="number">1</span>,n)</span><br><span class="line">    <span class="keyword">return</span> DO_NOT_KNOW</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="exercices-2"><a class="markdownIt-Anchor" href="#exercices-2"></a> EXERCICES</h3>
<p>1.On dispose d’une fonction <em>biased_random()</em> qui renvoit 1 avec une certaine probabilité p inconnue. Écrire un algorithme qui renvoit 1 avec probabilité 0.5 et 0 avec probabilité 0.5.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> true:</span><br><span class="line">    x = biase_random()</span><br><span class="line">    y = biase_random()</span><br><span class="line">    <span class="keyword">if</span> x != y :</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>
<p>假设P(x=0 et y=1)=r=P(x=1 et y=0)</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>t</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><mo stretchy="false">)</mo><mi>r</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mi>r</mi><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>=</mo><mi>r</mi><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><msup><mo stretchy="false">)</mo><mi>n</mi></msup></mrow><mo>=</mo><mi>r</mi><mo>∗</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">P(ret = 0)=r+(1-2r)r+(1-2r)^2r+..=r\sum_{n=0}^{\infty}{(1-2r)^n}=r*\frac1{1-(1-2r)}=0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span></p>
<p>Donner l’espérance de sa complexité temporelle.</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo>∑</mo><mi>E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(x)=\sum E(X_i)=\sum^{n}_{i=1}P(Ei)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><msup><mo stretchy="false">)</mo><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">P(E_i)=(1-2r)^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo>∑</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>r</mi><msup><mo stretchy="false">)</mo><mi>i</mi></msup><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>r</mi></mrow></mfrac><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>p</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">E(x)=\sum (1-2r)^i=\frac1{2r}=\frac 1{2p(1-p)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">p</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>2.On considère la function suivante :</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">permutation_aleatoire</span>(<span class="params">A, n</span>):</span><br><span class="line">	<span class="keyword">for</span> i = <span class="number">0</span> to n = <span class="number">1</span>:</span><br><span class="line">		 swap(A[i], A[random_int(i,n=<span class="number">1</span>)])</span><br></pre></td></tr></table></figure>
<p>Une k-permutation de A est une séquence qui contient k éléments de A. Si la taille de A est n alors une n-permutation est une permutation.</p>
<ol>
<li>
<p>Démontrer l’invariant suivant de la boucle pour : après l’itération i, les i premiers éléments de A contiennent chaque i-permutation de A avec probabilité <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac {(n-i)!}{n!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span><span class="mclose mtight">!</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p><strong>归纳法归纳法归纳法！！！</strong></p>
<p>soit p une k+1-permutation, p’ le préfixe de longueur k de p</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mtext> </mtext><mi>e</mi><mi>t</mi><mtext> </mtext><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msup><mi>p</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>p</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></mfrac><mo>∗</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow></mfrac><mo>=</mo><mfrac><mrow><mo stretchy="false">[</mo><mi>n</mi><mo>−</mo><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">!</mo></mrow><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow></mfrac><mspace linebreak="newline"></mspace><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>B</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(p&#x27;\ et\ x)=P(x|p&#x27;)P(p&#x27;)=\frac1{n-k}*\frac{(n-k)!}{n!}=\frac{[n-(k+1)]!}{n!}\\
P(AB)=P(A|B)*P(B)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace"> </span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mclose">!</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">!</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>Quel est le résultat de l’algorithme?</p>
<p>就是在做交换但是随机这样子？</p>
</li>
<li>
<p>Quelle est la complexité de l’algorithme ?</p>
<p>Θ(n)</p>
</li>
</ol>
<h2 id="classes-de-complexité-des-algorithmes-probabilistes"><a class="markdownIt-Anchor" href="#classes-de-complexité-des-algorithmes-probabilistes"></a> Classes de complexité des algorithmes probabilistes</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3q80rki6iko.png" alt="yaimage" /></p>
<h2 id="问题集"><a class="markdownIt-Anchor" href="#问题集"></a> 问题集</h2>
<p>rapple: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示执行第i次迭代的概率,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mo>∑</mo><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X) = \sum P(Ei)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></p>
<ol>
<li>
<p>同一个式子是不是可以同时等于O，Ω，Θ</p>
<p>是的，但是一般写Θ，因为它表达的信息能更多</p>
</li>
<li>
<p>P40的插入排序翻转对的问题</p>
<p>移动的次数就是等于翻转对的个数，然后需要加上定位到所有位置的一个遍历的复杂度n，所以是n+l</p>
</li>
<li>
<p>P43的斐波那契<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>2</mn></mfrac><msup><mo stretchy="false">)</mo><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ω((\frac32)^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>P47的ex2</p>
</li>
<li>
<p>P50的pi和随机八皇后</p>
</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>ALGOA</category>
      </categories>
      <tags>
        <tag>时间复杂度</tag>
        <tag>期望</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGOA_CM8</title>
    <url>/2022/11/12/ALGOA_CM8/</url>
    <content><![CDATA[<h1 id="structures-de-données"><a class="markdownIt-Anchor" href="#structures-de-données"></a> Structures de données</h1>
<ol>
<li>Représenter et organiser des collections d’objets ;</li>
<li>Choisir la  bonne  structure de données</li>
<li>Spécialisation sur certaines opérations : types de de données abstraits</li>
<li>Comprendre leurs implémentations[实施方案] possibles :
<ul>
<li>maîtriser[控制] leur complexité</li>
<li>pouvoir les étendre[扩大] avec de nouvelles opérations.</li>
</ul>
</li>
</ol>
<span id="more"></span>
<h2 id="1-tableaux-et-listes"><a class="markdownIt-Anchor" href="#1-tableaux-et-listes"></a> 1. Tableaux et listes</h2>
<p>都是线性的</p>
<p>一些区别</p>
<p>• Tableaux : accès direct, taille fixe<br />
• Listes : structure récursive : tête et queue, accès séquentiel[顺序访问] (en particulier accès direct à la tête) , taille variable</p>
<h3 id="tableaux"><a class="markdownIt-Anchor" href="#tableaux"></a> Tableaux</h3>
<h4 id="implémentation-des-tableaux-adresses-et-pointeurs"><a class="markdownIt-Anchor" href="#implémentation-des-tableaux-adresses-et-pointeurs"></a> Implémentation des tableaux : adresses et pointeurs</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.1dd6yfg3wacg.png" alt="yaimage" /></p>
<p>x est une variable. Elle a un nom (x), un type (entier sur 8 bits), un contenu (2), et une adresse (132)，p est une variable qui contient une adresse，pointeur sur un entier sur 8 bits</p>
<p>取值*和引用[取地址]&amp;</p>
<p>Opération spécifique sur les types pointeurs : le déréférencement，⇒ *p est la variable dont l’adresse est dans p</p>
<p>On a aussi une opération pour obtenir l’adresse d’une variable , ⇒ &amp;x donne l’adresse (de début) de x</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.2crez0q92gpw.png" alt="yaimage" /></p>
<p>这里说p是32bits的pointeur，所以*p是一个贼大的数，2+3x256的3次方=16777218</p>
<p>q是8bits的pointeur，所以*q是3</p>
<h4 id="implémentation-des-tableaux"><a class="markdownIt-Anchor" href="#implémentation-des-tableaux"></a> Implémentation des tableaux</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.4beg1os3po80.png" alt="yaimage" /></p>
<p>A[i] = *(A+n x i)[n是每个元素的taille吗]</p>
<p>关于数组增删查改的复杂度：accès: O(1), insertion: O(n), supression: O(n),insertion/suppression: à la fin O(1)</p>
<h4 id="tableaux-dynamiques"><a class="markdownIt-Anchor" href="#tableaux-dynamiques"></a> Tableaux dynamiques</h4>
<p>Comment ajouter un élément dans un tableau A quand il est plein[满]?</p>
<ol>
<li>Allouer un nouveau tableau plus grand en mémoire ;</li>
<li>Copier l’ancien tableau dans le (début du) nouveau ;</li>
<li>Faire pointer A sur le nouveau tableau ;</li>
<li>Ajouter l’élément.</li>
</ol>
<p>复杂度是O(n)</p>
<p>complexité amortie: si on fait beaucoup d’accès[访问] et peu de redimensionnements[调整], ils sont négligeables[忽略].</p>
<p>coût amorti[平摊分析] : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>c</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\frac 1 n \sum_{k=1}^nc_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">c_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示le coût de l’instruction</p>
<p>Coût amorti : méthode du potentiel  – 平摊分析的势能方法</p>
<p>一些源于wiki上的解释</p>
<p>平摊分析常用于分析资料结构（动态的资料结构），在使用平摊分析前须知道资料结构各种操作所可能发生的时间，并计算出最坏情况下的操作情况并加以平均，得到操作的平均耗费时间。平摊分析只能确保最坏情况性能的每次操作耗费的平均时间，并不能确认平均情况性能。一个简单的例子，一个长度为n的liste，在liste的最后要加入一笔新的资料此时要花费的操作时间为O(n)，此时也是加入新的资料的最糟糕的情况。但是，一个 n 个插入的操作序列仍然可以在 O(n) 的时间内完成，因为剩下的插入可以在常数时间内完成，因此n 个插入可以在 O(n) 的时间内完成。因此每操作的平摊耗费为O(n) / n = O(1)。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.73sv1orc3hw0.png" alt="yaimage" /></p>
<p>ex：</p>
<ol>
<li>
<p>On considère une chaîne de caractères (un tableau) contenant initialement des espaces et suffisamment grande. On dispose<br />
de trois opérations :</p>
<ul>
<li>
<p>Ajouter un caractère à la fin de la chaîne, remplaçant le premier espace (‘a’, …, ‘z’) : O(1)</p>
</li>
<li>
<p>Effacer le dernier caractère (del) O(1)</p>
</li>
<li>
<p>Effacer tous les caractères (clear) : 1 + nb de caractères à effacer = O(n).</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.5obdjaksjjw0.png" alt="yaimage" /></p>
<p>这些个指令数怎么长这样子哦</p>
<p>Plus généralement, le coût d’une séquence de n instructions est O(n). Le coût amorti de clear est donc O(n)/n = O(1), 然后把它记作O˜(1)</p>
</li>
</ul>
</li>
<li>
<p>用势能方法来做clear的平摊分析</p>
<ul>
<li>soit s le nombre de caractères différents d’espace dans la chaine;</li>
<li>on choisit la fonction φ(s)=s+1</li>
<li>Initialement, la chaine est vide donc φ(V0) = 1</li>
<li>Comme il y a toujours au moins 0 caractères dans la chaine on a toujours φ(Vn) ≥ 1 = φ(V0)</li>
<li>Le coût potentiel de la séquence est donc ≥ au coût total de la séquence</li>
<li>On calcule le coût potentiel de chaque opération :
<ul>
<li>si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mi>k</mi></msub><msup><mo>=</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>c</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mn>1</mn><mo>+</mo><mi>φ</mi><mo stretchy="false">(</mo><msub><mi>V</mi><mi>s</mi></msub><mo stretchy="false">)</mo><mo>−</mo><mi>φ</mi><mo stretchy="false">(</mo><msub><mi>V</mi><mrow><mi>s</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mi>s</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>−</mo><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i_k = &#x27;c&#x27;, p_k = 1+φ(V_s)-φ(V_{s-1})=1+(s+1)-s=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.901892em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel">=</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></li>
<li>si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mi>k</mi></msub><mo>=</mo><mi>d</mi><mi>e</mi><mi>l</mi><mo separator="true">,</mo><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mn>1</mn><mo>+</mo><mi>s</mi><mo>−</mo><mo stretchy="false">(</mo><mi>s</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">i_k=del,p_k=1+s-(s+1)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></li>
<li>si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mi>k</mi></msub><mo>=</mo><mi>c</mi><mi>l</mi><mi>e</mi><mi>a</mi><mi>r</mi><mo separator="true">,</mo><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>s</mi><mo stretchy="false">)</mo><mo>+</mo><mn>0</mn><mo>−</mo><mi>s</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i_k=clear,p_k=(1+s)+0-s=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li>
</ul>
</li>
<li>Chaque opération a bien un coût potentiel O(1) donc le coût potentiel total est 0(n), donc le coit aussi O(n) et le coût  amorti de clear est Ö(1).</li>
</ul>
</li>
<li>
<p>On considère l’incrémentation n fois d’un compteur binaire à k chiffres. Exemple pour k = 3, n = 7 : Déterminer le coût pire cas et, par la méthode du potentiel, le coût amorti de chaque incrémentation.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.6ho69md67ac.png" alt="yaimage" /></p>
<p>φ(0) = 0 ; φ(n) = nombre de 1 dans n</p>
<p>si n = 0…0 , 1+(x+1)-x = 2</p>
<p>sinon n = 1…1, p+1+(x-p+1)-x=2</p>
</li>
<li>
<p>Complexité amortie du redimensionnement de tableau. On suppose une séquence d’insertions en n de tableau plus grande que le tableau, on augmente la taille du tableau de k cases quand il est plein, Soit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> le tableau après l’instruction i et <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> sa taille</p>
<ul>
<li>On définit la fonction de potentiel φ(i) = 2i − <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>Coût potentiel des insertions:<br />
• Si $i &lt; s_i : 1 + 2 ∗ (i + 1) − s_{i+1} − (2 ∗ i − s_i ) = 3 \ car\  s_{i+1} = s_i $<br />
• Si $i = s_i : (1 + s_i ) + (2 ∗ (i + 1) − s_{i+1} − (2 ∗ i − s_i ) = 3 + s_i − k \ car\  s_{i+1} = s_i + k $</li>
<li>Avec k = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, on a donc une complexité amortie O˜(1)</li>
</ul>
</li>
</ol>
<h3 id="liste"><a class="markdownIt-Anchor" href="#liste"></a> Liste</h3>
<h3 id="liste-chaînées"><a class="markdownIt-Anchor" href="#liste-chaînées"></a> Liste chaînées</h3>
<p>定义</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.7lh4xaxutsw0.png" alt="yaimage" /></p>
<ul>
<li>Chaque cellule C contient la donnée C.d et un pointeur vers la cellule suivante C.n</li>
<li>Chaque peut se trouver n’importe où en mémoire</li>
<li>Chaque peut se trouver n’importe où en mémoire</li>
<li>增删改查的时间复杂度：accès O(n)，insertion/suppression O(n)，insertion/suppression avec pointeur O(1)</li>
</ul>
<p>insertion/suppression</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># insertion de l&#x27;élément x après la cellule pointée par L</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">insert</span> (L, x ):</span><br><span class="line">    <span class="comment">#On suppose le type enregistrement cell bien défini</span></span><br><span class="line">    <span class="comment">#L&#x27;est un pointeur vers la nouvelle cellule</span></span><br><span class="line">    L<span class="string">&#x27; = memory_alloc(cell)</span></span><br><span class="line"><span class="string">    (*L&#x27;</span>).n = (*L).n</span><br><span class="line">    (*L<span class="string">&#x27;).d = x</span></span><br><span class="line"><span class="string">    (*L).n = L&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># insertion de l&#x27;élément x en tête de la liste pointée par L</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">insert_front</span> (L, x ):</span><br><span class="line">     <span class="comment">#On suppose le type enregistrement cell bien défini</span></span><br><span class="line">     <span class="comment">#L&#x27; est un pointeur vers la nouvelle cellule</span></span><br><span class="line">     L<span class="string">&#x27; = memory_alloc(cell)</span></span><br><span class="line"><span class="string">     (*L &#x27;</span>). n = L</span><br><span class="line">     (*L <span class="string">&#x27;). d = x</span></span><br><span class="line"><span class="string">     return L&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">supp</span>(<span class="params">L</span>):</span><br><span class="line">      L.n = (L.n).n</span><br><span class="line">      <span class="keyword">return</span> L</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">supp1</span>(<span class="params">L,x</span>):</span><br><span class="line">      <span class="keyword">if</span> L.d == x:</span><br><span class="line">      		L = L.n</span><br><span class="line">    		<span class="keyword">return</span> L</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">      	L.n = supp(L.n,x)</span><br><span class="line">      <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>
<h3 id="listes-doublement-chaînées"><a class="markdownIt-Anchor" href="#listes-doublement-chaînées"></a> Listes doublement chaînées</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221105/yaimage.4cw0d6a6fv60.png" alt="yaimage" /></p>
<p>insertion/suppression</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">insert2_after</span> (L,x ):</span><br><span class="line">    <span class="comment">#On suppose le type enregistrement cell bien défini</span></span><br><span class="line">    <span class="comment">#L&#x27; est un pointeur vers la nouvelle cellule</span></span><br><span class="line">    L<span class="string">&#x27; = memory_alloc(cell)</span></span><br><span class="line"><span class="string">    (*L&#x27;</span>).n = (*L).n</span><br><span class="line">    (*L<span class="string">&#x27;).p = L # new !</span></span><br><span class="line"><span class="string">    (*L&#x27;</span>).d = x</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">if</span> (*L).n != ⊥ : <span class="comment"># new !</span></span><br><span class="line">     	(*((*L).n )). p = L<span class="string">&#x27; # new !</span></span><br><span class="line"><span class="string">     (*L).n = L&#x27;</span></span><br><span class="line">     <span class="comment"># si L était la fin de la liste, il faudra mettre à jour</span></span><br><span class="line">     <span class="comment">#le pointeur end</span></span><br><span class="line">     <span class="keyword">return</span> L<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># insertion de l&#x27;</span>élément x avant la cellule pointée par L</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">insert2_before</span> (L,x ):</span><br><span class="line">    <span class="comment">#On suppose le type enregistrement cell bien défini</span></span><br><span class="line">    <span class="comment">#L&#x27; est un pointeur vers la nouvelle cellule</span></span><br><span class="line">    L<span class="string">&#x27; = memory_alloc(cell)</span></span><br><span class="line"><span class="string">    (*L&#x27;</span>).n = L</span><br><span class="line">    (*L<span class="string">&#x27;).p =  (*L).p # new !</span></span><br><span class="line"><span class="string">    (*L&#x27;</span>).d = x</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">if</span> (*L).n != ⊥ : <span class="comment"># new !</span></span><br><span class="line">     	(*((*L).n )).p = L<span class="string">&#x27; # new !</span></span><br><span class="line"><span class="string">     (*L).P = L&#x27;</span></span><br><span class="line">     <span class="comment"># si L était la fin de la liste, il faudra mettre à jour</span></span><br><span class="line">     <span class="comment">#le pointeur end</span></span><br><span class="line">     <span class="keyword">return</span> L<span class="string">&#x27;</span></span><br><span class="line"><span class="string">     </span></span><br><span class="line"><span class="string">def supp2(L):</span></span><br><span class="line"><span class="string">     (L.d).n = L.n</span></span><br><span class="line"><span class="string">     (L.n).d = L.d</span></span><br><span class="line"><span class="string">     return L.d</span></span><br></pre></td></tr></table></figure>
<h2 id="2-files-et-piles"><a class="markdownIt-Anchor" href="#2-files-et-piles"></a> 2. Files et piles</h2>
<p>定义：File : First In First Out (FIFO) 队列，Pile : Last In First Out (LIFO)堆栈，基本操作：insérer / empiler (enqueue / push)，supprimer / dépiler (dequeue / pop), prochain élément / dessus de pile (next / top), vide</p>
<p>ex</p>
<ol>
<li>
<p>La Bataille.</p>
<p>Dans ce jeu de cartes, les 52 cartes sont distribuées entre les deux joueurs et gardées faces cachées. À chaque tour, les deux joueurs retournent la première carte de leur paquet. Le joueur avec la carte la plus forte (on considère uniquement la valeur, pas la couleur) remporte les deux cartes qu’il met au dessous de son paquet (d’abord la sienne puis l’autre). En cas d’égalité, il y a Bataille !. Chaque joueur ajoute la prochaine carte de son paquet face cachée sur sa carte, puis retourne à nouveau la carte du dessus de son paquet. Le joueur avec la carte la plus forte, remporte toutes les cartes qu’il met en dessous de son paquet dans l’ordre (du dessus vers le dessous et comme précédemment). S’il y a encore égalité on répète l’opération autant de fois que nécessaire. À tout moment, un joueur qui ne peut pas jouer perd et son adversaire gagne</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> file_pile <span class="keyword">import</span> File, Pile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bataille</span>(<span class="params">L1, L2</span>):</span><br><span class="line">    <span class="comment"># Q1, Q2 sont des files[队] et P1, P2 sont des piles[堆]</span></span><br><span class="line">    Q1 = File()</span><br><span class="line">    Q2 = File()</span><br><span class="line">    P1 = Pile()</span><br><span class="line">    P2 = Pile()</span><br><span class="line">	</span><br><span class="line">    <span class="comment"># 把牌压入队列</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> L1:</span><br><span class="line">        Q1.enqueue(c)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> L2:</span><br><span class="line">        Q2.enqueue(c)</span><br><span class="line">	<span class="comment">#牌打完退出循环</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> Q1.empty() <span class="keyword">and</span> <span class="keyword">not</span> Q2.empty():</span><br><span class="line">        done = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> done <span class="keyword">and</span> <span class="keyword">not</span> Q1.empty() <span class="keyword">and</span> <span class="keyword">not</span> Q2.empty():</span><br><span class="line">            done = <span class="literal">True</span></span><br><span class="line">            <span class="comment">#翻开自己的底牌</span></span><br><span class="line">            P1.push(Q1.dequeue())</span><br><span class="line">            P2.push(Q2.dequeue())</span><br><span class="line">			</span><br><span class="line">            <span class="comment">#赢两张牌</span></span><br><span class="line">            <span class="keyword">if</span> P1.top() &gt; P2.top():</span><br><span class="line">                <span class="keyword">while</span> <span class="keyword">not</span> P1.empty():</span><br><span class="line">                    Q1.enqueue(P1.pop())</span><br><span class="line">                    Q1.enqueue(P2.pop())</span><br><span class="line">            <span class="keyword">elif</span> P1.top() &lt; P2.top():</span><br><span class="line">                <span class="keyword">while</span> <span class="keyword">not</span> P1.empty():</span><br><span class="line">                    Q2.enqueue(P2.pop())</span><br><span class="line">                    Q2.enqueue(P1.pop())</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#平局的话翻开自己的牌顶</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> Q1.empty() <span class="keyword">and</span> <span class="keyword">not</span> Q2.empty():</span><br><span class="line">                    P1.push(Q1.dequeue())</span><br><span class="line">                    P2.push(Q2.dequeue())</span><br><span class="line">                    done = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> Q1.empty():</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Notation polonaise inversée.</p>
<p>用pile，一旦是符号就弹出2个出来算然后压进去</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">L</span>):</span><br><span class="line">    P = Pile()</span><br><span class="line">	<span class="keyword">for</span> item <span class="keyword">in</span> L:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> is_digit(item):</span><br><span class="line">            P.push(item)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            num1 = P.pop()</span><br><span class="line">            num2 = P.pop()</span><br><span class="line">            P.push(c2i(num1,num2,item))</span><br><span class="line">     <span class="keyword">return</span> P.top()        </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Simuler une file le avec deux piles</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">File</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.contents = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">enqueue</span>(<span class="params">self, x</span>):</span><br><span class="line">        self.contents.append(x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dequeue</span>(<span class="params">self</span>):</span><br><span class="line">        x = self.contents[<span class="number">0</span>]</span><br><span class="line">        self.contents.pop(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">empty</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> self.contents</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Simuler une pile avec deux les files</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Pile</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.contents = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">push</span>(<span class="params">self, x</span>):</span><br><span class="line">        self.contents.append(x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pop</span>(<span class="params">self</span>):</span><br><span class="line">        e = <span class="built_in">len</span>(self.contents) - <span class="number">1</span></span><br><span class="line">        x = self.contents[e]</span><br><span class="line">        self.contents.pop(e)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">top</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.contents[<span class="built_in">len</span>(self.contents) - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">empty</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> self.contents</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Établir, dans les deux cas, la complexité (amortie) des opérations simulées</p>
</li>
</ol>
<p>Derécursification[去递归]</p>
<p>例子：阶乘</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fact</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>: r = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> r = n * fact(n-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fact2</span>(<span class="params">n</span>):</span><br><span class="line">    r = <span class="number">0</span></span><br><span class="line">    W.push(frame(n, <span class="number">0</span>, &amp;r, <span class="number">1</span>, <span class="literal">True</span>))<span class="comment">#W是堆,frame是构造的一个结构体</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> W.empty():</span><br><span class="line">         f = W.top()</span><br><span class="line">         <span class="keyword">if</span> f.grow:<span class="comment">#把所有数压进去</span></span><br><span class="line">            <span class="keyword">if</span> f.n == <span class="number">0</span>:</span><br><span class="line">            	*f.p = <span class="number">1</span></span><br><span class="line">            	W.pop()<span class="comment">#跳到外面的else去做乘法</span></span><br><span class="line">         	<span class="keyword">else</span>:</span><br><span class="line">          		W.top().grow = <span class="literal">False</span></span><br><span class="line">            	W.push(frame(f.n-<span class="number">1</span>, <span class="number">0</span>, &amp;f.r , f.n, <span class="literal">True</span>))</span><br><span class="line">         <span class="keyword">else</span>:<span class="comment">#这里做乘法</span></span><br><span class="line">            *f.p = f.r * f.a<span class="comment">#f.r不都是0了？？？？？，为啥是f.a不直接写f.n</span></span><br><span class="line">            W.pop()</span><br><span class="line">    <span class="keyword">return</span> r  </span><br></pre></td></tr></table></figure>
<h2 id="3-files-de-priorité"><a class="markdownIt-Anchor" href="#3-files-de-priorité"></a> 3. Files de priorité</h2>
<h3 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h3>
<p><strong>Files de priorité：优先队列</strong>，Toujours sortir le plus petit élément de la le，On peut trier la le (typiquement) O(n log2 n)) mais il faut recommencer à chaque insertion (O(n))</p>
<p>**平衡树：**Un arbre est équilibré en hauteur si la hauteur de ses sous-arbre diffère d’au plus 1[任意节点的子树的高度差都小于等于1],  un arbre n-aire équilibré avec m noeuds a une hauteur d’au plus <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mi>m</mi></mrow><annotation encoding="application/x-tex">log_nm</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">m</span></span></span></span>, on construit une structure avec des opérations en O(hauteur).</p>
<p><strong>Tas binaire (binary heap)：</strong> un arbre binaire tel que seul le dernier niveau n’est pas rempli[只有最后一层没满], dans chaque sous-arbre la racine est plus petite que les racines de ses sous-arbres[根节点永远小于子节点]</p>
<p>Tas implicites[隐式]：堆的数据结构是用数组来实现的，Pour un indice i donné–&gt; indice du noeud parent : i-1//2, indice du noeud successeur (fils) gauche : 2i + 1 et droit : 2i + 2</p>
<h3 id="基本操作"><a class="markdownIt-Anchor" href="#基本操作"></a> 基本操作</h3>
<p>关于堆的基本操作：test du vide, insertion d’un  élément，extraction du minimum</p>
<h4 id="insertion"><a class="markdownIt-Anchor" href="#insertion"></a> Insertion</h4>
<p>On ajoute l’élément à la fin, on le fait remonter à sa place le cas échéant[维护堆的性质]. 时间复杂度是O(logn)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">heap_insert</span>(<span class="params">A, x , n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="built_in">len</span>(A) - <span class="number">1</span>:</span><br><span class="line">        error (<span class="string">&quot;heap is full &quot;</span>) <span class="comment">#堆满抛异常</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        A[n] = x</span><br><span class="line">        n = n + <span class="number">1</span><span class="comment">#这里+1干嘛--&gt;说明taille+1吗</span></span><br><span class="line">        heap_fix_up(A, n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">heap_fix_up</span>(<span class="params">A, i</span>):<span class="comment">#从下往上维护堆的性质</span></span><br><span class="line">    p = (i-<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> p ≥ <span class="number">0</span> <span class="keyword">and</span> A[i] &lt; A[p]:</span><br><span class="line">        swap(A, i , p)</span><br><span class="line">        i = p</span><br><span class="line">        p = (i-<span class="number">1</span>)//<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="extraction"><a class="markdownIt-Anchor" href="#extraction"></a> Extraction</h4>
<p>Le minimum est la racine, on le remplace par le dernier élément de l’arbre, on fait descendre cet élément à sa place le cas échéant.  时间复杂度是O(logn)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">heap_extract_min</span>(<span class="params">A, n</span>):</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        error (<span class="string">&quot;heap is empty&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        r = A[<span class="number">0</span>]</span><br><span class="line">        A[<span class="number">0</span>] = A[n-<span class="number">1</span>]</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        heap_fix_down(A, <span class="number">0</span>, n)</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">heap_fix_down</span>(<span class="params">A, i, n</span>)<span class="comment">#从上往下维护堆的性质</span></span><br><span class="line">	done = false</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> done:</span><br><span class="line">        done = true</span><br><span class="line">        k = i</span><br><span class="line">        <span class="comment">#找左右节点更小的</span></span><br><span class="line">        <span class="keyword">if</span> 2i + <span class="number">1</span> &lt; n <span class="keyword">and</span> A[2i + <span class="number">1</span>] &lt; A[k]:</span><br><span class="line">            k = 2i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> 2i + <span class="number">2</span> &lt; n <span class="keyword">and</span> A[2i + <span class="number">2</span>] &lt; A[k]:</span><br><span class="line">            k = 2i + <span class="number">2</span></span><br><span class="line">        <span class="comment">#根节点大就换，然后再往下换</span></span><br><span class="line">        <span class="keyword">if</span> i != k:</span><br><span class="line">            swap(A, i , k)</span><br><span class="line">            i = k</span><br><span class="line">            done = false</span><br></pre></td></tr></table></figure>
<h3 id="tri-par-tas"><a class="markdownIt-Anchor" href="#tri-par-tas"></a> Tri par tas</h3>
<p>时间复杂度，插入加摘2logn，取渐进就是O(logn)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">heapsort</span>(<span class="params">A, n</span>):</span><br><span class="line">    <span class="comment">#把这里看作建堆的过程</span></span><br><span class="line">    <span class="keyword">for</span> i = n//<span class="number">2</span>-<span class="number">1</span> downto <span class="number">0</span>:<span class="comment"># 从最后那个元素的父节点开始维护</span></span><br><span class="line">        heap_fix_down_max(A, i, n)</span><br><span class="line">    <span class="keyword">for</span> i = n - <span class="number">1</span> to <span class="number">1</span>:</span><br><span class="line">        swap(A, <span class="number">0</span>, i )<span class="comment">#不停的把最值放到后面</span></span><br><span class="line">        heap_fix_down_max(A, <span class="number">0</span>, i+<span class="number">1</span>)<span class="comment">#这里咋+1？不应该就是i吗</span></span><br></pre></td></tr></table></figure>
<h2 id="4-ensembles-et-tableaux-associatifs"><a class="markdownIt-Anchor" href="#4-ensembles-et-tableaux-associatifs"></a> 4. Ensembles et tableaux associatifs</h2>
<h3 id="abr"><a class="markdownIt-Anchor" href="#abr"></a> ABR</h3>
<p>定义：Dans tout sous-arbre : la racine du ls gauche (si elle existe) est plus petite que la racine， la racine du ls doit (si elle existe) est plus grande que la racine[左结点小，右节点大]</p>
<p>操作：查找，插入和删除</p>
<p>查找：复杂度是O(hauteur)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">abr_search</span>(<span class="params">A, x</span>):</span><br><span class="line">    <span class="keyword">if</span> A == ⊥:</span><br><span class="line">        <span class="keyword">return</span> false</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> x == (*A).r:</span><br><span class="line">        <span class="keyword">return</span> true</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> x &lt; (*A).r:</span><br><span class="line">        <span class="keyword">return</span> abr_search((*A).g, x)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">return</span> abr_search((*A).d, x)</span><br></pre></td></tr></table></figure>
<p>插入：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">abr_insert</span>(<span class="params">A, x </span>):</span><br><span class="line">    <span class="keyword">if</span> A == ⊥:<span class="comment"># on suppose le type node bien défini</span></span><br><span class="line">        B = memory_alloc(node)</span><br><span class="line">        (*B).r = x</span><br><span class="line">        (*B).g = ⊥</span><br><span class="line">        (*B).d = ⊥</span><br><span class="line">        <span class="keyword">return</span> B</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="keyword">if</span> x &lt; (*A).r:</span><br><span class="line">            (*A).g = abr_insert((*A).g, x)</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            (*A).d = abr_insert((*A).d, x)</span><br><span class="line">         <span class="keyword">return</span> A</span><br></pre></td></tr></table></figure>
<p><strong>删除[未解决]：</strong></p>
<p>两种主要思想：</p>
<ul>
<li>remplacer (* N).r par la valeur (* Y).r et supprimer cette valeur dans le sous-arbre correspondant：用值(*Y).r替换(*N).r，并从相应的子树中删除这个值</li>
<li>remplacer N par Y et recoller les morceaux soigneusement：把N换成Y，然后小心翼翼地把碎片粘在一起</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">abr_min_parent</span>(<span class="params">A, p</span>):</span><br><span class="line">    <span class="keyword">if</span> A.g == <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> p</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> abr_min_parent(A.g, A)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">abr_delete</span>(<span class="params">A, x</span>):</span><br><span class="line">    <span class="keyword">if</span> A != <span class="literal">None</span> :</span><br><span class="line">        <span class="keyword">if</span> x == A.r:</span><br><span class="line">            <span class="keyword">if</span> A.g == <span class="literal">None</span>:<span class="comment">#如果左子树为空，包含了叶子结点的情况</span></span><br><span class="line">                <span class="keyword">return</span> A.d</span><br><span class="line">            <span class="keyword">elif</span> A.d == <span class="literal">None</span>:<span class="comment">#如果右子树为空</span></span><br><span class="line">                <span class="keyword">return</span> A.g</span><br><span class="line">            <span class="keyword">else</span>:<span class="string">&#x27;&#x27;&#x27;最复杂的左右子树都不空的情况--&gt;1.找到该节点的右子树中的最左孩子（也就是右子树中序遍历的第一个节点）</span></span><br><span class="line"><span class="string">           									2、把它的值和要删除的节点的值进行交换</span></span><br><span class="line"><span class="string">           									3、然后删除这个节点即相当于把我们想删除的节点删除了，返回true；&#x27;&#x27;&#x27;</span></span><br><span class="line">                P = abr_min_parent(A.d, A) </span><br><span class="line">                <span class="keyword">if</span> P == A:</span><br><span class="line">                    Y = A.d   <span class="comment"># c&#x27;est directement A.d qui est le min</span></span><br><span class="line">                <span class="keyword">else</span>: </span><br><span class="line">                    Y = P.g   <span class="comment"># Y est le min，Y左子树为空，只有右子树</span></span><br><span class="line">                    Y.d = A.d <span class="comment">#这样不是就包含自己了嘛？？？？？？--&gt;换A和Y和值，</span></span><br><span class="line">                    									  <span class="comment">#然后del(Y):P.g=Y.d</span></span><br><span class="line">          </span><br><span class="line">                Y.g = A.g</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> Y</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> x &lt; A.r:</span><br><span class="line">                A.g = abr_delete(A.g, x)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                A.d = abr_delete(A.d, x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> A</span><br></pre></td></tr></table></figure>
<h3 id="arbres-auto-équilibrantavl"><a class="markdownIt-Anchor" href="#arbres-auto-équilibrantavl"></a> Arbres auto-équilibrant/AVL</h3>
<p>rapple：任意节点的子树的高度差都小于等于1,常见的平衡树有：AVL,2-3树，红黑树，这里就只讨论AVL[二叉平衡搜索树]</p>
<p>定义: Pour tout noeud x, le sous-arbre enraciné en x est équilibré (en hauteur).  --&gt; AVL就是平衡的ABR，平衡因子A.b = hauteur(A.d) - hauteur(A.g)在-1到1之间</p>
<p>Un arbre équilibré en hauteur avec n noeuds a une hauteur O(log2 n)</p>
<p>基本操作: rotation, insertion et suppression,他们3的复杂度都是O(logn)</p>
<ol>
<li>rotations</li>
</ol>
   <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">avl_rotate_left</span>(<span class="params">A</span>):</span><br><span class="line">    R = A.d</span><br><span class="line"></span><br><span class="line">    A.d = R.g</span><br><span class="line"></span><br><span class="line">    R.g = A</span><br><span class="line"></span><br><span class="line">    A.b = A.b - <span class="number">1</span>  </span><br><span class="line">    <span class="comment">#更新平衡因子</span></span><br><span class="line">    <span class="keyword">if</span> R.b &gt; <span class="number">0</span>:</span><br><span class="line">        A.b = A.b - R.b </span><br><span class="line">    R.b = R.b - <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> A.b &lt; <span class="number">0</span>:</span><br><span class="line">        R.b = R.b + A.b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">avl_rotate_right</span>(<span class="params">A</span>):</span><br><span class="line">    R = A.g</span><br><span class="line"></span><br><span class="line">    A.g = R.d</span><br><span class="line"></span><br><span class="line">    R.d = A</span><br><span class="line"></span><br><span class="line">    A.b = A.b + <span class="number">1</span>    </span><br><span class="line">    <span class="keyword">if</span> R.b &lt; <span class="number">0</span>:</span><br><span class="line">        A.b = A.b - R.b </span><br><span class="line"></span><br><span class="line">    R.b = R.b + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> A.b &gt; <span class="number">0</span>:</span><br><span class="line">        R.b = R.b + A.b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">avl_balance</span>(<span class="params">A</span>):</span><br><span class="line">    R = A</span><br><span class="line">    <span class="keyword">if</span> A != <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">if</span> A.b == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> A.d.b &lt; <span class="number">0</span>:</span><br><span class="line">                A.d = avl_rotate_right(A.d)</span><br><span class="line">            </span><br><span class="line">            R = avl_rotate_left(A)</span><br><span class="line">        <span class="keyword">elif</span> A.b == -<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> A.g.b &gt; <span class="number">0</span>:</span><br><span class="line">                A.g = avl_rotate_left(A.g)</span><br><span class="line">            </span><br><span class="line">            R = avl_rotate_right(A)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> R</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>insertion</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">avl_insert</span>(<span class="params">A, x, p, bfu</span>):</span><br><span class="line">    retrace = (p != <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> A == <span class="literal">None</span>:</span><br><span class="line">        B = node(x, p)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> x &lt; A.r:</span><br><span class="line">            A.g = avl_insert(A.g, x, A, -<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            A.d = avl_insert(A.d, x, A, +<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        B = avl_balance(A)</span><br><span class="line">        <span class="keyword">if</span> B.b == <span class="number">0</span>:</span><br><span class="line">            retrace = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> retrace:</span><br><span class="line">        p.b = p.b + bfu</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> B</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>suppression</p>
</li>
</ol>
<h3 id="tables-de-hachage"><a class="markdownIt-Anchor" href="#tables-de-hachage"></a> Tables de hachage</h3>
<p>定义：根据键（Key）而直接访问在内存储存位置的数据结构。也就是说，它通过计算出一个键值的函数，将所需查询的数据映射到表中一个位置来让人访问，这加快了查找速度。这个映射函数称做散列函数，存放记录的数组称做散列表。他的增删改查的复杂度都是O(1)</p>
<p>EX: Chemins. Soit M une matrice de taille m × n contenant des 0 et des 1. On s’intéresse aux chemins qui vont de la case (0, 0) à la case (m − 1, n − 1) en ne passant que par des 1 et en ne se déplaçant que sur une case immédiatement à droite ou en bas. En s’inspirant de la programmation dynamique, donner un algorithme non-récursif qui calcule le nombre de tels chemins</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221106/ya03ad0589d340d4a94c5f3f9862ce606.2el6u2eatejo.jpg" alt="ya03ad0589d340d4a94c5f3f9862ce606" /></p>
<p>Tables de hachage : chaînage</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221106/yaimage.1rlp53dr4dkw.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ht_search</span>(<span class="params">T, x</span>):</span><br><span class="line">    <span class="keyword">return</span> list_search(T[h(x)], x)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ht_insert</span>(<span class="params">T, x</span>):</span><br><span class="line">    T[h(x)] = list_insert_front(T[h(x)])</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ht_delete</span>(<span class="params">T, x</span>):</span><br><span class="line">    list_delete (T[h(x )], x)</span><br></pre></td></tr></table></figure>
<p><strong>complexité</strong>:</p>
<p>Quelle est la complexité pire cas de ces opérations ?</p>
<p>La complexité de l’utilisation de la table dépend de celle de la <strong>recherche</strong>. [操作的复杂度源于查找的复杂度]Pour la suppression : Recherche d’un pointeur sur la cellule contenant x (ou son parent si la liste est simplement chaînée) ; Suppression en O(1) de la cellule en utilisant ce pointeur</p>
<p>La complexité pire cas <strong>ne dépend pas</strong> de la taille m de la table</p>
<p>La complexité moyenne dépend de m et de la qualité de la fonction de hachage : indépendance : ∀x, y, P(h(x)|h(y)) = P(h(x)) ;uniformité : ∀x, P(h(x)) = 1/m</p>
<p>Une fonction de hachage  valeurs dans [0…m − 1] est <strong>universelle</strong> si P(h(x) = h(y)) = 1/m.</p>
<ol>
<li>
<p>Montrer que si h est indépendante et uniforme alors elle est universelle.</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><mi>P</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mtext> </mtext><mi>e</mi><mi>t</mi><mtext> </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo stretchy="false">)</mo><mtext> </mtext><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><mi>P</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>P</mi><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mi>n</mi><mo>∗</mo><mfrac><mn>1</mn><msup><mi>n</mi><mn>2</mn></msup></mfrac><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">P(h(x)=h(y))=\sum_nP(h(x)=a\ et\ h(y)=a)\ =\sum_n P(h(x)=a)*P(h(y)=a)\\=n*\frac 1 {n^2} = \frac 1 n
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mspace"> </span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mspace"> </span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">n</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>En supposant h universelle et qu’on a n éléments dans notre ensemble, quelle est l’espérance du nombre de collisions?</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mrow><mi>x</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>1</mn><mtext> </mtext><mi>s</mi><mi>i</mi><mtext> </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>s</mi><mi>i</mi><mi>n</mi><mi>o</mi><mi>n</mi><mtext> </mtext><mn>0</mn><mspace linebreak="newline"></mspace><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow><mi>x</mi><mo>&lt;</mo><mi>y</mi></mrow></munder><mi>E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>x</mi><mi>y</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow><mi>x</mi><mo>&lt;</mo><mi>y</mi></mrow></munder><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>=</mo><mfrac><mrow><msup><mi>n</mi><mn>2</mn></msup><mo>−</mo><mi>n</mi></mrow><mrow><mn>2</mn><mi>n</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">X_{xy} = 1 \ si\ h(x)=h(y)\ sinon\ 0\\
E(X)=\sum_{x&lt;y}E(X_{xy})=\sum_{x&lt;y}\frac1n=\frac{n^2-n}{2n}=\frac {n-1}2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mspace"> </span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mspace"> </span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord">0</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.4361180000000004em;vertical-align:-1.386113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.386113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.707553em;vertical-align:-1.386113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.386113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">n</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.177108em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord">2</span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>啥哦==</p>
</li>
<li>
<p>Combien de personnes ont leur anniversaire le même jour dans la classe ?</p>
</li>
</ol>
<p>EX</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221106/yaimage.1i5en6k95tmo.png" alt="yaimage" /></p>
<p>好难哦，不想看了</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>ALGOA</category>
      </categories>
      <tags>
        <tag>堆</tag>
        <tag>AVL</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGOA_CM6&amp;7</title>
    <url>/2022/11/12/ALGOA_CM6&amp;7/</url>
    <content><![CDATA[<h1 id="algoa_cm67"><a class="markdownIt-Anchor" href="#algoa_cm67"></a> ALGOA_CM6&amp;7</h1>
<p>programmation dynamique et algorithmes gloutons</p>
<span id="more"></span>
<h2 id="programmation-dynamique"><a class="markdownIt-Anchor" href="#programmation-dynamique"></a> Programmation Dynamique</h2>
<p>子问题不独立–&gt;最优子结构，自下而上的递归</p>
<p>Exemple: Problème du change. On dispose de pièces (autant qu’on veut) de 1, 3, 4, 10, 30 et 40¤. Pour n donné, quel nombre minimum de chaque pièce faut-il pour obtenir n¤ ? Par exemple, pour n = 25, il faut une 2 × 10 + 1 × 4 + 1 × 1. Pour n = 6, il faut 2 × 3.</p>
<p>状态转移方程：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>c</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="right center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>+</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>p</mi><mo>∈</mo><mi>L</mi></mrow></msub><mtext> </mtext><mi>c</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>s</mi><mi>i</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> </mtext><mi>n</mi><mtext> </mtext><mo>&gt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo><mtext> </mtext><mi>s</mi><mi>i</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> </mtext><mi>n</mi><mtext> </mtext><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>+</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mtext> </mtext><mi>s</mi><mi>i</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> </mtext><mi>n</mi><mtext> </mtext><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">c(n) = \left\{
\begin{array}{rcl}
1+min_{p\in L}\ c(n-p), \  si &amp;\ n\ &gt; 0 \\
0, \ si &amp;\ n\ = 0 \\
+\infty, \ si &amp;\ n\ &lt; 0
\end{array}
\right.
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">+</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>代码</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">change</span>(<span class="params">n, L</span>):</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> (math.inf, []) <span class="comment"># inf est un réel...</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">0</span>, [])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        c = math.inf</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> L:</span><br><span class="line">            (x, R) = change(n - p, L)</span><br><span class="line">            <span class="keyword">if</span> x &lt; c:</span><br><span class="line">                c = x </span><br><span class="line">                S = R </span><br><span class="line">                q = p</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span> + c, S + [q])</span><br></pre></td></tr></table></figure>
<p>看不懂嘤嘤嘤</p>
<p>矩阵连乘</p>
<p>将乘积<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub><msub><mi>A</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>A</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">A_iA_{i+1}...A_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>简记为A[i:j],其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的维度计为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∗</mo><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">p_{i-1}*p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.673611em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, 目的是求解A[1:n]的最优解，而一个最优策略也应该是最优的，A[i:j]又从中间插个K，然后问题转化为A[i:k]再加上A[k+1:j]的计算量–&gt;建立状态转移方程：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mi>j</mi><mtext>时</mtext><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo>:</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">i=j时, A[i:j]=A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord cjk_fallback">时</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,然后 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">dp[i,j]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></li>
<li>i&lt;j 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mtext> </mtext><mo stretchy="false">(</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><msub><mi>p</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>p</mi><mi>k</mi></msub><msub><mi>p</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dp[i,j] = min\ (dp[i,k]+dp[k+1,j]+p_{i-1}p_kp_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
<h2 id="algorithmes-gloutons"><a class="markdownIt-Anchor" href="#algorithmes-gloutons"></a> algorithmes gloutons</h2>
<p>子问题可以独立也可以不独立，独立的话能得到全局的最优解</p>
<p>定义</p>
<ul>
<li>
<p>Plutôt pour des problèmes d’optimisation ;</p>
</li>
<li>
<p>Comme dans le backtracking, on décompose le problème en deux :</p>
<p>1.Faire un choix</p>
<p>2.Résoudre le sous-problème resultant de choix.</p>
</li>
<li>
<p>À chaque étape on fait le choix qui optimise localement l’objectif ;</p>
</li>
<li>
<p>On construit donc une seule solution.</p>
</li>
</ul>
<p>子问题最优，不一定能得到全局最优</p>
<p>例题</p>
<ol>
<li>
<p>Choix des activités. Étant donnée une liste d’activités caractérisées par une date de début et une date de n, trouver un ensemble maximum d’activités à faire tel qu’il n’y ait aucun chevauchement.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">activities</span> (D, F, n):</span><br><span class="line"> <span class="comment"># tri selon F</span></span><br><span class="line"> A = sortBy(F, [<span class="number">0.</span>.( n=<span class="number">1</span>)])<span class="comment">#根据F去排序</span></span><br><span class="line"> resultat = [A[<span class="number">0</span>]]<span class="comment">#去选F最小的</span></span><br><span class="line"> date = F[A[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span> i = <span class="number">0</span> to (n=<span class="number">1</span>):</span><br><span class="line"> 	<span class="keyword">if</span> D(A[i]) ≥ date:<span class="comment">#如果这个活动的开始日期小于上一个的结束日期就加</span></span><br><span class="line"> 		date = F(A[i])</span><br><span class="line"> 		resultat = resultat ++ [A[i]]</span><br><span class="line"> <span class="keyword">return</span> resultat</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Un problème d’ordonnancement[调度]. On dispose de n tâches à exécuter. Chaque tâche τi a un temps d’exécution Ci : le temps qu’elle met a s’exécuter en isolation. Le temps de réponse de τi est le temps entre son activation et sa n (incluant les temps d’attente).</p>
<ul>
<li>
<p>On suppose qu’une tâche commencée ne peut pas être interrompue (ordonnancement non-préemptif) et que toutes<br />
les tâches sont activées à l’instant initial. Donner un algorithme qui ordonnance les tâches en minimisant le temps de réponse moyen</p>
<p>一直选任务时间最小的任务</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sjf</span>(<span class="params">C, n</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sorted</span>(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>,n)), key=<span class="keyword">lambda</span> x: C[x])</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>On suppose maintenant l’ordonnancement préemptif[抢占式] : une tâche peut être interrompue le temps que d’autres s’exécutent. Elle reprend là où elle s’était arrêtée quand elle est choisie à nouveau pour s’exécuter. On suppose également que chaque tâche τi a maintenant une date d’activation di qui peut ne pas être 0. Donner un algorithme qui ordonnance les tâches en minimisant le temps de réponse moyen. 我们现在假设抢占式调度[抢占式]：一个任务可以在其他任务运行时被打断。当它再次被选择运行时，它将继续运行。还假设每个任务τi现在有一个激活日期di，这个日期可能不是0。给出一个算法，通过最小化平均响应时间来安排任务。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#找到有新任务准备好的下一个时刻</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">next_srtf</span>(<span class="params">D, t, n</span>):</span><br><span class="line">    m = math.inf</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> D:</span><br><span class="line">        <span class="keyword">if</span> x &lt; m <span class="keyword">and</span> x &gt; t:</span><br><span class="line">            m = x</span><br><span class="line">    <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">srtf</span>(<span class="params">C, D, t, n</span>):<span class="comment">#D表示任务的开始时间，C表示任务的持续时间，n是size</span></span><br><span class="line">    <span class="keyword">if</span> t &lt; math.inf:</span><br><span class="line">        m = math.inf</span><br><span class="line">        k = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n):</span><br><span class="line">            <span class="keyword">if</span> D[x] &lt;= t <span class="keyword">and</span> C[x] &lt; m:</span><br><span class="line">                k = x</span><br><span class="line">                m = C[x]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> k == -<span class="number">1</span>:</span><br><span class="line">            <span class="comment"># on a pas trouvé de tâche à ordonnancer, c&#x27;est fini</span></span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            t2 = next_srtf(D, t, n)</span><br><span class="line"></span><br><span class="line">            <span class="comment">#la tâche en cours sera finie avant la prochaine activation</span></span><br><span class="line">            <span class="keyword">if</span> t2 &gt;= t + C[k]:</span><br><span class="line">                t2 = t + C[k]</span><br><span class="line">                D[k] = math.inf</span><br><span class="line">            C[k] = C[k] - (t2 - t)</span><br><span class="line">            <span class="keyword">return</span> [k] + srtf(C, D, t2, n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> []</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Un autre problème d’ordonnancement. On dispose de n tâches de durée 1 activées à l’instant initial. À chaque tâche τi est associée une échéance di et une pénalité pi : la tâche doit avoir été exécutée avant di , sinon il faut payer la pénalité pi Par exemple. Si on exécute les tâches dans l’ordre des indices on obtient que τ5 et τ7 sont en retard et la pénalité totale est donc 50 + 70 = 120. Modéliser sous la forme d’un matroïde le problème d’obtenir un algorithme calculant un ordonnancement minimisant la pénalité totale.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221106/yaimage.7gske3ju5hk0.png" alt="yaimage" /></p>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>ALGOA</category>
      </categories>
      <tags>
        <tag>动规</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGORITHM-Prem</title>
    <url>/2021/12/06/ALGORITHM-Prem/</url>
    <content><![CDATA[<h1 id="prem"><a class="markdownIt-Anchor" href="#prem"></a> Prem</h1>
<p>问题描述：全排列问题的两种递归实现</p>
<span id="more"></span>
<p>1.DFS(来自啊哈算法一书)</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> step , <span class="type">int</span> n ,<span class="type">int</span> book[] , <span class="type">int</span> a[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (step == n )<span class="comment">//排到第n个数，排列完成</span></span><br><span class="line">	&#123;</span><br><span class="line">		print(a,n);</span><br><span class="line">		<span class="keyword">return</span>;<span class="comment">//【返回之前一步，很重要】</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//每一步的操作</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (!book[i])<span class="comment">//还没有排</span></span><br><span class="line">	&#123;</span><br><span class="line">		a[step] = i+<span class="number">1</span>;</span><br><span class="line">		book[i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//开始排下一个了</span></span><br><span class="line">		dfs(step+<span class="number">1</span>,n,book,a);</span><br><span class="line">				book[i] = <span class="number">0</span>;<span class="comment">//排序完成，回收本次数【！！！】</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DFS：深度优先搜索，这里的DFS不单指图论，理解为一种递归的思想。下一步操作与当下操作是一样的,一直执行，直到符合条件。基本模型为：</p>
<p>void dfs(int step)<br />
{<br />
判断边界(递归结束条件)return;<br />
尝试每一种可能<br />
for(int i = 0 ; i &lt; n ; i++)<br />
{<br />
继续下一步 dfs(step + 1);<br />
}<br />
return ;<br />
}</p>
]]></content>
      <categories>
        <category>SWJTU</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>全排列</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGPR-1</title>
    <url>/2022/02/08/ALGPR-1/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>第一周的算法课都讲了什么T.T</p>
<span id="more"></span>
<h1 id="cm1"><a class="markdownIt-Anchor" href="#cm1"></a> CM1</h1>
<h1 id="td1"><a class="markdownIt-Anchor" href="#td1"></a> TD1</h1>
<p>从字符的匹配开始讲的，说了蛮多伪代码的东西，真难看(bushi</p>
<h2 id="字符的匹配"><a class="markdownIt-Anchor" href="#字符的匹配"></a> 字符的匹配</h2>
<p>貌似没啥，就是熟悉一下子法语书写的伪代码</p>
<h3 id="l"><a class="markdownIt-Anchor" href="#l"></a> L</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables://定义变量</span><br><span class="line">	Caractère:courant//串，定义为字符类型</span><br><span class="line">	Entier:nbL//拿来计数的int</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	nbL &lt;- 0</span><br><span class="line">	courant &lt;- lire()//这里的读是一个个读</span><br><span class="line">	tantque(courant != &#x27;.&#x27;)</span><br><span class="line">		si(courant == &#x27;L&#x27;) </span><br><span class="line">			nbL &lt;- nbL+1</span><br><span class="line">		finsi</span><br><span class="line">		courant &lt;- lire()</span><br><span class="line">	fintanque</span><br><span class="line">	afficher(nbL)//输出</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="le"><a class="markdownIt-Anchor" href="#le"></a> LE</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables:</span><br><span class="line">	Caractère:courant,précédent</span><br><span class="line">	Entier:nbLE</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	nbLE &lt;- 0</span><br><span class="line">	précédent &lt;- &#x27;.&#x27;</span><br><span class="line">	courant &lt;- lire()</span><br><span class="line">	tantque(courant != &#x27;.&#x27;)</span><br><span class="line">		si(courant == &#x27;L&#x27; ET courant = &#x27;E&#x27;) </span><br><span class="line">			nbLE &lt;- nbLE+1</span><br><span class="line">		finsi</span><br><span class="line">		précédent &lt;- courant</span><br><span class="line">		courant &lt;- lire()</span><br><span class="line">	fintanque</span><br><span class="line">	afficher(nbLE)</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="elle"><a class="markdownIt-Anchor" href="#elle"></a> ELLE</h3>
<p>就是把子串固定，然后拿courant去做匹配</p>
<p>以ELELLELLLLEL找ELLE为例</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables:</span><br><span class="line">	Chaine de caractère:courant,motif//motif是子串</span><br><span class="line">	Caractère: c</span><br><span class="line">	Entier: nbMotif	</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	nbMotif &lt;- 0</span><br><span class="line">	afficher(&quot;quel est le motif cherché?&quot;)</span><br><span class="line">	motif &lt;- lire()</span><br><span class="line">	//初始化串为...courant[0]</span><br><span class="line">	pour i de 0 à taille(motif)-2</span><br><span class="line">		courant[i] &lt;- &#x27;.&#x27;</span><br><span class="line">	finpour</span><br><span class="line">	c &lt;- lire()</span><br><span class="line">	courant[taille(motif)-1] &lt;- c</span><br><span class="line">	</span><br><span class="line">	//串变成了...E</span><br><span class="line">	</span><br><span class="line">	tantque(c != &#x27;.&#x27;)</span><br><span class="line">		si (courant = motif)</span><br><span class="line">			nbMotif &lt;- nbMotif+1</span><br><span class="line">		finsi</span><br><span class="line">		//从后往前移</span><br><span class="line">		pour i de 0 à taille(motif)-2</span><br><span class="line">			courant[i] &lt;- courant[i+1]</span><br><span class="line">		finpour</span><br><span class="line">		c &lt;- lire()</span><br><span class="line">		courant[taille(motif)-1] &lt;- c</span><br><span class="line">	fintanque</span><br><span class="line">	</span><br><span class="line">	afficher(nbMotif)</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>妙的！时间复杂度的话N*n，可能比用想的的find函数要好哎</p>
<p>实际写的好艰难,string里面真的好多东西哦:(</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> nbMotif=<span class="number">0</span>;</span><br><span class="line">   string courant,motif;</span><br><span class="line">   cin&gt;&gt;courant;</span><br><span class="line">   cin&gt;&gt;motif;</span><br><span class="line">   <span class="type">size_t</span> p=<span class="number">0</span>;<span class="comment">//注意返回类型</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>((p = courant.<span class="built_in">find</span>(motif,p)) != courant.npos)</span><br><span class="line">    &#123;</span><br><span class="line">        nbMotif++;</span><br><span class="line">        p += motif.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;nbMotif&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="老师的奇妙方法"><a class="markdownIt-Anchor" href="#老师的奇妙方法"></a> 老师的奇妙方法</h3>
<p>用矩阵还是图的知识来实现匹配(example:LE</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables:</span><br><span class="line">	Caractère:c</span><br><span class="line">	Entier: s,ss,x,nbLE</span><br><span class="line">	Tableau d&#x27;Entiers m &lt;- &#123;&#123;0,1,0,2&#125;,&#123;0,1,0,2&#125;&#125;</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	nbLE &lt;- 0</span><br><span class="line">	s &lt;- 0</span><br><span class="line">	tantque(s != 2)</span><br><span class="line">		courant &lt;- lire()</span><br><span class="line">		x &lt;- 0</span><br><span class="line">		si(c == &#x27;L&#x27;) alors x &lt;- 1	finsi</span><br><span class="line">		si(c == &#x27;E&#x27;) alors x &lt;- 2	finsi</span><br><span class="line">		si(c == &#x27;.&#x27;) alors x &lt;- 3	finsi</span><br><span class="line">		</span><br><span class="line">		ss &lt;- m(s,x)</span><br><span class="line">		si (s = 1 ET x = 2) alors nbLE &lt;- nbLE+1 finsi</span><br><span class="line">		s&lt;- ss</span><br><span class="line">	fintanque</span><br><span class="line">	afficher(nbLE)</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>时间复杂度的话应该有两部分，一是在写m矩阵那里，然后是主程序。主程序的时间复杂度的话，有个逐个读的n，然后剩下的话我感觉有m^2。—&gt; ?</p>
<p>矩阵长这样</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220209020654.webp" alt="img" /></p>
<p>好像是在用s和x来表示前后两次的匹配的结果</p>
<p>但感觉就是时间也多了，空间也给浪费了嘛(；′⌒`)</p>
<h2 id="td题"><a class="markdownIt-Anchor" href="#td题"></a> TD题</h2>
<h3 id="题"><a class="markdownIt-Anchor" href="#题"></a> 题</h3>
<p>1.1 Points et polygone (enregistrement)<br />
On souhaite calculer quelques propri´et´es d’un polygone quelconque (p´erim etre, longueur<br />
moyenne des arˆetes, boite englobante). La boite englobante est un rectangle englobant le<br />
polygone de cˆot´es paralleles aux axes. Les sommets du polygone sont donn´es (dans l’ordre<br />
de parcours du p´erimetre) par leurs coordonn´ees r´eelles dans un plan et le nom du point<br />
(caractere).<br />
La liste de coordonn´ees est suppos´ee correcte et n’est lue qu’une seule fois. Exemple de<br />
fichier a lire :<br />
— 1,5 3,7 A<br />
— 6,4 4,6 B<br />
— 5,8 8,3 C<br />
— …<br />
— 1,5 3,7 A (dernier sommet a ne pas ajouter dans la structure de donn´ees)<br />
Les coordonn´ees du dernier sommet sont ´egales a celles du premier. Ce sommet permet<br />
uniquement de d´etecter la fermeture du polygone. Il ne faut pas rentrer ce sommet dans la<br />
structure de donn´ees.<br />
— Proposez une structure de donn´ee pour stocker le polygone,<br />
— Ecrivez l’algorithme principal pour lire le fichier contenant les points du polygone, ´<br />
appeler les fonctions permettant de calculer les propri´et´es demand´ees et afficher les<br />
r´esultats a l’´ecran,<br />
— Ecrivez les fonctions secondaires pour calculer la longueur du p´erim`etre, calculer la ´<br />
longueur moyenne des arˆetes et d´elimiter la boite englobante.</p>
<h3 id="解"><a class="markdownIt-Anchor" href="#解"></a> 解</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Types//应该是在定义结构体</span><br><span class="line">	point: enregistrement</span><br><span class="line">		caratère: nom</span><br><span class="line">		réel: x</span><br><span class="line">		réel: y</span><br><span class="line">	fin_enregistrement</span><br><span class="line">	</span><br><span class="line">	tabPoint: tableau de point</span><br><span class="line"></span><br><span class="line">Algorithme principal Polygone</span><br><span class="line">Variables://定义变量</span><br><span class="line">	tabPoint polygone,boiteEnglobante</span><br><span class="line">	réel périmètre, longMoy</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	polygone &lt;- lirePolygone(&quot;data.txt&quot;)//读文件</span><br><span class="line">	périmètre &lt;- calcuPérimètre(polygone)//周长</span><br><span class="line">	longMoy &lt;- périmètre/taille(polygone)//棱边数</span><br><span class="line">	boiteEnglobante &lt;- calculBoite(polygone)</span><br><span class="line">Fin Algorithme</span><br></pre></td></tr></table></figure>
<h3 id="我想的c"><a class="markdownIt-Anchor" href="#我想的c"></a> 我想的C++</h3>
<p>不知道能不能成</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> Nom;</span><br><span class="line">    <span class="type">float</span> x;</span><br><span class="line">    <span class="type">float</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">distance</span><span class="params">(Point A, Point B)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((A.x-B.x)*(A.x-B.x)+(A.y-B.y)*(A.y-B.y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Polygone</span></span><br><span class="line">&#123;</span><br><span class="line">    vecter&lt;Point&gt; PonitsDePolygone;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="comment">//构造函数</span></span><br><span class="line">    	<span class="built_in">Polygone</span>(Point A)&#123;PonitsDePolygone.<span class="built_in">push</span>(A);&#125;</span><br><span class="line">    	<span class="comment">//拷贝构造 ou 析构？？？？</span></span><br><span class="line">    	<span class="type">float</span> périmè<span class="built_in">tre</span>();</span><br><span class="line">    	<span class="function"><span class="type">int</span> <span class="title">longMoy</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>KMP,CM和未完成的C++就是明天一定</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>ALGORITHM</category>
      </categories>
  </entry>
  <entry>
    <title>ALGORITHM-算法效率</title>
    <url>/2021/12/06/ALGORITHM02/</url>
    <content><![CDATA[<h1 id="算法_第二章__算法效率分析"><a class="markdownIt-Anchor" href="#算法_第二章__算法效率分析"></a> 算法_第二章__算法效率分析</h1>
<h2 id="1算法分析概述"><a class="markdownIt-Anchor" href="#1算法分析概述"></a> 1.算法分析概述</h2>
<p>对算法所需要的两种计算机资源：时间资源和空间资源进行估算。</p>
<span id="more"></span>
<p>目的是为了设计和选择更好的算法</p>
<h3 id="1时间效率"><a class="markdownIt-Anchor" href="#1时间效率"></a> （1）时间效率</h3>
<p>**时间效率：**设输入的元素个数为n,执行该算法的第i步操作记为op（i）,该步骤执行的次数为Cop(i)，则该算法的总执行时间为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>C</mi><mrow><mi>o</mi><mi>p</mi><mi>i</mi></mrow></msub><mo>∗</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\sum_i C_{opi} * C_i(n)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.327674em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p>
<h3 id="2时间复杂性"><a class="markdownIt-Anchor" href="#2时间复杂性"></a> （2）时间复杂性</h3>
<p><strong>时间复杂性：<strong>指执行算法所消耗或占用时间资源的量</strong>【程序步数】</strong></p>
<p>​						在最坏、最好、平均三种情况下的时间复杂度</p>
<h3 id="3例题"><a class="markdownIt-Anchor" href="#3例题"></a> （3）例题</h3>
<p><strong>1.非递归程序</strong>顺序检索：在具有n个元素的数组a[1……n]中找出值等于x的元素的位置</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">template&lt;class Type&gt;</span><br><span class="line"><span class="type">int</span> <span class="title function_">seqSearch</span><span class="params">(Type *a, <span class="type">int</span> n, Type x)</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	  <span class="keyword">if</span> (a[i]==x) <span class="keyword">return</span> i;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最坏：T(n) = n</p>
<p>最好：T(n) = 1</p>
<p>平均：Tavg（n）=sum[p(I)T(I)]</p>
<p>变式：设计一个尽可能高效的算法，在长度为n的一维数组a[n]中查找值最大的元素max和最小的元素min，并分析算法的最好、最坏和平均时间复杂度。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">MaxMin</span><span class="params">(<span class="type">int</span> a[],<span class="type">int</span> n,<span class="type">int</span> &amp;max,<span class="type">int</span> &amp;min)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> I;</span><br><span class="line">  max=min=a[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">     <span class="keyword">if</span>(a[i]&gt;max) max=a[i];</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(a[i]&lt;min) min=a[i];<span class="comment">//【要特别注意这的else！！！】</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>最好：是一个递增的，n-1</p>
<p>最坏：递减，2*（n-1）</p>
<p>平均：假设a中有一半元素比max大，a[i]&gt;max执行n-1次，else语句执行（n-1）/2次------&gt;平均3*（n-1）/2次</p>
<p><strong>2.递归程序的时间复杂性分析</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> <span class="title function_">RSum</span><span class="params">(<span class="type">float</span> <span class="built_in">list</span>[],<span class="type">const</span> <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (n)	<span class="comment">//1</span></span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">return</span> RSum(<span class="built_in">list</span>,n<span class="number">-1</span>)+<span class="built_in">list</span>[n<span class="number">-1</span>];	<span class="comment">//?</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>T(n) = T(n-1)+2[T(0)=2]</p>
<blockquote>
<p><em>程序步骤不能确切反映程序运行的实际时间</em></p>
</blockquote>
<h2 id="2渐进"><a class="markdownIt-Anchor" href="#2渐进"></a> 2.渐进</h2>
<p>定义：只关心f(n)的阶</p>
<p>**大O表示法：**若存在两个正的常数c和n0，对于任意n≥n0，都有T(n)≤c×f(n)，则称f(n)是T(n)的上界，记为：T(n)=O(f(n))</p>
<p>**大Ω表示法：**若存在两个正的常数c和n0，对于任意n≥n0，都有T(n)≥c×g(n)，则称g(n)是T(n)的下界，记为：T(n)= Ω(g(n)</p>
<p>**Θ表示法：**若存在三个正的常数c1、c2和n0，对于任意n≥n0都有c1×f(n)≥T(n)≥c2×f(n)，则称f(n)与T(n)同阶，记为：T(n)=Θ(f(n))</p>
<p>求解方法：</p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \mbox at position 26: …n)\over g(n)}=0\̲m̲b̲o̲x̲{\quad \quad t(…'>\lim_n {t(n)\over g(n)}=0\mbox{\quad \quad t(n)的增长次数比g(n)小}\\
\lim_n {t(n)\over g(n)}=c&gt;0\mbox{\quad \quad t(n)的增长次数和g(n)相同}\\
\lim_n {t(n)\over g(n)}=\infty\mbox{\quad \quad t(n)的增长次数比g(n)大}
</p>
<p>为0时，大O；为无穷时，大Ω；c为Θ</p>
<h2 id="3时间复杂度"><a class="markdownIt-Anchor" href="#3时间复杂度"></a> 3.时间复杂度</h2>
<p>定义：针对指定基本运算，计数算法所做运算次数</p>
<p>例：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x=<span class="number">1</span>;</span><br><span class="line">     <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">         <span class="keyword">for</span>(j=<span class="number">1</span> ; j&lt;=i; j++)</span><br><span class="line">            <span class="keyword">for</span>(k=<span class="number">1</span>; k&lt;=j; k++)</span><br><span class="line">               x++;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行次数为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>i</mi></munderover><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>j</mi></munderover><mn>1</mn><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>i</mi></munderover><mi>j</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mfrac><mrow><mi>i</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac><mo>=</mo><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>2</mn><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mn>2</mn><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><mn>3</mn><msup><mi>n</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>n</mi></mrow><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\sum^n_{i=1}\sum^i_{j=1}\sum^j_{k=1}1=\sum^n_{i=1}\sum^i_{j=1}j=\sum^n_{i=1}{i(i+1)\over2}=[n(n+1)(2n+1)/6+n(n+1)/2]/2 \\
={n^3+3n^2+2n\over6}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.272554em;vertical-align:-1.4137769999999998em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8116690000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8587770000000001em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.347113em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2254460000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8116690000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">]</span><span class="mord">/</span><span class="mord">2</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.177108em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p>
<p>时间复杂度T(n) = O(n^3)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20211206221539.webp" alt="img" /></p>
<h2 id="4递归的高阶方程的数学分析"><a class="markdownIt-Anchor" href="#4递归的高阶方程的数学分析"></a> 4.递归的高阶方程的数学分析</h2>
<p>先化简再计算</p>
<p><strong>例：</strong></p>
<p>1.汉诺塔问题的递归算法的复杂度分析</p>
<p>代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Hanoi</span><span class="params">(<span class="type">int</span> n , A ,B,C)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">1</span>)MoveOne(n,A,B);</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		Hanoi(n<span class="number">-1</span> , A ,C , B);</span><br><span class="line">		MoveOne(n,A,C);</span><br><span class="line">		Hanoi(n<span class="number">-1</span> , B , A , C);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>M(n) = 2M(n-1)+1</p>
<p>M(n) = Θ(2^n)</p>
<p>2.斐波那契</p>
<p>代码：</p>
<p>1.递归实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">Fibonacci1</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(n &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> (n);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> Fibonacci1(n<span class="number">-1</span>)+Fibonacci1(n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A(n) = A(n-1)+A(n-2)+1</p>
<p>2.迭代法</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">Fibonacci2</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> F[n+<span class="number">1</span>];</span><br><span class="line">	F[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	F[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span> ; i &lt;= n ; i++)</span><br><span class="line">		F[i] = F[i<span class="number">-1</span>] + F[i - <span class="number">2</span>];</span><br><span class="line">	<span class="keyword">return</span> F[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度低但空间资源浪费高</p>
<p>A(n) = n - 1 = Θ(n)</p>
<p>3.最优解法</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">Fibonacci3</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> F , Fa , Fb;</span><br><span class="line">    Fa = <span class="number">0</span> ; Fb = <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span> ; i &lt;= n ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        F = Fa + Fb;</span><br><span class="line">        Fb = Fa;</span><br><span class="line">        Fa = F;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>SWJTU</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>时间复杂度</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGPR-3</title>
    <url>/2022/02/21/ALGPR-3/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>ALGPR的第三周</p>
<span id="more"></span>
<h1 id="td"><a class="markdownIt-Anchor" href="#td"></a> TD</h1>
<h2 id="td2_division-euclidienne"><a class="markdownIt-Anchor" href="#td2_division-euclidienne"></a> TD2_Division euclidienne</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">couplEntier qr &lt;- divEuclid(entier n, entier d)</span><br><span class="line">Types</span><br><span class="line">	couplEntiers: enregistrement</span><br><span class="line">		entier: quotient</span><br><span class="line">		entier: reste</span><br><span class="line">	fin_enregistrement</span><br><span class="line">	</span><br><span class="line">Variables</span><br><span class="line">	couplEntiers qr,inter</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	Si(n &lt; d) alors </span><br><span class="line">		qr.reste &lt;- n;</span><br><span class="line">	Sinon</span><br><span class="line">		qr.quotient++;</span><br><span class="line">		divEuclid(n - d , d);</span><br><span class="line">	fin_Si</span><br><span class="line">	retourner qr</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	Si(n &lt; d) alors </span><br><span class="line">		qr.quotient &lt;- 0;</span><br><span class="line">		qr.reste &lt;- n;</span><br><span class="line">	Sinon</span><br><span class="line">		inter &lt;- divEuclid(n - d , d);</span><br><span class="line">		qr.quotient &lt;- inter.quotient + 1;</span><br><span class="line">		qr.reste = inter.reste ;</span><br><span class="line">	fin_Si</span><br><span class="line">	retourner qr</span><br><span class="line">Fin</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="td3_définition"><a class="markdownIt-Anchor" href="#td3_définition"></a> TD3_Définition</h2>
<p>Notion de lien vers une structure de données: ce lien est un type de données à part entière défini par le mot-clé <strong>lien</strong>, suivi du type lié.</p>
<p>Cette notion de lien sera traduite(翻译) en C++ par la notion de <strong>pointeur</strong>（指针）</p>
<ul>
<li>Lien Type_x 1: pour créer ou déclarer un lien sur une variable</li>
<li>contenu(1): pour accéder au contenu du lien 1</li>
</ul>
<p>指针和引用</p>
<p>指针本质也是变量，存储地址。引用本质是取地址。</p>
<p>注：</p>
<ol>
<li>
<p>引用必须初始化，引用不能为空，引用只是别名不是实体</p>
<p>就是说不能这样子 int &amp;n</p>
<p>要这样 int &amp;n = m(m之前定义)</p>
<p>然后in &amp;n = 3这样子也会报错（？）</p>
</li>
<li>
<p>引用没有const</p>
</li>
<li>
<p>引用的自增和指针的自增问题</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> *p,entier;</span><br><span class="line"><span class="type">int</span> &amp;q = entier;</span><br><span class="line">entier=<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">p = &amp;q;</span><br><span class="line">cout&lt;&lt;p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;*p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;&amp;q&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;q&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">*p++;</span><br><span class="line">cout&lt;&lt;p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;*p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;&amp;q&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;q&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">q++;</span><br><span class="line">cout&lt;&lt;p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;*p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;&amp;q&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;q&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">p++;</span><br><span class="line">cout&lt;&lt;p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;*p&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;&amp;q&lt;&lt;<span class="string">&quot;   &quot;</span>&lt;&lt;q&lt;&lt;endl;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220221153634.webp" alt="ya20220221153634" /></p>
<p>指针自增就是还挺多，*运算符的优先级低于右++，然后还有什么移位不安全啥的，看到再说</p>
</li>
</ol>
<p>Exemple</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables</span><br><span class="line">	Lien Entier lienEnt</span><br><span class="line">	Entier n</span><br><span class="line">Début</span><br><span class="line">	lienEnt &lt;- lien(n)</span><br><span class="line">	conteun(lienEnt) &lt;- 5</span><br><span class="line">	afficher(n)</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int *lienEnt,n</span><br><span class="line">lienEnt = &amp;n;</span><br><span class="line">*lienEnt = 5;</span><br><span class="line">cout&lt;&lt;n;</span><br></pre></td></tr></table></figure>
<p>[?]</p>
<ul>
<li>ne transmettre que la valeur de la variable: utiliser le passage par valeur</li>
<li>modifier la valeur originale de la variable: utiliser le passage en partage</li>
</ul>
<h2 id="td3_swap"><a class="markdownIt-Anchor" href="#td3_swap"></a> TD3_Swap</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Variables</span><br><span class="line">	Entier c</span><br><span class="line">Début</span><br><span class="line"> 	c &lt;- a</span><br><span class="line"> 	a &lt;- b</span><br><span class="line"> 	b &lt;- c</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h2 id="td3_swaplienstruct"><a class="markdownIt-Anchor" href="#td3_swaplienstruct"></a> TD3_Swap+lien+struct</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fonction creerArticle</span><br><span class="line">problème : création d&#x27;un novel article</span><br><span class="line">apecification:</span><br><span class="line">	fonction: Lien Article &lt;- creerArticle(r,n,p)</span><br><span class="line">	paramètres: Entier r, VectCar n , Réel p</span><br><span class="line">	résultats: Lien Article 1A</span><br><span class="line">	</span><br><span class="line">Variables</span><br><span class="line">	Lien Article 1A</span><br><span class="line">Début</span><br><span class="line">	1A &lt;- nouveau()</span><br><span class="line">	contenu(1A).reference &lt;- r</span><br><span class="line">	contenu(1A).nom &lt;- n</span><br><span class="line">	contenu(1A).prix &lt;- p</span><br><span class="line">	renvoyer 1A</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>总有地上的菜鸡，敢于直面大佬的开源</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>指针与引用</tag>
      </tags>
  </entry>
  <entry>
    <title>ALGPR-2</title>
    <url>/2022/02/09/ALGPR-2/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>第二周的算法课都讲了什么T.T</p>
<span id="more"></span>
<h1 id="td2"><a class="markdownIt-Anchor" href="#td2"></a> TD2</h1>
<p>尝试在课上直接记blog的第一天</p>
<h2 id="récursivité"><a class="markdownIt-Anchor" href="#récursivité"></a> Récursivité</h2>
<h3 id="calcule-la-puissance-dun-nombre"><a class="markdownIt-Anchor" href="#calcule-la-puissance-dun-nombre"></a> calcule la puissance d’un nombre</h3>
<p>principe_1: calcul récursif pour n != 0,et puissance(x,0)=1</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">entier puissance(entier x,entier n):</span><br><span class="line">Début</span><br><span class="line">	si (n = 0) alors retourner 1//结束递归的跳出条件</span><br><span class="line">	sinon retourner x * pusissance(x,n-1)//递归</span><br><span class="line">	finsi</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>principe_2: par la méthod “diviser pour régner”,et puissance(x,0)=1,et puissance(x,1)=x div étant la division entiere</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Début</span><br><span class="line">	//结束递归的跳出条件</span><br><span class="line">	si (n = 0) </span><br><span class="line">		alors retourner 1</span><br><span class="line">	finsi</span><br><span class="line">	si (n = 1) </span><br><span class="line">		alors retourner x</span><br><span class="line">	finsi</span><br><span class="line">	</span><br><span class="line">	//本质还是在所递归，有减少一些递归的次数</span><br><span class="line">	entier y = puiss2(x, (n div 2))</span><br><span class="line">	si (n mod 2 = 0 ) </span><br><span class="line">		alors retourner y*y</span><br><span class="line">	sinon</span><br><span class="line">		alors retourner x*y*y</span><br><span class="line">	finsi</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>----&gt;<strong>堆栈！</strong></p>
<h3 id="lordre-inversé"><a class="markdownIt-Anchor" href="#lordre-inversé"></a> L’ordre inversé</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">affiche_1(vecteur&lt;entier&gt; w)</span><br><span class="line">Début</span><br><span class="line">	pour i de 0 à taille(w) -1 faire</span><br><span class="line">		écrire(w[i]+&#x27;&#x27;)</span><br><span class="line">	fin_pour</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">affiche_2(vecteur&lt;entier&gt; w,int debut)</span><br><span class="line">Début</span><br><span class="line">	si(debut &lt; taille(w)) alors</span><br><span class="line">		écrire(w[debut]+&#x27;&#x27;)</span><br><span class="line">		affiche_2(w,debut+1)</span><br><span class="line">    fin_si</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">entier debut = taille(w) -1</span><br><span class="line">affiche_inv(vecteur&lt;entier&gt; w,int debut)</span><br><span class="line">Début</span><br><span class="line">	si(debut = -1) exit(0) fin_si</span><br><span class="line">	écrire(w[debut]+&#x27;&#x27;)</span><br><span class="line">	affiche_inv(w,debut-1)</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//可以初始化为0，先递归再输出[妙！]</span><br><span class="line">affiche_inv(vecteur&lt;entier&gt; w,int debut)</span><br><span class="line">Début</span><br><span class="line">	si(debut &lt; taille(w)) alors</span><br><span class="line">		affiche_inv(w,debut-1)</span><br><span class="line">		écrire(w[debut]+&#x27;&#x27;)</span><br><span class="line">	fin_si</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="string的palidrome"><a class="markdownIt-Anchor" href="#string的palidrome"></a> String的palidrome</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Algorithm palindrome</span><br><span class="line">	booléen &lt;- palindrome(string s,int decal)</span><br><span class="line">	</span><br><span class="line">Début</span><br><span class="line">	si(decal &lt; (taille(s)-1)/2)</span><br><span class="line">		si(s[decal] != s[taille(s)-1-decal]) </span><br><span class="line">			retourner FAUX </span><br><span class="line">		sinon</span><br><span class="line">			palindrome(s,decal+1)</span><br><span class="line">		sinon </span><br><span class="line">			retourner VRAI</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>–&gt;用<strong>stack</strong>来实现</p>
<h2 id="reine-et-pions八皇后"><a class="markdownIt-Anchor" href="#reine-et-pions八皇后"></a> Reine et pions(八皇后！)</h2>
<p>题有点怪</p>
<p>先写题</p>
<p>On considère un échiquier de huit cases sur huit comportant huit pions et une reine. Les positions des pions et de la reine sont données dans un fichier sous un format que vous devez définir(selon la structure de données que vous choisissez). La reine peut se déplacer sur les lignes(diagonales; verticale et horizontale) sur lesquelles elle se trouve. On souhaite savoir combien de pions sont en prise(i.e. pouvant êrte pris par la reine). Si deux pions ou plus sont sur la même ligne(diagonale, verticale , horizontale), seul le premier est en prise.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">DFS</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> res[<span class="number">9</span>]</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line">	<span class="keyword">if</span>(step &gt; <span class="number">8</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++) cout&lt;&lt;res[i];</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//尝试每一种可能 </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">     &#123;</span><br><span class="line">         继续下一步 <span class="built_in">dfs</span>(step + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> ;   </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="cm2"><a class="markdownIt-Anchor" href="#cm2"></a> CM2</h1>
<h2 id="gestion-de-la-mémoire内存管理"><a class="markdownIt-Anchor" href="#gestion-de-la-mémoire内存管理"></a> Gestion de la mémoire//内存管理</h2>
<p>Possible de stocker un lien vers une case mémoire</p>
<p>Utile pour :</p>
<p>​			Structures de données (<strong>listes chainées, arbres</strong>)</p>
<p>​			Passage de paramètres：传递参数<br />
​			Allocation de mémoire：配置、地址分配</p>
<p>像是在讲指针的样子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">utilisation &#x27;lien&#x27; :</span><br><span class="line">ExempleLienEntier</span><br><span class="line">variables</span><br><span class="line">	lien entier lienEnt//声明一个lien</span><br><span class="line">	entier ent</span><br><span class="line">Début</span><br><span class="line">	lienEnt ← lien(ent)</span><br><span class="line">	contenu(lienEnt) ← 5</span><br><span class="line">	reçoit la valeur 5//接受</span><br><span class="line">	afficher(ent)</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>关于lien和contenu</p>
<ul>
<li>lien:创造或声明链接</li>
<li>contenu：访问链接的内容</li>
</ul>
<h2 id="structures-de-données-composées"><a class="markdownIt-Anchor" href="#structures-de-données-composées"></a> Structures de données composées</h2>
<ul>
<li>Stockage de plusieurs données dans une seule structure pour：Structurer les données，Faciliter les traitements</li>
<li>Données de même type : listes et arbres//树和表<br />
Données de type quelconque : enregistrements(记录登记)</li>
</ul>
<h3 id="enregistrements"><a class="markdownIt-Anchor" href="#enregistrements"></a> Enregistrements</h3>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220210110243.webp" alt="img" style="zoom:80%;" />
<p>应该是结构体</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">types</span><br><span class="line">	article : Enregistrement</span><br><span class="line">		entier : référence</span><br><span class="line">		réel : prix</span><br><span class="line">		chaine de caractère : libellé</span><br><span class="line">		entier : quantité</span><br><span class="line">	Fin enregistrement</span><br><span class="line">vectArticles : tableau d’article</span><br><span class="line"></span><br><span class="line">variables</span><br><span class="line">article artCour // article courant</span><br><span class="line">entier valeurStock</span><br><span class="line"></span><br><span class="line">artCour.prix &lt;-- lire ()</span><br><span class="line">artCour.libellé &lt;-- lire ()</span><br><span class="line">artCour.quantité &lt;-- lire ()</span><br><span class="line">valeurStock &lt;-- artCour.prix * artCour.quantité</span><br><span class="line">écrire (&quot;La valeur du stock de &quot;, artCour.libellé, &quot; est de : &quot;,valeurStock, &quot; euros&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="structures-linéaires"><a class="markdownIt-Anchor" href="#structures-linéaires"></a> Structures linéaires</h3>
<h4 id="listes"><a class="markdownIt-Anchor" href="#listes"></a> Listes</h4>
<h5 id="définition"><a class="markdownIt-Anchor" href="#définition"></a> Définition</h5>
<p>Ensemble d’éléments de même type liés par une relation de séquentialité</p>
<img src="https://git.poker/nililili7876/blog_pic/blob/main/images/ya20220210110621.webp?raw=true" alt="ya20220210110621" style="zoom:80%;" />
<p>注意一下名字： prédécesseur， successeur</p>
<p>一些关于表的基本操作:插入、删除、测试表是否为空、测表长</p>
<h5 id="tableaux表"><a class="markdownIt-Anchor" href="#tableaux表"></a> Tableaux表</h5>
<p>Accès direct à un élément à l’aide de son indice(下标)</p>
<p>目标算法: Somme(求和), Tris(排序), Présence d’élément(?)</p>
<p>Exemple de définition de types composés</p>
<ul>
<li>tabEnt : Tableau d’entiers</li>
<li>matReels : Tableau de dimension 2 de réels</li>
<li>tab4DEnt : tableau d’entiers de dimension 4</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//检查是否正序</span><br><span class="line">variables</span><br><span class="line">	tabEnt tab</span><br><span class="line">	entier n</span><br><span class="line">	booléen trie</span><br><span class="line"></span><br><span class="line">&#123;n, tab&#125; &lt;- lire ()</span><br><span class="line">trie &lt;- VRAI</span><br><span class="line">pour i &lt;- 0 à n-2 faire</span><br><span class="line">	si ( tab[i] &gt; tab[i+1] ) alors</span><br><span class="line">    	trie FAUX</span><br><span class="line">    fin si</span><br><span class="line">fin pour</span><br><span class="line">si ( non trie ) alors</span><br><span class="line">	écrire (&quot;le tableau n’est pas trié&quot;)</span><br><span class="line">fin si</span><br><span class="line"></span><br><span class="line">//一般函数</span><br><span class="line">variables</span><br><span class="line">	vectArticles tabArt//?结构体的vector？</span><br><span class="line">	réel valStock</span><br><span class="line">	entier n</span><br><span class="line">Début</span><br><span class="line">&#123;n, tabArt&#125; &lt;-- lire (&quot;data.txt&quot;)</span><br><span class="line">valStock &lt;-- 0</span><br><span class="line">pour i 0 à n-1 faire</span><br><span class="line">	valStock valStock + tabArt[i].prix * tabArt[i].quantité</span><br><span class="line">fin pour</span><br><span class="line">écrire (&quot;La valeur du stock des &quot;, n, &quot; articles est de : &quot;,valStock, &quot; euros&quot;)</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>所以说就是表的元素可以是结构体的意思？</p>
<h5 id="liste-chainée链表"><a class="markdownIt-Anchor" href="#liste-chainée链表"></a> Liste chainée链表</h5>
<h6 id="单向-successeur"><a class="markdownIt-Anchor" href="#单向-successeur"></a> 单向 successeur</h6>
<p>链表的定义(值与指向下一元素的指针)：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220210112853.webp" alt="ya20220210112853" /></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">type</span><br><span class="line">	elementEntier : Enregistrement</span><br><span class="line">		entier valeur,</span><br><span class="line">		lien elementEntier suivant, // lien vers l’élément suivant</span><br><span class="line">	Fin enregistrement</span><br><span class="line"></span><br><span class="line">variables</span><br><span class="line">	elementEntier elementUn, elementDeux, ..., elementSix</span><br><span class="line">...</span><br><span class="line">	elementUn.valeur 12</span><br><span class="line">	elementUn.suivant lien(elementDeux)</span><br><span class="line">	elementDeux.valeur 99</span><br><span class="line">	elementDeux.suivant lien(elementTrois)</span><br><span class="line">	...</span><br><span class="line">	elementCinq.suivant lien(elementSix)</span><br><span class="line">	elementSix.valeur 16</span><br><span class="line">	elementSix.suivant VIDE</span><br></pre></td></tr></table></figure>
<h6 id="双向"><a class="markdownIt-Anchor" href="#双向"></a> 双向</h6>
<p>要同时定义前置和后置指针</p>
<p><img src="https://git.poker/nililili7876/blog_pic/blob/main/images/ya20220210113415.webp?raw=true" alt="ya20220210113415" /></p>
<p>Calcul de la longueur d’une liste（递归）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fonction : longueur calculLongueur(lienDébutListe)</span><br><span class="line">paramètres : lien elementEntier lienDébutListe</span><br><span class="line">résultats : entier longueur</span><br><span class="line">Début</span><br><span class="line"> si ( lienDébutListe est VIDE ) alors</span><br><span class="line">  	longueur 0</span><br><span class="line"> sinon</span><br><span class="line">  	longueur 1 + calculLongueur(lienD´ebutListe-&gt;suivant)</span><br><span class="line"> fin si</span><br><span class="line"> retourner longueur</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>Recherche d’un élément dans une liste（递归）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fonction : présence chercherElement(lienDébutListe, val)</span><br><span class="line">	paramètres : lien élémentEntier lienDébutListe,</span><br><span class="line">				entier val</span><br><span class="line">	résultats : booléen présence</span><br><span class="line">Début</span><br><span class="line">	si ( lienDébutListe est VIDE ) alors//链表为空退出</span><br><span class="line">		présence FAUX</span><br><span class="line">	sinon</span><br><span class="line">  		si ( lienDébutListe-&gt;valeur = val ) alors</span><br><span class="line"> 			présence VRAI</span><br><span class="line">		sinon</span><br><span class="line"> 			présence chercherElement(lienDébutListe-&gt;suivant, val)</span><br><span class="line">		fin_si</span><br><span class="line">	fin_si</span><br><span class="line"> retourner présence</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>就是链表本质就是结构体+数组吗？</p>
<h5 id="liste-chainée和tableau时间复杂度的比较"><a class="markdownIt-Anchor" href="#liste-chainée和tableau时间复杂度的比较"></a> Liste chainée和tableau时间复杂度的比较</h5>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220210114750.webp" alt="ya20220210114750" style="zoom:80%;" />
<p>查找，添加/删除头(位)</p>
<h4 id="piles"><a class="markdownIt-Anchor" href="#piles"></a> Piles</h4>
<p>存储结构讲表与链表，然后栈、队列是特殊的线性表（？）</p>
<p>LIFO:栈，先入后出</p>
<p>基本操作： ajoute(push),delete(pop),Test de pile vide</p>
<h4 id="file-dattente"><a class="markdownIt-Anchor" href="#file-dattente"></a> File d’attente</h4>
<p>FIFO：队列，先入先出</p>
<h3 id="structures-arborescentes"><a class="markdownIt-Anchor" href="#structures-arborescentes"></a> Structures arborescentes</h3>
<p>​	Extension du concept de liste avec plusieurs successeurs pour un élément(一个节点后面可以接多个节点)</p>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>总有地上的菜鸡，敢于直面大佬的开源</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>ALGORITHM</category>
      </categories>
  </entry>
  <entry>
    <title>ALGPR-4</title>
    <url>/2022/02/28/ALGPR-4/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>关于算法的第四周</p>
<span id="more"></span>
<h1 id="td"><a class="markdownIt-Anchor" href="#td"></a> TD</h1>
<h2 id="listes-chainées"><a class="markdownIt-Anchor" href="#listes-chainées"></a> Listes chainées</h2>
<p>En utilisant une structure de liste chainée dont les valeurs sont des Entiers, proposer les algorithmes des fonctions secondaires pour:</p>
<ul>
<li>afficher les éléments de liste(打印)</li>
<li>ajouter un éléments à la fin de la liste(增)</li>
<li>rechercher une valeur avec renvoi du nombre de valeurs présentes dans la liste(查)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">types</span><br><span class="line">	elementSimplementChiane: Enregistrement</span><br><span class="line">		type valeur,</span><br><span class="line">		lien elementSimplementChiane suivant</span><br><span class="line">	Fin_Enregistrement</span><br><span class="line"></span><br><span class="line">types</span><br><span class="line">	elementEntier: Enregistrement</span><br><span class="line">		type valeur</span><br><span class="line">		lien elementSimplementChiane suivant</span><br><span class="line">	Fin_Enregistrement</span><br></pre></td></tr></table></figure>
<h3 id="afficher"><a class="markdownIt-Anchor" href="#afficher"></a> Afficher</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type</span><br><span class="line">	ElementEntier: enregistrement</span><br><span class="line">		Entier valeur</span><br><span class="line">		Lien ElementEntier suivant</span><br><span class="line">	Fin_Enregistrement</span><br><span class="line"></span><br><span class="line">afficherElement(Lien ElementEntier début)</span><br><span class="line">paramètre: Lien sur ElementEntier</span><br><span class="line">resultat: vide</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	si(début non vide) alors</span><br><span class="line">		écrire(début -&gt; valeur)//也可以写成contenu(début).valeur</span><br><span class="line">		afficherElement(début -&gt; suivant)//contenu(début).suivant</span><br><span class="line">	finsi</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="ajouter"><a class="markdownIt-Anchor" href="#ajouter"></a> Ajouter</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type</span><br><span class="line">	ElementEntier: enregistrement</span><br><span class="line">		Entier valeur</span><br><span class="line">		Lien ElementEntier suivant</span><br><span class="line">	Fin_Enregistrement</span><br><span class="line"></span><br><span class="line">ajoutFin(Lien ElementEntier début, Entier val)</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	si(début n&#x27;est pas vide) alors</span><br><span class="line">		contenu(début).suivant &lt;- ajoutFin(contenu(début).suivant,val)</span><br><span class="line">	sinon</span><br><span class="line">		contenu(début).valeur &lt;- val;</span><br><span class="line">		contenu(début).suivant &lt;- NULL;</span><br><span class="line">	finsi</span><br><span class="line">	renvoyer début</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="rechercher"><a class="markdownIt-Anchor" href="#rechercher"></a> Rechercher</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type</span><br><span class="line">	ElementEntier: enregistrement</span><br><span class="line">		Entier valeur</span><br><span class="line">		Lien ElementEntier suivant</span><br><span class="line">	Fin_Enregistrement</span><br><span class="line"></span><br><span class="line">rechercheNbVal(Lien ElementEntier début, Entier val)</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	si(début n&#x27;est pas vide) alors</span><br><span class="line">		si(contenu(début).valeur = val)</span><br><span class="line">			nb &lt;- nb+1</span><br><span class="line">		finsi</span><br><span class="line">		nb &lt;- nb+rechercheNbVal(contenu(début).suivant,val)</span><br><span class="line">	sinon</span><br><span class="line">		nb&lt;-0</span><br><span class="line">	finsi</span><br><span class="line">	renvoyer début</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h2 id="liste-doublement-chainées"><a class="markdownIt-Anchor" href="#liste-doublement-chainées"></a> Liste doublement chainées</h2>
<p>En utilisant une structure de liste doublement chainées dont les valeurs sont des Entiers, proposer les algorithmes des fonctions secondaires pour:</p>
<ul>
<li>ajouter un éléments à la bonne place dans une liste triée,</li>
<li>supprimer un élément dont la valeur est donnée en paramètre.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Types</span><br><span class="line">	ElementEntierDbl: enregistrement</span><br><span class="line">		Entier valeur</span><br><span class="line">		Lien ElementEntierDbl suivant</span><br><span class="line">		Lien ElementEntierDbl précrédent</span><br><span class="line">	Fin_Enregistrement</span><br></pre></td></tr></table></figure>
<h3 id="ajouter-2"><a class="markdownIt-Anchor" href="#ajouter-2"></a> Ajouter</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Types</span><br><span class="line">	ElementEntierDbl: enregistrement</span><br><span class="line">		Entier valeur</span><br><span class="line">		Lien ElementEntierDbl suivant</span><br><span class="line">		Lien ElementEntierDbl précrédent</span><br><span class="line">	Fin_Enregistrement</span><br><span class="line">	</span><br><span class="line">ajoutTrié(Lien ElementEntier début, Entier val)</span><br><span class="line">Variable: Lien ElementEntierDbl tmp</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	si(début n&#x27;est pas vide) alors</span><br><span class="line">		si(val &lt; contenu(début).valeur)</span><br><span class="line">			tmp &lt;- noveau()</span><br><span class="line">			contenu(tmp).valeur &lt;- val</span><br><span class="line">			//insère</span><br><span class="line">			contenu(tmp).suivant &lt;- début</span><br><span class="line">			contenu(tmp).précrédent &lt;- contenu(début).précrédent</span><br><span class="line">			contenu(début).précrédent &lt;- tmp</span><br><span class="line">			début &lt;- tmp</span><br><span class="line">		sinon</span><br><span class="line">			contenu(début).suivant &lt;- ajoutTrié(contenu(début).suivant,val)</span><br><span class="line">		finsi</span><br><span class="line">	sinon</span><br><span class="line">	 	début &lt;- noveau()</span><br><span class="line">		contenu(début).valeur &lt;- val</span><br><span class="line">		</span><br><span class="line">	finsi</span><br><span class="line">	renvoyer début</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h2 id="arbres-binaires"><a class="markdownIt-Anchor" href="#arbres-binaires"></a> Arbres binaires</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type NoeudArbreBinaire: Enregistrement</span><br><span class="line">	type valeur,</span><br><span class="line">	lien NoeudArbreBinaire fg,</span><br><span class="line">	lien NoeudArbreBinaire fd,</span><br><span class="line">Fin_enregistrement</span><br></pre></td></tr></table></figure>
<h3 id="fonction-parcourspréfixe"><a class="markdownIt-Anchor" href="#fonction-parcourspréfixe"></a> Fonction parcoursPréfixe</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Début</span><br><span class="line">	afficher(racine -&gt; valeur)</span><br><span class="line">	si racine -&gt; fg non vide alors</span><br><span class="line">		parcoursPréfixe(racine-&gt;fg)</span><br><span class="line">	fin_si</span><br><span class="line">	si racine -&gt; fd non vide alors</span><br><span class="line">		parcoursPréfixe(racine-&gt;fd)</span><br><span class="line">	fin_si</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="recherche"><a class="markdownIt-Anchor" href="#recherche"></a> Recherche</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Booleen &lt;- existe(lien NoeudEntier noeud, Entier val)</span><br><span class="line">Début</span><br><span class="line">	si(noeud n&#x27;est pas vide) alors</span><br><span class="line">		renvoyer FAUX</span><br><span class="line">	sinon</span><br><span class="line">		si(noeud.valeur = val) alors</span><br><span class="line">			renvoyer VRAI</span><br><span class="line">		sinon </span><br><span class="line">			renvoyer existe(noeud-&gt;fg,val) OU existe(noeud-&gt;fd,val)//注意这里一定是ou</span><br><span class="line">		fin_si</span><br><span class="line">	fin_si</span><br><span class="line">Fin</span><br><span class="line"></span><br><span class="line">另一种写法</span><br><span class="line">Début</span><br><span class="line">	si(noeud is not vide) alors</span><br><span class="line">		renvoyer FAUX</span><br><span class="line">	sinon</span><br><span class="line">			renvoyer (noeud.valeur = val) OU existe(noeud-&gt;fg,val) OU existe(noeud-&gt;fd,val)</span><br><span class="line">	fin_si</span><br><span class="line">Fin</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="supprime"><a class="markdownIt-Anchor" href="#supprime"></a> Supprime[]</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lien NoeudEntier &lt;- supprimeFeuille(lien NoeudEntier, Entier val)</span><br><span class="line">efface()、nouveau()</span><br><span class="line"></span><br><span class="line">Début</span><br><span class="line">	si(noeud is not vide) alors</span><br><span class="line">		si(noeud.fg = vide ET noeud.fd = vide ET noeud.valeur = val)</span><br><span class="line">			efface(noeud)</span><br><span class="line">		sinon</span><br><span class="line">			noeud.fg &lt;- supprimeFeuille(noeud.fg , val)</span><br><span class="line">			noeud.fd &lt;- supprimeFeuille(noeud.fd , val)</span><br><span class="line">		fin_si</span><br><span class="line">	fin_si</span><br><span class="line">	renvoyer noeud</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h3 id="ajouter-3"><a class="markdownIt-Anchor" href="#ajouter-3"></a> Ajouter</h3>
<h4 id="haute"><a class="markdownIt-Anchor" href="#haute"></a> Haute</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Entier &lt;- hauteur(lien NoeudEntier noeud)</span><br><span class="line">Début</span><br><span class="line">	variable: entier g,d=0//放这里吗？？？？是的</span><br><span class="line">	si(noeud.fg is not vide) alors</span><br><span class="line">		g &lt;- hauteur(noeud.fg)</span><br><span class="line">	finsi</span><br><span class="line">	si(noeud.fd is not vide) alors</span><br><span class="line">		d &lt;- hauteur(noeud.fd)</span><br><span class="line">	finsi</span><br><span class="line">	h &lt;- 1+ max(g,d)</span><br><span class="line">    renvoyer h</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<p>ajouter dans la branche la plus courte d’un arbre une valeur passée en paramètre(在树的最短分支上添加一个参数中传递的值)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//[用树高来判断存在问题]---&gt;树的最小深度问题</span><br><span class="line">lien NoeudEntier &lt;- ajoutHtMin(lien NoeudEntier noeud, Entier val)</span><br><span class="line">Début</span><br><span class="line">	si(noeud is not vide) alors</span><br><span class="line">		si(hauteur(noeud-&gt;fg) &lt; hauteur(noeud-&gt;fd))</span><br><span class="line">			noeud.fg &lt;- ajoutHtMin(noeud-&gt;fg, val)</span><br><span class="line">		sinon</span><br><span class="line">			noeud.fd &lt;- ajoutHtMin(noeud-&gt;fd, val)	</span><br><span class="line">	sinon</span><br><span class="line">		nouveau.valeur &lt;- val</span><br><span class="line">		nouveau.fg &lt;- NULL</span><br><span class="line">		nouveau.fd &lt;- NULL</span><br><span class="line">    	noeud &lt;- nouveau()</span><br><span class="line">    finsi</span><br><span class="line">    renvoyer noeud</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h2 id="arbres-binaires-de-rechercheabr-enracinement"><a class="markdownIt-Anchor" href="#arbres-binaires-de-rechercheabr-enracinement"></a> Arbres binaires de recherche(ABR): enracinement</h2>
<p>Définition : Un ABR est un arbre dont les valeurs des noeuds appartiennent à un ensemble totalement ordonné et les conditions équivalentes suivantes sont vérifiées:</p>
<p>​	La liste des valeurs en ordre infixe est croissante</p>
<p>​	Pour tout noeud x de valeur v, les valeurs des noeuds de la branche gauche de x sont inférieures ou égales à v et les valeurs des noeuds de la branche droite de x sont surpérieures ou égales à v (左节点要小于根节点，右节点要大于根结点)</p>
<p>二叉查找树的查找会更快</p>
<h3 id="verification"><a class="markdownIt-Anchor" href="#verification"></a> Verification</h3>
<p>constituer</p>
<p>用parcoursInfixe()创建//中序</p>
<p>inferieur, superieur(), abr()//都是布尔型函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">specification:</span><br><span class="line">	fonction: super &lt;- superieur(racine , x)</span><br><span class="line">	parametres: lien NoeudArbreBinaire racine, Entier x</span><br><span class="line">	resultat: booleen</span><br><span class="line"></span><br><span class="line">Debut</span><br><span class="line">variables locales</span><br><span class="line">	booleen b &lt;- (x &gt;= racine-&gt;valeur)</span><br><span class="line">	choix selon</span><br><span class="line">		(racine-&gt;fg != NULL et racine-&gt;fd != NULL):</span><br><span class="line">			renvoyer superieur(racine-&gt;fg , x) et</span><br><span class="line">					superieur(racine-&gt;fd , x) et b</span><br><span class="line">		(racine-&gt;fg != NULL et racine-&gt;fd = NULL):</span><br><span class="line">			renvoyer superieur(racine-&gt;fg , x) et b</span><br><span class="line">		(racine-&gt;fg = NULL et racine-&gt;fd != NULL):</span><br><span class="line">			renvoyer superieur(racine-&gt;fd , x) et b</span><br><span class="line">		(racine-&gt;fg = NULL et racine-&gt;fd = NULL):</span><br><span class="line">			renvoyer b</span><br><span class="line">	fin_choix_selon</span><br><span class="line">Fin</span><br></pre></td></tr></table></figure>
<h1 id="cm"><a class="markdownIt-Anchor" href="#cm"></a> CM</h1>
<p>真后悔，没去</p>
<p>待补</p>
<p>看了一眼，大概c++的语法。好耶！</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>ALGORITHM</category>
      </categories>
  </entry>
  <entry>
    <title>ANG</title>
    <url>/2022/02/06/ANG-01/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>From BBC 6 Minute English.(<a href="https://www.bbc.co.uk/learningenglish/english/features/6-minute-english">https://www.bbc.co.uk/learningenglish/english/features/6-minute-english</a> )</p>
<span id="more"></span>
<h1 id="welcome-to-the-metaverse"><a class="markdownIt-Anchor" href="#welcome-to-the-metaverse"></a> Welcome to the ‘metaverse’</h1>
<p>Links：<a href="https://www.bbc.co.uk/learningenglish/english/features/6-minute-english_2022/ep-220106">https://www.bbc.co.uk/learningenglish/english/features/6-minute-english_2022/ep-220106</a></p>
<h2 id="15-minutes的introduction"><a class="markdownIt-Anchor" href="#15-minutes的introduction"></a> 1.5 minutes的introduction</h2>
<p>The topic I chose to talk about is &lt;&lt;<em>Welcome to the ‘metaverse’</em>&gt;&gt;.</p>
<p>So to begin with, what is metavers? According to the video, metaverse means a virtual-reality space in which users can interact with a computer-generated environment and other users. Recently, Facebook announced that it was hiring ten thousand new workers to develop <strong>VR</strong> for the ‘metaverse’, according to  Mark Zuckerberg, the Facebook boss,&quot; in the future we’ll all spend much of our time living and working in the ‘metaverse’ &quot;. But people hold different opinions about it.</p>
<p>Some supporters think it can make a great difference to our living world. They believe that with the technology of  metaverse,  everything that we do on our phone today can be done in 3-D.</p>
<p>But there are also some negative opinions. For example,some people called VR ‘ vomity reality ’,because wearing the headset of VR makes them feel sick, maybe because it’s so <strong>unwieldy</strong> .</p>
<p>From my perspective, I hold a supportive attitude towards this new technology as it seems so cool which can make our world more convenient .</p>
<h2 id="2-new-keywords"><a class="markdownIt-Anchor" href="#2-new-keywords"></a> 2 new keywords</h2>
<p>VR: virtual-reality,a hypothetical three-dimensional visual world created by a computer; user wears special goggles and fiber optic gloves etc., and can enter and move about in this world and interact with objects as if inside it</p>
<p>unwieldy: difficult to move or carry because it’s so heavy, large or strangely shaped</p>
<h2 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h2>
<p>所以元宇宙就是VR? VR OU AR ?</p>
<p>看了一些科普，就是有比较像头号玩家那种世界（或许赛博朋克的那种？。感觉就是，元宇宙感觉是个画大饼的不太实的概念（</p>
<h1 id="body-language-online"><a class="markdownIt-Anchor" href="#body-language-online"></a> Body language online</h1>
<p>Links: <a href="https://www.bbc.co.uk/learningenglish/english/features/6-minute-english/ep-211209">https://www.bbc.co.uk/learningenglish/english/features/6-minute-english/ep-211209</a></p>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<p>The topic I chose to talk about is ‘Body language online’.</p>
<p>As we know, body language is important when we communicate with others. By using some hand gestures and facial expressions, we can make the conversation more natural. But during the Covid <strong>pandemic</strong>,  the communication tend to move online to be video meetings by using software like Zoom and Skype. So, in that case, how has body language changed in the world of online video meetings?</p>
<p>Firstly, eye contact. In face-to-face meetings, we immediately see someone’s reaction to what we’ve said through eye contact, but using a web camera to make eye contact is almost impossible in online meetings and this often creates a kind of ‘distance’ effect.–&gt; ?</p>
<p>Secondly, pause. It was completely normal to have a one-minute pause in a room with one another because we knew when we’re thinking but if we don’t hear someone speak on video, we may ask them if there are some Internet problems.–&gt; Slow down.</p>
<p>Last but not the least, smile or laughing. <em>Erica</em> , a communications expert from the conversation, points out that laughing often happens in <strong>unison</strong>,  so it is much less likely that we laugh and smile on camera. Laughing is often done in unison where we can quickly pick up the energy of someone smiling or laughing and feed off of that and laugh together. When it comes to screen delays, the fact that it’s not natural to see our own camera – being distracted by that – we are much less likely to laugh and smile. --&gt;<strong>Water cooler effect.</strong></p>
<p>That’s all.</p>
<h2 id="new-words"><a class="markdownIt-Anchor" href="#new-words"></a> New words</h2>
<p><strong>Water cooler effect</strong>: it’s an American expression to describe informal conversations between people at work.–&gt; Talk someting informal out of the topic.</p>
<p><strong>In Unison</strong>: it means happening together and at the same time</p>
<p><strong>Pandemic</strong>: 流行病</p>
<p>noun: a widespread outbreak of an infectious disease and many people are infected at the same time</p>
<p>adjective: existing everywhere</p>
]]></content>
      <categories>
        <category>NANTE</category>
        <category>Softskills</category>
        <category>ANG</category>
      </categories>
      <tags>
        <tag>BBC_6mintues</tag>
      </tags>
  </entry>
  <entry>
    <title>CCUBE_Chapitre1</title>
    <url>/2022/02/04/CCUBE-01/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>CCUBE: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">{C^3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span> est capteurs, contrôle, commande</p>
<span id="more"></span>
<h1 id="chapitre_0préface-et-objectifs"><a class="markdownIt-Anchor" href="#chapitre_0préface-et-objectifs"></a> Chapitre_0:Préface et Objectifs</h1>
<h2 id="préface"><a class="markdownIt-Anchor" href="#préface"></a> Préface</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220204024706.webp" alt="img" /></p>
<h2 id="objectifs-et-moyens"><a class="markdownIt-Anchor" href="#objectifs-et-moyens"></a> Objectifs et moyens</h2>
<h3 id="教学目标"><a class="markdownIt-Anchor" href="#教学目标"></a> 教学目标：</h3>
<p>— échantillonner un signal 信号采样;<br />
— en faire une analyse de Fourier 傅里叶分析;<br />
— modéliser un système physique continu par le langage des fonctions de transfert 用transfert函数给系统建模;<br />
— modéliser un système physique continu par le langage de l’espace d’état 用l’’espace d’état给系统建模;<br />
— lier les phénomènes physiques aux paramètres de ces représentations (temps de réponse, stabilité) ;<br />
— interfacer le temps continu et le temps discret(离散) ;<br />
— simuler(模拟) ces représentations à l’aide de logiciels adaptés.</p>
<h3 id="tp"><a class="markdownIt-Anchor" href="#tp"></a> TP</h3>
<p>使用Matlab的Simulink完成：</p>
<p><a href="http://1.la">1.la</a> reconstruction d’une partition à partir de l’enregistrement audio-phonique ;</p>
<p>2.le pilotage en simulation d’une navette spatiale, version très simplifiée d’un contrat avec l’agence spatiale</p>
<h3 id="前置数学知识"><a class="markdownIt-Anchor" href="#前置数学知识"></a> 前置数学知识</h3>
<p>— les nombres complexes 复数;<br />
— la dérivation et l’intégration d’une fonction d’une <strong>variable réelle</strong>（？） à <strong>valeur réelle</strong>（？） 积分求导;<br />
— les suites de nombres réels ou complexes ;<br />
on n’a pas à craindre les quelques calculs élémentaires de séries ;<br />
— le calcul matriciel 矩阵 ;<br />
— les valeurs et vecteurs propres, la diagonalisation d’une matrice carrée特征值；</p>
<p>—LTI linéaire temporellement invariant线性时间不变</p>
<h1 id="chapitre1concepts-et-outils-fondamentaux"><a class="markdownIt-Anchor" href="#chapitre1concepts-et-outils-fondamentaux"></a> Chapitre1:Concepts et outils fondamentaux</h1>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>总有地上的菜鸡，敢于直面大佬的开源</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>CCUBE</category>
      </categories>
  </entry>
  <entry>
    <title>Ekya</title>
    <url>/2022/08/01/Ekya/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>戴老师给的第二篇论文</p>
<span id="more"></span>
<h1 id="读论文"><a class="markdownIt-Anchor" href="#读论文"></a> 读论文</h1>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.png" alt="img" style="zoom:80%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/xxx.png" alt="img" style="zoom:80%;" />
<h2 id="dnn"><a class="markdownIt-Anchor" href="#dnn"></a> DNN</h2>
<p>深度神经网络，隐含层大于两层的神经网络</p>
<h1 id="跑项目"><a class="markdownIt-Anchor" href="#跑项目"></a> 跑项目</h1>
<p>项目地址：<a href="https://github.com/edge-video-services/ekya">https://github.com/edge-video-services/ekya</a></p>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>武运昌隆！</p>
]]></content>
      <categories>
        <category>学习区</category>
      </categories>
      <tags>
        <tag>DNN</tag>
      </tags>
  </entry>
  <entry>
    <title>GPU_CM0</title>
    <url>/2023/01/30/GPU_CM0/</url>
    <content><![CDATA[<h1 id="cm0"><a class="markdownIt-Anchor" href="#cm0"></a> CM0</h1>
<p>课程安排和GPU基本知识介绍</p>
<p>对应PPT: 0, 1</p>
<span id="more"></span>
<h1 id="0课程安排"><a class="markdownIt-Anchor" href="#0课程安排"></a> 0.课程安排</h1>
<p>Généralités sur la programmation sur GPU</p>
<ul>
<li>programmation concurrente vs parallèle
<ul>
<li>concurrente: 并发，为了更好地管理多个任务的执行，快速转换执行多个任务，在同一处理器的同一时间间隔的不同时刻</li>
<li>parallèle: 并行，多个事件在同一时刻发生，通常是在不同的处理器或核心上进行–&gt;GPU</li>
</ul>
</li>
<li>principe et architecture des GPU</li>
</ul>
<p>Opérateurs, mémoires et structurations des données</p>
<ul>
<li>allocation des données[数据分配] et flot[流] de contrôle</li>
<li>types de mémoire et localité des données[数据位置]</li>
<li>opérations atomiques et synchronisation</li>
</ul>
<p>Etude de patterns d’algorithme pour la programmation parallèles<br />
Exemple d’application : la bibliothèque CuDNN</p>
<h1 id="1-introduction"><a class="markdownIt-Anchor" href="#1-introduction"></a> 1. Introduction</h1>
<h2 id="11-architecture-parallèle"><a class="markdownIt-Anchor" href="#11-architecture-parallèle"></a> 1.1 Architecture parallèle</h2>
<h3 id="111-taxonomie-de-flynn"><a class="markdownIt-Anchor" href="#111-taxonomie-de-flynn"></a> 1.1.1 Taxonomie de Flynn</h3>
<p>Taxonomie de Flynn[费林分类]：根据信息流把指令分为指令和数据两部分，然后在此基础上把计算机分为4种计算机类型：SISD、SIMD、MISD和MIMD</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.5mjrnp2vkq80.png" alt="yaimage" /></p>
<p><strong>SISD</strong>: Single instruction single data stream，在指令级别和内存级别<strong>不</strong>使用任何并行性[parallelisme]的计算机，对应<strong>冯诺依曼</strong>结构。</p>
<p><strong>MISD</strong>: Multi-instruction single data stream，由多个计算机单元并行处理相同数据，在实践中很少出现</p>
<p><strong>SIMD</strong>: 在内存级别使用并行设计</p>
<p><strong>MIMD</strong>: 多个计算单元处理不同的数据，每一个具有单独的内存，这是现代CPU使用最广泛的并行结构</p>
<h3 id="112-cpu-vs-gpu"><a class="markdownIt-Anchor" href="#112-cpu-vs-gpu"></a> 1.1.2 CPU VS GPU</h3>
<p><strong>CPU</strong>：面向延迟的设计/Latency-oriented design</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.5o65o1gzu6o0.png" alt="yaimage" /></p>
<p>一些计组小回顾：</p>
<ul>
<li>ALU:算术逻辑单元，对数据执行算术和逻辑运算，又可以理解为<strong>执行指定</strong>的单元。</li>
<li>CPU：对指令流和数据流在时间与空间上实施正确的<strong>控制</strong>
<ul>
<li>指令控制：产生下一条指令在内存中的地址</li>
<li>操作控制：产生各种操作信号送往相应的部件，以控制完成指令所要求的动作</li>
<li>时序控制：以各操作信号实施时间上的控制，以保证计算机有条不紊的连续自动工作</li>
</ul>
</li>
<li>Cache:缓存,存放少量经常使用的内存数据以便CPU能够快速检索这些数据</li>
<li>DRAM（动态随机存储器）是一种常见的存储器类型，它能够在计算机的主存储器中临时存储数据。</li>
</ul>
<p>PPT上说的</p>
<p>高效ALU: 减少操作延迟</p>
<p>大Cache：将长内存访问转换为短缓存访问，减少延迟</p>
<p>CPU的复杂的执行控制：分支预测，数据转发，减少延迟</p>
<p><strong>GPU</strong>: 面向吞吐量的设计/Throughput Oriented Design</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.6nci3vtsniw0.png" alt="yaimage" /></p>
<p>ALU：不是很高效，高延迟但很多，有许多pipeline可以实现吞吐量</p>
<p>小Caches：加速内存的吞吐量</p>
<p>控制简单：没有分支预测、数据转发但有很多线程的硬件</p>
<p><strong>CPU VS GPU</strong>: CPU为了时序部分，GPU为了并行部分</p>
<h3 id="113-parallèle"><a class="markdownIt-Anchor" href="#113-parallèle"></a> 1.1.3  Parallèle</h3>
<p>任务平行和数据平行</p>
<ul>
<li>任务平行：拆分任务，任务的处理是独立[independants]的</li>
<li>数据平行：将一个大的数据集划分为较小的块然后平行的处理数据，处理是相同的[identiques]</li>
</ul>
<p>时序、并行(parallel)和并发(concurrence)</p>
<p>时序：操作等待前一个操作完成，这两个操作不是独立的</p>
<p>并行：把每一个任务分配给每一个处理器独立完成。在同一时间点，任务一定是同时运行。</p>
<p>并发：把任务在不同的时间点交给处理器进行处理。在同一时间点，任务并不一定会同时运行。关键是处理多个任务的能力，不一定要同时。</p>
<h2 id="12-remarques-sur-laccélération"><a class="markdownIt-Anchor" href="#12-remarques-sur-laccélération"></a> 1.2 Remarques sur l’accélération</h2>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mrow><mi>l</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>−</mo><mi>p</mi><mo>+</mo><mfrac><mi>p</mi><mi>s</mi></mfrac></mrow></mfrac></mrow><annotation encoding="application/x-tex">S_{latence}=\frac{1}{1-p+\frac ps}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.35244em;vertical-align:-1.0310000000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0310000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>s:执行的线程，p：受益于并行性的运行时间的百分比</p>
<p>Conseil : lors de l’écriture d’un programme parallèle, il faut limiter autant que possible la partie sérielle. 在编写并行程序时，有必要限制尽可能的串行部分</p>
<p>Conseil : un ordinateur parallèle doit être un excellent ordinateur sériel pour traiter le plus rapidement possible la partie sérielle. 并行计算机必须是优秀的串行计算机.</p>
<h2 id="13-domaines-dapplication-du-calcul-parallèle-hétérogène"><a class="markdownIt-Anchor" href="#13-domaines-dapplication-du-calcul-parallèle-hétérogène"></a> 1.3 Domaines d’application du calcul parallèle hétérogène</h2>
<p>发展GPU应用的三个方法：使用库，汇编指令，编程</p>
<p>库：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.72ozfxz8b1s0.png" alt="yaimage" /></p>
<p>Directives de compilation：例子</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221214101713732.png" alt="image-20221214101713732" /></p>
<p>编程：<img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221214101641428.png" alt="image-20221214101641428" /></p>
<p>三种方法优缺点比较：</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221214101758244.png" alt="image-20221214101758244" /></p>
<p>verbeux: 啰嗦</p>
<h2 id="14-cuda-c"><a class="markdownIt-Anchor" href="#14-cuda-c"></a> 1.4 CUDA-C</h2>
<p>NVIDIA提供了cuda-C的编译器：nvcc==&gt;为GPU编译代码，然后将其传递给编译器</p>
<p><strong>Structure d’un programme C en CUDA</strong></p>
<p>Host and Device: CPU是host，GPU是devices，一个cuda程序会在这两部分运行，C的代码默认是host运行，要让它在GPU运行的话得加关键字<code>__device__</code>,编译过程可参考下图：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.2pj1ni7zrny0.png" alt="yaimage" /></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.7fxncsypwic0.png" alt="yaimage" /></p>
<ul>
<li><strong>thread：</strong>
<ul>
<li>是一个顺序程序的执行过程</li>
<li>线程组成：代码,它的执行点,变量和数据结构的值。可以用程序的API来创建和操作线程</li>
<li>[网上讲的]线程是一种在一个进程中执行的任务，它是操作系统能够<strong>进行运算调度的最小单位</strong>。在一个进程中可以有多个线程，这些线程共享该进程中的资源，并且可以并发执行。这使得线程能够实现多任务处理，提高系统的效率。线程与进程的主要区别在于，进程是一个独立的执行单元，它有自己的内存空间和资源，而线程则是进程的一个执行流，它是进程中的一个执行单元。因此，在一个进程中，多个线程共享该进程的资源，而不同的进程之间是相互独立的。</li>
</ul>
</li>
<li><strong>Exécution concurrente:</strong> 操作系统将计算资源分配给线程（如果线程多于资源，则通过从一个线程切换到另一个线程）。如果几个线程同时活动，这被称为并发执行。</li>
</ul>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>ALGORITHM-期末</title>
    <url>/2021/12/06/ALGORITHM-%E6%9C%9F%E6%9C%AB/</url>
    <content><![CDATA[<h1 id="期末实验汇总"><a class="markdownIt-Anchor" href="#期末实验汇总"></a> 期末实验汇总</h1>
<p>西南交通大学算法实验期末题型汇总</p>
<span id="more"></span>
<h2 id="凸包问题"><a class="markdownIt-Anchor" href="#凸包问题"></a> 凸包问题</h2>
<h3 id="蛮力法"><a class="markdownIt-Anchor" href="#蛮力法"></a> 蛮力法</h3>
<h4 id="文字描述"><a class="markdownIt-Anchor" href="#文字描述"></a> 文字描述</h4>
<ol>
<li>找所有构成凸包的点</li>
</ol>
<p>对由n个点构成的集合S中每两个点进行遍历，判断这两点是否能构成凸多边形的边。如果能，则将这两点的标志位flag置位1。具体判断方法为：集合S内的所有点都在这两个点构成边的同一侧。(一侧的判断由ax+by&gt;=c的点的个数为n-2或0完成)</p>
<ol start="2">
<li>（以凸包内一点）用的斜率反推角度进行逆时针排序</li>
</ol>
<p>说明：本算法中因输入设置为当x<mark>0&amp;&amp;y</mark>0时停止输入，因此在选择计算凸包边界各点的斜率的原点时选用(0,0)。</p>
<p>角度求解（由于atanx的范围为-π/2到π/2，但a的实际范围为-π到π，因此在求角度时要进行不同情况的判断计算）：</p>
<p>​      x = 0 ：y &gt; 0 时，a = π / 2；y &lt; 0 时，a = - π / 2 ;</p>
<p>​      a = atan(y / x) : 第一象限 x&gt;0,y&gt;0 :a = a;第二象限：x&lt;0,y&gt;0,a= a +π；第三象限：x&lt;0,y&lt;0,a= a +π；第四象限：x&gt;0,y&lt;0,a= a +2π</p>
<p>排序:用algorithm库封装的sort函数用每个点的角度信息对点进行快排，输出并压入数组Q。</p>
<ol start="3">
<li>计算凸包边长</li>
</ol>
<p>依次计算数组Q中相邻点的距离，即distance(p[i],p[i+1])，注意加上首尾即distance(p[0],p[n-1])求得周长。</p>
<h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">    <span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Point Q[M];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Point P[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;凸包的顺序输出为：&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (P[i].flag)</span><br><span class="line">        &#123;</span><br><span class="line">            Q[k] = P[i];</span><br><span class="line">            cout &lt;&lt;k&lt;&lt;<span class="string">&quot;:&quot;</span>&lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; Q[k].x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; Q[k].y &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自己定义的排序规则:按角度排</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">comp</span><span class="params">(<span class="type">const</span> Point&amp; p_1, <span class="type">const</span> Point&amp; p_2)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> p_1.a &lt; p_2.a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使其按逆时排列</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sortP</span><span class="params">(Point P[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!P[i].x)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(P[i].y &lt; <span class="number">0</span>) P[i].a = <span class="number">3.0</span>*PI / <span class="number">2.0</span>;</span><br><span class="line">            <span class="keyword">else</span> P[i].a = PI / <span class="number">2.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;  </span><br><span class="line">            P[i].a = <span class="built_in">atan</span>((<span class="type">double</span>)P[i].y / P[i].x); <span class="comment">//一象限不变</span></span><br><span class="line">            <span class="keyword">if</span> (!P[i].y) <span class="keyword">if</span> (P[i].x &lt; <span class="number">0</span>) P[i].a = PI;<span class="comment">//0和PI的判断</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (P[i].a * P[i].y  &lt; <span class="number">0</span>) P[i].a += PI;<span class="comment">//二、三象限加PI</span></span><br><span class="line">            <span class="keyword">else</span>  &#123;<span class="comment">//四象限加2*PI</span></span><br><span class="line">                <span class="keyword">if</span> (P[i].y &lt; <span class="number">0</span>)P[i].a += <span class="number">2</span> * PI;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(P , P+n , comp);<span class="comment">//按序排</span></span><br><span class="line">    <span class="built_in">print</span>(P, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//检查点在不在线一侧</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">OneSide</span><span class="params">(Point P[], <span class="type">int</span> n ,<span class="type">int</span> a , <span class="type">int</span> b ,<span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sign_1 = <span class="number">0</span>, sign_2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a * P[k].x + b * P[k].y == c) &#123;</span><br><span class="line">            ++sign_1;</span><br><span class="line">            ++sign_2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (a * P[k].x + b * P[k].y &gt; c) ++sign_1;</span><br><span class="line">        <span class="keyword">if</span> (a * P[k].x + b * P[k].y &lt; c) ++sign_2;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sign_1 == n || sign_2 == n)  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConvexHull</span><span class="params">(Point P[] ,<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> a = P[j].y - P[i].y;</span><br><span class="line">            <span class="type">int</span> b = P[i].x - P[j].x;</span><br><span class="line">            <span class="type">int</span> c = P[i].x * P[j].y - P[i].y * P[j].x;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">OneSide</span>(P, n, a, b, c))&#123;</span><br><span class="line">                P[i].flag = <span class="number">1</span>;</span><br><span class="line">                P[j].flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sortP</span>(P, n);<span class="comment">//打印</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">distance</span><span class="params">(<span class="type">const</span> Point&amp; p_1 , <span class="type">const</span> Point&amp; p_2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((p_1.x - p_2.x)* (p_1.x - p_2.x) + (p_1.y - p_2.y) * (p_1.y - p_2.y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//计算凸包的边长</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">c_ConvexHull</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n<span class="number">-1</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="comment">// cout &lt;&lt; &quot;(&quot; &lt;&lt; Q[i].x &lt;&lt; &quot;,&quot; &lt;&lt; Q[i].y &lt;&lt; &quot;)&quot; &lt;&lt; &quot;\t&quot;;</span></span><br><span class="line">        sum += <span class="built_in">distance</span>(Q[i], Q[i + <span class="number">1</span>]); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//首尾</span></span><br><span class="line">    sum += <span class="built_in">distance</span>(Q[<span class="number">0</span>], Q[n<span class="number">-1</span>]);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Point P[M];</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输入点集：&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span> (!x &amp;&amp; !y)<span class="keyword">break</span>;</span><br><span class="line">         P[i].x = x;</span><br><span class="line">         P[i].y = y;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="built_in">ConvexHull</span>(P, i);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;凸包周长是：&quot;</span> &lt;&lt; <span class="built_in">c_ConvexHull</span>(i<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="gramph算法"><a class="markdownIt-Anchor" href="#gramph算法"></a> Gramph算法</h3>
<h4 id="文字描述-2"><a class="markdownIt-Anchor" href="#文字描述-2"></a> 文字描述</h4>
<p>总体思路：先找到凸包上的一个点，然后从该点开始有方向的逐个寻找凸包上的点。</p>
<p>1.点集中纵坐标最小的点一定是凸包上的点，将其作为原点P0，重新求解点集S</p>
<p>2.计算点集中所有点相对于P0的幅角a，对其排序。a相同时，距离小的排在前面。P0、p1入栈。</p>
<p>3.连接P0和栈顶的点，得到直线L。看p1后面的点（即p2,计作当前点）是在直线L的右边还是左边。如果在直线的右边就执行步骤4；如果在直线的左边（上）就执行步骤5。</p>
<p>4.如果在右边，则栈顶的那个元素不是凸包上的点，把栈顶元素出栈。执行步骤3。</p>
<p>5.当前点是凸包上的点，把它压入栈，执行步骤6。</p>
<p>6.检查P2是不是步骤3那个结果的最后一个元素。是最后一个元素的话就结束。如果不是的话就把P2后面那个点做当前点，返回步骤3。</p>
<p>最终栈中为凸包各点的按序存储</p>
<h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Point P[M];<span class="comment">//inout</span></span><br><span class="line">Point Q[M];<span class="comment">//output</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">distance</span><span class="params">(<span class="type">const</span> Point&amp; p_1, <span class="type">const</span> Point&amp; p_2)</span><span class="comment">//距离</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>((p_2.x - p_1.x) * (p_2.x - p_1.x) + (p_2.y - p_1.y) * (p_2.y - p_1.y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">x</span><span class="params">(<span class="type">const</span> Point&amp; p_1, <span class="type">const</span> Point&amp; p_2, <span class="type">const</span> Point&amp; p_3)</span><span class="comment">//叉积公式</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (p_2.x - p_1.x) * (p_3.y - p_1.y) - (p_3.x - p_1.x) * (p_2.y - p_1.y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> Point&amp; p_1, <span class="type">const</span> Point&amp; p_2)</span><span class="comment">//极角排序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> pp = <span class="built_in">x</span>(p_1, p_2, P[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pp &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (pp &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span>  <span class="built_in">distance</span>(P[<span class="number">0</span>], p_1) &lt; <span class="built_in">distance</span>(P[<span class="number">0</span>], p_2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Graham</span><span class="params">(<span class="type">int</span> n)</span><span class="comment">//Graham算法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (P[i].y &lt; P[k].y || (P[i].y == P[k].y &amp;&amp; P[i].x &lt; P[k].x)) k = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(P[<span class="number">0</span>], P[k]);</span><br><span class="line">    <span class="built_in">sort</span>(P + <span class="number">1</span>, P + n, cmp);</span><br><span class="line">    <span class="type">int</span> top = <span class="number">2</span>;</span><br><span class="line">    Q[<span class="number">0</span>] = P[<span class="number">0</span>], Q[<span class="number">1</span>] = P[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//去共线</span></span><br><span class="line">        <span class="keyword">while</span> (top &gt; <span class="number">1</span> &amp;&amp; <span class="built_in">x</span>(Q[top - <span class="number">2</span>], Q[top - <span class="number">1</span>], P[i]) &lt;= <span class="number">0</span>) top--;  </span><br><span class="line">        Q[top++] = P[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> top;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; Q[i].x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; Q[i].y &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)</span><br><span class="line">        sum += <span class="built_in">distance</span>(Q[i], Q[i + <span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    sum += <span class="built_in">distance</span>(Q[<span class="number">0</span>], Q[n - <span class="number">1</span>]);<span class="comment">//首尾</span></span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输入点集：&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; M; i++)&#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        cin &gt;&gt; x&gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span> (!x &amp;&amp; !y)<span class="keyword">break</span>;</span><br><span class="line">        P[i].x = x;</span><br><span class="line">        P[i].y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> a = <span class="built_in">Graham</span>(i);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;凸包是：&quot;</span> ;<span class="built_in">show</span>(a);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;凸包周长是：&quot;</span>&lt;&lt; <span class="built_in">sum</span>(a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="动态规划"><a class="markdownIt-Anchor" href="#动态规划"></a> 动态规划</h3>
<h4 id="文字描述-3"><a class="markdownIt-Anchor" href="#文字描述-3"></a> 文字描述</h4>
<p>无</p>
<h4 id="代码-3"><a class="markdownIt-Anchor" href="#代码-3"></a> 代码</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line">#define PI 3.1415926</span><br><span class="line">#define M 10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">struct Point</span><br><span class="line">&#123;</span><br><span class="line">    int x, y;</span><br><span class="line">    double a = 0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Point P[M];//input</span><br><span class="line">Point Q[M];//output</span><br><span class="line">int book[M];//标记点</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 计算三角形面积</span><br><span class="line">int area_t(Point p1, Point p2, Point pi)</span><br><span class="line">&#123;</span><br><span class="line">    return p1.x*p2.y + pi.x*p1.y + p2.x*pi.y - pi.x*p2.y - p2.x*p1.y - p1.x*pi.y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//角度排</span><br><span class="line">int comp(const Point&amp; p_1, const Point&amp; p_2)</span><br><span class="line">&#123;</span><br><span class="line">    return p_1.a &lt; p_2.a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//横坐标</span><br><span class="line">bool cmp(const Point&amp; p1, const Point&amp; p2)</span><br><span class="line">&#123;</span><br><span class="line">    if(p1.x==p2.x) return p1.y&lt;p2.y;</span><br><span class="line">    return p1.x&lt;p2.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print(Point P[], int n)</span><br><span class="line">&#123;</span><br><span class="line">    int k = 0;</span><br><span class="line">    cout &lt;&lt;&quot;relusts:&quot;;</span><br><span class="line">    for (int i = 0; i &lt; n; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        if (book[i])</span><br><span class="line">        &#123;</span><br><span class="line">            Q[k] = P[i];</span><br><span class="line">            cout &lt;&lt; &quot;(&quot; &lt;&lt; Q[k].x &lt;&lt; &quot;,&quot; &lt;&lt; Q[k].y &lt;&lt; &quot;)&quot; &lt;&lt; &quot;\t&quot;;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//使其按逆时排列</span><br><span class="line">void mysort_P(Point *P, int n)</span><br><span class="line">&#123;</span><br><span class="line">    for (int i = 0; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!P[i].x)</span><br><span class="line">        &#123;</span><br><span class="line">            if(P[i].y &lt; 0) P[i].a = 3.0*PI / 2.0;</span><br><span class="line">            else P[i].a = PI / 2.0;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            P[i].a = atan((double)P[i].y / P[i].x); //一象限不变</span><br><span class="line">            if (!P[i].y) if (P[i].x &lt; 0) P[i].a = PI;//0和PI的判断</span><br><span class="line">                else if (P[i].a * P[i].y  &lt; 0) P[i].a += PI;//二、三象限加PI</span><br><span class="line">                else  &#123;//四象限加2*PI</span><br><span class="line">                    if (P[i].y &lt; 0)P[i].a += 2 * PI;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(P , P+n , comp);//按序排</span><br><span class="line">    print(P, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 递归求凸包</span><br><span class="line">// ps 是当前要求解的点的集合，ps保存这些点在points数组中的下标</span><br><span class="line">// mode 表示递归s1 s2，还是递归s3，s4，还是同时递归 s1，s2，s3，s4</span><br><span class="line">// mode = 3 递归 s1，s2，s3，s4，只有第一次调用会出现该情况</span><br><span class="line">// mode = 2 递归s3，s4</span><br><span class="line">// mode = 1 递归s1 s2</span><br><span class="line">void ConvexHull(vector&lt;int&gt; &amp;ps, int mode)</span><br><span class="line">&#123;</span><br><span class="line">    // 边界处理：少于两个点的集合一定是凸包上的点</span><br><span class="line">    if(ps.size()&lt;=2)</span><br><span class="line">    &#123;</span><br><span class="line">        for(int i=0; i&lt;ps.size(); i++) book[ps[i]]=1;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 最左右一定是凸包上的点， pa最左点，pb最右点</span><br><span class="line">    book[ps.front()]=1, book[ps.back()]=1;</span><br><span class="line">    Point pa=P[ps.front()], pb=P[ps.back()];</span><br><span class="line"></span><br><span class="line">    // 找距离 pa，pb组成的直线最远的点，imax是上方最远，imin是下方最远</span><br><span class="line">    int maxs=INT_MIN, mins=INT_MAX, imax=-1, imin=-1;</span><br><span class="line">    for(int i=1; i&lt;ps.size()-1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        int s = area_t(pa, pb, P[ps[i]]);</span><br><span class="line">        if(s&gt;maxs &amp;&amp; s&gt;=0) maxs=s, imax=ps[i];</span><br><span class="line">        if(s&lt;mins &amp;&amp; s&lt;=0) mins=s, imin=ps[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // pa,pb与imax，imin的连线，分割出下一趟递归的点集合 s1 s2 s3 s4</span><br><span class="line">    vector&lt;int&gt; s1, s2, s3, s4;</span><br><span class="line">    for(int i=0; i&lt;ps.size()-1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if(area_t(pa, P[imax], P[ps[i]]) &gt;= 0) s1.push_back(ps[i]);</span><br><span class="line">        if(area_t(pa, P[imin], P[ps[i]]) &lt;= 0) s3.push_back(ps[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=1; i&lt;ps.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if(area_t(P[imax], pb, P[ps[i]]) &gt;= 0) s2.push_back(ps[i]);</span><br><span class="line">        if(area_t(P[imin], pb, P[ps[i]]) &lt;= 0) s4.push_back(ps[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(mode==3)</span><br><span class="line">        ConvexHull(s1, 1), ConvexHull(s2, 1), ConvexHull(s3, 2), ConvexHull(s4, 2);</span><br><span class="line">    else if(mode==1) ConvexHull(s1, 1), ConvexHull(s2, 1);</span><br><span class="line">    else if(mode==2) ConvexHull(s3, 2), ConvexHull(s4, 2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//计算凸包的面积</span><br><span class="line">double s_ConvexHull(int n)</span><br><span class="line">&#123;</span><br><span class="line">    double sum = 0;</span><br><span class="line">    for (int i = 1 ; i &lt; n-2 ; i++)</span><br><span class="line">        sum += fabs(area_t(Q[0],Q[i],Q[i+1]))/2;</span><br><span class="line"></span><br><span class="line">    return sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    int n, x, y;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;int&gt; ps(n);</span><br><span class="line">    for(int i=0; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; P[i].x &gt;&gt; P[i].y;</span><br><span class="line">        ps[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(P, P + n, cmp);</span><br><span class="line">    ConvexHull(ps, 3);</span><br><span class="line">    mysort_P(P, n);</span><br><span class="line">    cout&lt;&lt;&quot;ConvexHull&#x27;s area is:&quot;&lt;&lt;s_ConvexHull(n);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="背包问题"><a class="markdownIt-Anchor" href="#背包问题"></a> 背包问题</h2>
<h3 id="蛮力法-2"><a class="markdownIt-Anchor" href="#蛮力法-2"></a> 蛮力法</h3>
<h4 id="代码-4"><a class="markdownIt-Anchor" href="#代码-4"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 20</span></span><br><span class="line"><span class="type">int</span> max_value = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> max_weight = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> max_a[M];</span><br><span class="line"><span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>(max_a , max_a + n);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;获胜者所选取的商品编号为：&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ;i++) cout &lt;&lt; max_a[i]&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl&lt;&lt;<span class="string">&quot;获胜者所能选取的商品的总重量和总的价格为：&quot;</span> &lt;&lt; max_weight&lt;&lt;<span class="string">&quot;\t&quot;</span>&lt;&lt;max_value &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a[] ,<span class="type">int</span> n , <span class="type">int</span> m , <span class="type">int</span> object[M][<span class="number">2</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> weight = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; n+<span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (weight &gt; m)<span class="keyword">break</span>;</span><br><span class="line">        weight += object[a[i] - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">        value += object[a[i] - <span class="number">1</span>][<span class="number">1</span>]; </span><br><span class="line">    &#125;</span><br><span class="line">    k = i;</span><br><span class="line">    value = value - object[a[i - <span class="number">1</span>] - <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">    weight = weight - object[a[i - <span class="number">1</span>] - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (value &gt; max_value)&#123;</span><br><span class="line">        max_value = value;</span><br><span class="line">        max_weight = weight;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i<span class="number">-1</span>; j++) max_a[j] = a[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Prem</span><span class="params">(<span class="type">int</span> a[] , <span class="type">int</span> start , <span class="type">int</span> end , <span class="type">int</span> m, <span class="type">int</span> object[M][<span class="number">2</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (start == end)<span class="built_in">sum</span>(a,end+<span class="number">1</span>,m,object);<span class="comment">//递归结束条件</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt;= end; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">swap</span>(a[start], a[i]);<span class="comment">//全排列时start的后位依次做第一位</span></span><br><span class="line">			<span class="built_in">Prem</span>(a, start + <span class="number">1</span>, end , m , object);</span><br><span class="line">			<span class="built_in">swap</span>(a[start], a[i]);<span class="comment">//换回来才能保证下一次交换</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> m, n;</span><br><span class="line">    <span class="type">int</span> a[M];</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输入商场中商品的数量:&quot;</span>; cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输入小车能装载的最大装载量:&quot;</span>;cin &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) a[i] = i + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> object[M][<span class="number">2</span>];</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输入每种商品的重量和价格:&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) cin&gt;&gt;object[i][j];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Prem</span>(a,<span class="number">0</span>, n<span class="number">-1</span> , m , object);<span class="comment">//寻找各种可能结果</span></span><br><span class="line">    <span class="built_in">print</span>(k);<span class="comment">//打印</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="tsp旅行商问题"><a class="markdownIt-Anchor" href="#tsp旅行商问题"></a> TSP旅行商问题</h2>
<h3 id="蛮力法-3"><a class="markdownIt-Anchor" href="#蛮力法-3"></a> 蛮力法</h3>
<h4 id="文字描述-4"><a class="markdownIt-Anchor" href="#文字描述-4"></a> 文字描述</h4>
<p>无</p>
<h4 id="代码-5"><a class="markdownIt-Anchor" href="#代码-5"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 20</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> MIN = <span class="number">1000</span>;<span class="comment">//用于计算最短路径</span></span><br><span class="line"><span class="type">int</span> min_a[M];<span class="comment">//用于保存最短路径编号</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;最短路径为：&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)cout &lt;&lt; min_a[i] &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;这条路长：&quot;</span> &lt;&lt; MIN;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> a[] , <span class="type">int</span> d[M][M] ,<span class="type">int</span> n , <span class="type">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> sum = d[m<span class="number">-1</span>][a[<span class="number">0</span>]<span class="number">-1</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span> (i == n - <span class="number">1</span>) sum += d[a[i]<span class="number">-1</span>][m<span class="number">-1</span>];</span><br><span class="line">		<span class="keyword">else</span> sum += d[a[i]<span class="number">-1</span>][a[i + <span class="number">1</span>]<span class="number">-1</span>];</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (sum &lt; MIN)&#123;</span><br><span class="line">		MIN = sum;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n+<span class="number">1</span>; i++) min_a[i] = a[i<span class="number">-1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//全排列</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Prem</span><span class="params">(<span class="type">int</span> a[] , <span class="type">int</span> d[M][M] , <span class="type">int</span> start , <span class="type">int</span> end , <span class="type">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (start == end)<span class="built_in">sum</span>(a,d,end+<span class="number">1</span>,m);<span class="comment">//递归结束条件</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt;= end; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">swap</span>(a[start], a[i]);<span class="comment">//全排列时start的后位依次做第一位</span></span><br><span class="line">			<span class="built_in">Prem</span>(a, d ,start + <span class="number">1</span>, end ,m);</span><br><span class="line">			<span class="built_in">swap</span>(a[start], a[i]);<span class="comment">//换回来才能保证下一次交换</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> n, m;</span><br><span class="line">	<span class="type">int</span> a[M],d[M][M];</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;输入待旅行的城市数量:&quot;</span>; cin &gt;&gt; n;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;输入旅行者出发的城市编号:&quot;</span>;cin &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n<span class="number">-1</span> ;i++)&#123;</span><br><span class="line">		a[i] = i + <span class="number">1</span>; </span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; m<span class="number">-1</span>)a[i] = i+<span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;输入城市之间的距离：&quot;</span>&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ;i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) </span><br><span class="line">			cin &gt;&gt; d[i][j];</span><br><span class="line"></span><br><span class="line">	min_a[<span class="number">0</span>] = m;min_a[n] = m;</span><br><span class="line">	<span class="built_in">Prem</span>(a, d, <span class="number">0</span> ,n<span class="number">-2</span> ,m);</span><br><span class="line">	<span class="built_in">print</span>(n+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="动态规划-2"><a class="markdownIt-Anchor" href="#动态规划-2"></a> 动态规划</h3>
<h4 id="文字"><a class="markdownIt-Anchor" href="#文字"></a> 文字</h4>
<p>用邻接矩阵g来表示各城市间的距离，问题可抽象为:从结点s出发，令d(i,V)表示从顶点i出发经过V(是一个点的集合)中各个顶点一次且仅一次，最后回到出发点s的最短路径长度。</p>
<ol>
<li>
<p>当V为空集，那么d(i,V)表示直接从i回到s，此时d(i,V) = g[i][s]。</p>
</li>
<li>
<p>如果V不为空，那么就是对子问题的最优求解，必须在V这个城市集合中，尝试每一个，并求出最优解。</p>
</li>
</ol>
<p>在求解d(i, V)时，必须在V中找出这样一个结点k，它满足(从i到k的距离 + 从k出发经过 V-(k)这个集合回到s)是V的所有结点中最小的。</p>
<p>可得出状态转移方程：d(i,V) = min(g[i][k] + d(k,V–(k)))，其中k代表遍历当前V集合中所有的城市。</p>
<p>综上，可得出动态规划方程：</p>
<p>![img](file:///C:/Users/NILI99~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)</p>
<p>其中s为起点。</p>
<p>用代码实现时，由于V的状态有很多种，因此考虑采用状态压缩的办法表示V，即用数的二进制状态来表示V，第i个二进制位为0就代表V中没有i，为1则代表有。例如(5)D = (101)B, 代表V中的城市有0和2，而没有1，(7)D = (111)B, 代表V中的城市有0、1、2。</p>
<h4 id="代码-6"><a class="markdownIt-Anchor" href="#代码-6"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 10e7</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="comment">//保存顶点i到状态s最后回到起始点的最小距离</span></span><br><span class="line"><span class="type">int</span> dp[<span class="number">10001</span>][<span class="number">10001</span>];</span><br><span class="line"><span class="comment">//核心函数，求出动态规划dp数组</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TSP</span><span class="params">(<span class="type">int</span> **a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//初始化dp[i][0]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i][<span class="number">0</span>] = a[i][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//求解dp[i][j],先跟新列在更新行</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; m; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][j] = INF;</span><br><span class="line">            <span class="comment">//如果集和j(或状态j)中包含结点i,则不符合条件退出</span></span><br><span class="line">            <span class="keyword">if</span> (((j &gt;&gt; (i - <span class="number">1</span>)) &amp; <span class="number">1</span>) == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt; n; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (((j &gt;&gt; (k - <span class="number">1</span>)) &amp; <span class="number">1</span>) == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (dp[i][j] &gt; a[i][k] + dp[k][j ^ (<span class="number">1</span> &lt;&lt; (k - <span class="number">1</span>))])</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i][j] = a[i][k] + dp[k][j ^ (<span class="number">1</span> &lt;&lt; (k - <span class="number">1</span>))];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="type">int</span>** a,bestc;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    a = <span class="keyword">new</span> <span class="type">int</span>* [n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">        a[i] = <span class="keyword">new</span> <span class="type">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            cin &gt;&gt; a[i][j];</span><br><span class="line">            a[j][i] = a[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) a[i][i] = <span class="number">0</span>;</span><br><span class="line">    m = <span class="number">1</span> &lt;&lt; (n - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">TSP</span>(a);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;TSP: &quot;</span> &lt;&lt; dp[<span class="number">0</span>][m - <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="因子分解"><a class="markdownIt-Anchor" href="#因子分解"></a> 因子分解</h2>
<h4 id="分治法"><a class="markdownIt-Anchor" href="#分治法"></a> 分治法</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> a[M];</span><br><span class="line"><span class="type">int</span> i,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    cout&lt;&lt;n&lt;&lt;<span class="string">&quot; = &quot;</span>&lt;&lt;a[i++];</span><br><span class="line">    <span class="keyword">while</span>(a[i])&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot; * &quot;</span>&lt;&lt;a[i];</span><br><span class="line">        a[i++] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(x == <span class="number">1</span> &amp;&amp; a[<span class="number">0</span>])<span class="comment">//递归退出</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">show</span>(m);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> y = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(y &lt;= x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(x%y))&#123;</span><br><span class="line">            a[b] = y;</span><br><span class="line">            <span class="built_in">fun</span>(x/y,b+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    m = n;</span><br><span class="line">    <span class="built_in">fun</span>(n,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="格雷码"><a class="markdownIt-Anchor" href="#格雷码"></a> 格雷码</h2>
<h4 id="分治法-2"><a class="markdownIt-Anchor" href="#分治法-2"></a> 分治法</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 10</span></span><br><span class="line"><span class="type">int</span> a[N][N];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">pow</span>(<span class="number">2</span>,n) ; i++)</span><br><span class="line">    &#123;    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; n ; j++)</span><br><span class="line">            cout&lt;&lt;a[i][j];</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;    &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Gray</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="comment">//退出递归</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;a[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m = <span class="built_in">pow</span>(<span class="number">2</span>,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;m/<span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i][n<span class="number">-1</span>] = <span class="number">0</span>;<span class="comment">//第一排为0</span></span><br><span class="line">        a[m-i<span class="number">-1</span>][n<span class="number">-1</span>] = <span class="number">1</span>; <span class="comment">//第二排为1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Gray</span>(n<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//格雷码拼接操作</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> i=m/<span class="number">2</span>; i&lt;m; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;n<span class="number">-1</span>; j++)</span><br><span class="line">            a[i][j] = a[m-i<span class="number">-1</span>][j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="built_in">Gray</span>(n);</span><br><span class="line">    <span class="built_in">show</span>(n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="最大子矩阵"><a class="markdownIt-Anchor" href="#最大子矩阵"></a> 最大子矩阵</h2>
<h4 id="动态规划-3"><a class="markdownIt-Anchor" href="#动态规划-3"></a> 动态规划</h4>
<h5 id="文字描述-5"><a class="markdownIt-Anchor" href="#文字描述-5"></a> 文字描述</h5>
<p>采用自顶向下的思想进行递推。从初始的m x n矩阵开始，对矩阵进行求和，并与不同方向的m x (n-1)和(m-1) x n 矩阵进行递推和比较，在寻找过程中设置book数组保存访问状态和子矩阵的和，最终返回最大值。</p>
<p>阶段：当前子矩阵的左上角坐标为start_x, start_y</p>
<p>状态：当前子矩阵的size为m x n</p>
<p>阶段目标：book[a[start_x][ start_y],m,n]表示当前的值,为左上角坐标为start_x,start_y的m x n矩阵的最大的子矩阵和。</p>
<p>状态转移方程:book[a[start_x][ start_y],m,n] = max{ book[a[start_x][ start_y],m,n],book[a[start_x][ start_y],m-1,n],book[a[start_x+1][ start_y],m-1,n], book[a[start_x][ start_y],m,n-1],book[a[start_x][ start_y+1],m,n-1]}</p>
<h5 id="代码-7"><a class="markdownIt-Anchor" href="#代码-7"></a> 代码</h5>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> row,col;</span><br><span class="line"><span class="type">int</span> a[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Books</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">    <span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">&#125;book[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> start_x,<span class="type">int</span> start_y,<span class="type">int</span> m , <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!m||!n||start_x+m&gt;row||start_y+n&gt;col) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(m==<span class="number">1</span> &amp;&amp; n == <span class="number">1</span> ) <span class="keyword">return</span> a[start_x][start_y];</span><br><span class="line">    <span class="keyword">if</span>(book[a[start_x][start_y]+<span class="number">10</span>*m+<span class="number">100</span>*n].flag==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> book[a[start_x][start_y]+<span class="number">10</span>*m+<span class="number">100</span>*n].sum;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> temp_sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = start_x ; i &lt; start_x+m ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = start_y ; j &lt; start_y+n ; j++)</span><br><span class="line">            temp_sum += a[i][j];</span><br><span class="line"></span><br><span class="line">    book[a[start_x][start_y]+<span class="number">10</span>*m+<span class="number">100</span>*n].sum = temp_sum;</span><br><span class="line">    book[a[start_x][start_y]+<span class="number">10</span>*m+<span class="number">100</span>*n].flag=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(&#123;temp_sum,</span><br><span class="line">                <span class="built_in">fun</span>(start_x+<span class="number">1</span>,start_y,m<span class="number">-1</span>,n),</span><br><span class="line">                <span class="built_in">fun</span>(start_x,start_y,m<span class="number">-1</span>,n),</span><br><span class="line">                <span class="built_in">fun</span>(start_x,start_y,m,n<span class="number">-1</span>),</span><br><span class="line">                <span class="built_in">fun</span>(start_x,start_y+<span class="number">1</span>,m,n<span class="number">-1</span>)&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;input row,col: &quot;</span>;</span><br><span class="line">    cin &gt;&gt; row &gt;&gt; col;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; row ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; col ; j++)</span><br><span class="line">           cin&gt;&gt;a[i][j];</span><br><span class="line"></span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;max:&quot;</span> &lt;&lt; <span class="built_in">fun</span>(<span class="number">0</span>, <span class="number">0</span>, row, col) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数字三角形"><a class="markdownIt-Anchor" href="#数字三角形"></a> 数字三角形</h2>
<p>动态规划</p>
<h3 id="文字描述-6"><a class="markdownIt-Anchor" href="#文字描述-6"></a> 文字描述</h3>
<p>先根据元素个数填充三角形，行数为求解T=n*(n+1)/2的向上取整结果。若不能构成完整的数字三角形，空位补0。</p>
<p>行数为 n的三角形路径之和的最大值，可看做行数为n-1的三角形路径之和的最大值加上顶层。先求出第n-1阶段(第n-1行上各点)到第n行的最大和，再依次求出第n-2阶段、第n-3阶段……第1阶段(起始点)各决策点至第n行的最佳路径。按照自底向上的思想编写代码。</p>
<p>阶段：当前所在塔的层数i</p>
<p>状态：当前所在某层的位置j</p>
<p>阶段目标：f[i,j]表示当前的值,为从第i阶段中的点j至第n行的最大的数字和。</p>
<p>状态转移方程：f[i][j]=f[i][j]+max(f[i+1][j],f[i+1][j+1])</p>
<p>​<br />
图示分析：</p>
<table>
<thead>
<tr>
<th>n=5</th>
<th>9+max(50,49)=59</th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>n=4</td>
<td>12+max(38,34)=50</td>
<td>15+max(34,29)=49</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>n=3</td>
<td>10+max(21,28)=38</td>
<td>6+max(28,19)=34</td>
<td>8+max(19,21)=29</td>
<td></td>
<td></td>
</tr>
<tr>
<td>n=2</td>
<td>2+max(19,7)=21</td>
<td>18+max(7,10)=28</td>
<td>9+max(10,4)=19</td>
<td>5+max(4,16)=21</td>
<td></td>
</tr>
<tr>
<td>n=1</td>
<td>19</td>
<td>7</td>
<td>10</td>
<td>4</td>
<td>16</td>
</tr>
</tbody>
</table>
<h4 id="代码-8"><a class="markdownIt-Anchor" href="#代码-8"></a> 代码</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;math.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dp[<span class="number">105</span>][<span class="number">105</span>];<span class="comment">//动规矩阵，存放每次结果</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> T;<span class="comment">//T表示元素个数</span></span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="type">int</span> n;<span class="comment">//n表示层数</span></span><br><span class="line">    n = <span class="built_in">ceil</span>((<span class="built_in">sqrt</span>(<span class="number">1</span>+<span class="number">8</span>*T)<span class="number">-1</span>)/<span class="number">2.0</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;n: &quot;</span>&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; dp[i][j];</span><br><span class="line">            k++;</span><br><span class="line">            <span class="keyword">if</span>(k&gt;T) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;dp[i][j]&lt;&lt;<span class="string">&quot;   &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//自底向上动态规划</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">            dp[i][j] += <span class="built_in">max</span>(dp[i + <span class="number">1</span>][j], dp[i + <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;dp is &quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;dp[i][j]&lt;&lt;<span class="string">&quot;   &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;max :  &quot;</span>&lt;&lt;dp[<span class="number">1</span>][<span class="number">1</span>]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="最长递增子序列"><a class="markdownIt-Anchor" href="#最长递增子序列"></a> 最长递增子序列</h2>
<p>动态规划</p>
<h3 id="文字描述-7"><a class="markdownIt-Anchor" href="#文字描述-7"></a> 文字描述</h3>
<p>算法思想：</p>
<p>阶段：当前子序列长度为i</p>
<p>阶段目标：L[i]表示当前序列的最长递增子序列长少-1（L[i]初始值为0）</p>
<p>状态转移方程:if(a[i]&gt;a[j])then L[i]=max{L[j]}+1(j:1ài)，否则L[i]值不变。</p>
<h3 id="代码-9"><a class="markdownIt-Anchor" href="#代码-9"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> max_long=<span class="number">-9999</span>;</span><br><span class="line"><span class="type">int</span> dp_long[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find_long</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[j] &amp;&amp; dp_long[i] &lt; dp_long[j] + <span class="number">1</span>)</span><br><span class="line">                dp_long[i] = dp_long[j] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (dp_long[i] &gt; max_long) max_long = dp_long[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; n ;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="built_in">find_long</span>(a,n);</span><br><span class="line">    cout &lt;&lt; max_long+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图结点着色"><a class="markdownIt-Anchor" href="#图结点着色"></a> 图结点着色</h2>
<p>回溯</p>
<h3 id="文字描述-8"><a class="markdownIt-Anchor" href="#文字描述-8"></a> 文字描述</h3>
<p>该题实质为图结点的着色问题。可以具体抽象为：输入无向连通图的各节点和其连接的点，找一种需要最少颜色的着色法使图中每条边的2个顶点着不同颜色。</p>
<p>输入设计：关键在于从字符串到邻接矩阵的转换。先使用s.erase(s.find('😂,1)去除字符串的”:”,然后使用if(s[j]&amp;&amp;(s[j]-s[0]))c[i][s[j]-s[0]+i]=1 的判断语句转换成邻接矩阵。</p>
<p>回溯设计：在图着色问题的解空间树中，如果从根结点到当前结点对应一个部分解，也就是所有的颜色指派都没有冲突，则在当前结点处选择第一棵子树继续搜索，也就是为下一个顶点着颜色1，否则，对当前子树的兄弟子树继续搜索，也就是为当前顶点着下一个颜色，如果所有m种颜色都已尝试过并且都发生冲突，则回溯到当前结点的父结点处，上一个顶点的颜色改变，以此类推。具体描述：</p>
<p>1.将数组color[n]初始化为0并令k=1;</p>
<p>2.while(k&gt;=1)：a)依次考察每一种颜色，若顶点k的着色与其他顶点的着色不发生冲突，则转步骤b；否则，搜索下一个颜色；b)若顶点已全部着色，则输出数组color[n]，返回。c)若顶点k是一个合法着色，则k=k+1,处理下一个顶点；否则，重置顶点k的着色情况，k=k-1，转步骤c）。</p>
<h3 id="代码-10"><a class="markdownIt-Anchor" href="#代码-10"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algorithm&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;<span class="comment">//城市数</span></span><br><span class="line"><span class="type">int</span> m;<span class="comment">//当前着色数</span></span><br><span class="line"><span class="type">int</span> c[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> color[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ok</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        <span class="keyword">if</span>(c[k][i]==<span class="number">1</span>&amp;&amp;color[i]==color[k]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//法1</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GraphColor</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i,k;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)color[i]=<span class="number">0</span>;</span><br><span class="line">    k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(k&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        color[k]=color[k]+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(color[k]&lt;=n)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">ok</span>(k)==<span class="number">1</span>)<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span> color[k]=color[k]+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//深度到n,着色完全</span></span><br><span class="line">        <span class="keyword">if</span>(color[k]&lt;=n&amp;&amp;k==n)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">sort</span>(color,color+n);</span><br><span class="line">            cout&lt;&lt;color[n<span class="number">-1</span>]&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//深度不到n，节点下移</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(color[k]&lt;=n&amp;&amp;k&lt;n)k=k+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//回溯，着色未完全,返回父节点</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            color[k]=<span class="number">0</span>;</span><br><span class="line">            k=k<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//法2</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(step==n)<span class="comment">//着色数=城市数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">sort</span>(color,color+n);</span><br><span class="line">        cout&lt;&lt;color[n<span class="number">-1</span>]&lt;&lt;endl;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">           color[step]=i+<span class="number">1</span>;</span><br><span class="line">           <span class="keyword">if</span>(<span class="built_in">ok</span>(step))<span class="built_in">dfs</span>(step+<span class="number">1</span>);</span><br><span class="line">           color[step]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">   cin&gt;&gt;n;</span><br><span class="line">   string s;</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">   &#123;</span><br><span class="line">       cin&gt;&gt;s;</span><br><span class="line">       s.<span class="built_in">erase</span>(s.<span class="built_in">find</span>(<span class="string">&#x27;:&#x27;</span>),<span class="number">1</span>);</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">if</span>(s[j]&amp;&amp;(s[j]-s[<span class="number">0</span>]))c[i][s[j]-s[<span class="number">0</span>]+i]=<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(int i=0;i&lt;n;i++)</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        for(int j=0;j&lt;n;j++)</span></span><br><span class="line"><span class="comment">//            cout&lt;&lt;c[i][j]&lt;&lt;&quot;    &quot;;</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//   GraphColor(n);</span></span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="集合找和为c"><a class="markdownIt-Anchor" href="#集合找和为c"></a> 集合找和为C</h2>
<h3 id="文字描述-9"><a class="markdownIt-Anchor" href="#文字描述-9"></a> 文字描述</h3>
<ol>
<li>回溯设计：</li>
</ol>
<p>目标函数：sum+=out[k],sum=t&amp;k=n；约束条件：sum&lt;t，k&lt;n；限界函数：sum&lt;t,k&lt;n</p>
<p>具体算法描述：未避免重复计算，先将输入的list数组进行降序排序，并将其后的数据作为下一层递归深度搜索的子节点。设置全局变量sum作为回溯的约束条件：</p>
<ol>
<li>
<p>sum&lt;t&amp;k&lt;n，继续dfs到下一层</p>
</li>
<li>
<p>sum=t&amp;k=n，输出</p>
</li>
<li>
<p>sum&gt;t||k&gt;n，进行剪枝并回溯到上一层。</p>
</li>
<li>
<p>去除重复输出设计:将每次回溯所得的结果存入二维数组out_comp中，其中i表示结果序号，即存回溯得到的out[n]到二维数组的第i行。每次结果与out_comp[i][j]的每行比较，有重复则不输出</p>
</li>
</ol>
<h3 id="代码-11"><a class="markdownIt-Anchor" href="#代码-11"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algorithm&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> c,n;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; s;<span class="comment">//input</span></span><br><span class="line"><span class="type">int</span> sum,k,out[<span class="number">10000</span>],book[<span class="number">10000</span>];</span><br><span class="line"><span class="type">int</span> out_comp[<span class="number">10000</span>][<span class="number">10000</span>];<span class="comment">//去重复</span></span><br><span class="line"><span class="type">int</span> num;<span class="comment">//记录解个数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//去重复结果</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">fun_row</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">if</span>(a[i] != b[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=<span class="number">0</span>;p&lt;<span class="number">10000</span>;p++)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">fun_row</span>(out, out_comp[p]))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n=<span class="number">0</span>,m=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">fun</span>())<span class="comment">//输出不重复的结果</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (out[n])</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;out[n]&lt;&lt;<span class="string">&quot;  &quot;</span>;</span><br><span class="line">            out_comp[num][m] = out[n];</span><br><span class="line">            m++;n++;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(sum == c &amp;&amp; k== n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">output</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum&gt;c || k&gt;n) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!book[i] &amp;&amp; (s[i]&lt;=out[k<span class="number">-1</span>]||k==<span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//存入out</span></span><br><span class="line">            out[k]=s[i];</span><br><span class="line">            sum+=out[k];</span><br><span class="line">            book[i]=<span class="number">1</span>;</span><br><span class="line">            k++;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//向下dfs</span></span><br><span class="line">            <span class="built_in">backtrack</span>(step+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//回退</span></span><br><span class="line">            k--;</span><br><span class="line">            sum-=out[k];</span><br><span class="line">            book[i]=<span class="number">0</span>;</span><br><span class="line">            out[k]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    cin&gt;&gt;c&gt;&gt;n;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>||n&gt;<span class="number">10000</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;worry input n!&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;temp)s.<span class="built_in">push_back</span>(temp);</span><br><span class="line">    <span class="built_in">sort</span>(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>(),<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">backtrack</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(!num) cout&lt;&lt;<span class="string">&quot;No Solution!&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="构成最小倍数"><a class="markdownIt-Anchor" href="#构成最小倍数"></a> 构成最小倍数</h2>
<p>分支界限</p>
<h3 id="文字描述-10"><a class="markdownIt-Anchor" href="#文字描述-10"></a> 文字描述</h3>
<p>本题主要采用了BFS(广度优先搜索)+剪枝回溯的思路编写程序。主要使用了数组来存m位不同的十进制数字，使用队列来进行BFS的搜索的数据结构类型。为找寻最小倍数，先将输入的数组x进行升序排序，因为x数组中的数据可以重复使用，所以每次拓展活结点时，其子节点为x[]中的所有元素。找到则退出，没有找到则继续在该层遍历，然后拓展下一层继续按层寻找。</p>
<p>具体算法设计为：1.先对输入的数据进行判断，若x[i]%n=0，即单位输入的数字即为自然数n的最小倍数，则直接输出，退出程序。2.若没有，则非零元素按大小依次进入队头。3.遍历组合队头元素的每个活结点，out=front*10+x[i]，若out[i]%n=0，代表找到，输出并退出程序，否则，队头元素出队并将out入队作为下一层拓展遍历的活结点。4.若out&gt; pow(2,32)-1,表示查找失败，输出0且退出程序。</p>
<h3 id="代码-12"><a class="markdownIt-Anchor" href="#代码-12"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algorithm&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;queue&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,*x;<span class="comment">//input</span></span><br><span class="line">__int32 out;</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="type">int</span> front;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">()</span><span class="comment">//bfs广度搜索</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(x[i]%n))</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;x[i]&lt;&lt;endl;</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            q.<span class="built_in">push</span>(x[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        front=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            out=front*<span class="number">10</span>+x[i];</span><br><span class="line">            <span class="keyword">if</span>(!(out%n))</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;out&lt;&lt;endl;</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(out&gt;<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">32</span>)<span class="number">-1</span>)<span class="keyword">return</span> ;</span><br><span class="line">            q.<span class="built_in">push</span>(out);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    x=<span class="keyword">new</span> <span class="type">int</span>[m];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)cin&gt;&gt;x[i];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(x,x+m);</span><br><span class="line">    <span class="built_in">backtrack</span>();</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;0&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="贪心法求解最优服务次序"><a class="markdownIt-Anchor" href="#贪心法求解最优服务次序"></a> 贪心法求解最优服务次序</h2>
<h3 id="文字描述-11"><a class="markdownIt-Anchor" href="#文字描述-11"></a> 文字描述</h3>
<p>算法思想：利用贪心的思想，优先服务需要时间少的顾客，直到最后。运用到了队列的数据结构。</p>
<h3 id="代码-13"><a class="markdownIt-Anchor" href="#代码-13"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;vector&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> wait_pos[<span class="number">101</span>][<span class="number">101</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n; cin&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> s; cin&gt;&gt;s;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; t_temp;</span><br><span class="line">    <span class="type">int</span> temp;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;temp) t_temp.<span class="built_in">push_back</span>(temp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(t_temp.<span class="built_in">begin</span>(), t_temp.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(!t_temp.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        t.<span class="built_in">push</span>(t_temp.<span class="built_in">back</span>());</span><br><span class="line">        t_temp.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//排位置</span></span><br><span class="line">    <span class="keyword">while</span>(!t.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(t.<span class="built_in">empty</span>()) <span class="keyword">break</span>;</span><br><span class="line">            wait_pos[i][j] = t.<span class="built_in">front</span>();</span><br><span class="line">            t.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//找时间并输出</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> k=<span class="number">1</span>;</span><br><span class="line">        cout&lt;&lt;i+<span class="number">1</span>&lt;&lt;<span class="string">&quot;:&quot;</span>&lt;&lt;wait_pos[i][<span class="number">0</span>]&lt;&lt;<span class="string">&quot;   &quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(k&lt;j &amp;&amp; wait_pos[i][k])</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;wait_pos[i][k]&lt;&lt;<span class="string">&quot;   &quot;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> z=<span class="number">0</span>;z&lt;k;z++)sum+=wait_pos[i][z];</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;(<span class="type">double</span>)sum/n&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="自然数分解积最大问题"><a class="markdownIt-Anchor" href="#自然数分解积最大问题"></a> 自然数分解积最大问题</h2>
<h3 id="文字描述-12"><a class="markdownIt-Anchor" href="#文字描述-12"></a> 文字描述</h3>
<p>算法思想：贪心的想使每个分解出来的数尽可能的接近，因此得到的乘积最小。采取的策略：设n的加数为2+3+…+m+k;m为最大加数，k为剩余的数(k&lt;=m)；然后将k分到其他数中，策略就是从m-&gt;2的数值一次加一，直至把k消耗完。</p>
<h3 id="代码-14"><a class="markdownIt-Anchor" href="#代码-14"></a> 代码</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int a[1000];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    freopen(&quot;../input&quot;, &quot;r&quot;, stdin);</span><br><span class="line"></span><br><span class="line">    int n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    int sum = 0, m = 0, k;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //找最大加数a[m-1]</span><br><span class="line">    for (int i = 2; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[m++] = i;</span><br><span class="line">        sum += i;</span><br><span class="line">        if (sum &gt; n)</span><br><span class="line">        &#123;</span><br><span class="line">            sum -= i;</span><br><span class="line">            m--;</span><br><span class="line">            k = n - sum;//余数k</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //cout&lt;&lt;&quot;a[m-1]:&quot;&lt;&lt;a[m-1]&lt;&lt;&quot;\t&quot;&lt;&lt;&quot;k:&quot;&lt;&lt;k&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    //消耗余数</span><br><span class="line">    for (int i = m - 1; k; k--)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i]++;</span><br><span class="line">        i--;</span><br><span class="line">        if (i &lt; 0) i = m - 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //输出和累乘</span><br><span class="line">    int out=1;</span><br><span class="line">    for (int i = 0; i &lt; m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;a[i]&lt;&lt;&quot;\t&quot;;</span><br><span class="line">        out *= a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl&lt;&lt;out;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="贪心法最大删除数字问题"><a class="markdownIt-Anchor" href="#贪心法最大删除数字问题"></a> 贪心法最大删除数字问题</h2>
<h3 id="文字描述-13"><a class="markdownIt-Anchor" href="#文字描述-13"></a> 文字描述</h3>
<p>该算法同样涵盖了贪心算法的思想，根据分析，应当优先清除高位的小数，这样就可以带来局部最优解。所以从最高位开始寻找，从左到右依次遍历s[i]，若s[i]&lt;s[i+1]，则删除s[i]，并且缩短一位即可；若未找到，直接将len=len-1，即删除最后一位，输出即可。根据验证，此方法得到的解即为全局最优解。</p>
<p>最终，标记第一位非0的字符，从该位开始输出，得到的结果即为删除后的最大整数。</p>
<h3 id="代码-15"><a class="markdownIt-Anchor" href="#代码-15"></a> 代码</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#define MAX 10002</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	int k,len,flag,i,j;</span><br><span class="line">	char s[MAX]=&#123;0&#125;;</span><br><span class="line">	gets(s);</span><br><span class="line">	len=strlen(s);</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;k);</span><br><span class="line">	while(k)</span><br><span class="line">	&#123;</span><br><span class="line">		for(i=0;i&lt;len-1;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(s[i]&lt;s[i+1])</span><br><span class="line">			&#123;</span><br><span class="line">				for(j=i;j&lt;len-1;j++)</span><br><span class="line">				&#123;</span><br><span class="line">					s[j]=s[j+1];</span><br><span class="line">				&#125;</span><br><span class="line">				len--;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if(i==len-1)</span><br><span class="line">		&#123;</span><br><span class="line">			len--;</span><br><span class="line">		&#125;</span><br><span class="line">		k--;</span><br><span class="line">	&#125;</span><br><span class="line">	for(i=0;i&lt;len;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(s[i]!=&#x27;0&#x27;)</span><br><span class="line">		&#123;</span><br><span class="line">			flag=i;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for(i=flag;i&lt;len;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%c&quot;,s[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="迷宫问题的分支界限"><a class="markdownIt-Anchor" href="#迷宫问题的分支界限"></a> 迷宫问题的分支界限</h2>
<h3 id="文字-2"><a class="markdownIt-Anchor" href="#文字-2"></a> 文字</h3>
<p>约束条件：箱子没有撞墙、机器人没有撞墙、位置不重复（若重复则代表一定有更少的解决步骤）。程序中将可以走的位置全部用0来代表，不能走的位置用1来代表，因此撞墙的约束条件可用如下式子来判断：</p>
<p>if (maze[next.bx][<a href="http://next.by">next.by</a>] == 0    //箱子所在位置不是墙</p>
<p>​       &amp;&amp; maze[next.px][<a href="http://next.py">next.py</a>] == 0)   //&amp;&amp;人所在位置不是墙</p>
<p>箱子和机器人的位置用一个四维数组来存储，四维分别是箱子和人的行、列下标，则位置不重复的约束条件：</p>
<p>if (used[next.bx][<a href="http://next.by">next.by</a>][next.px][<a href="http://next.py">next.py</a>] == 0) //节点不重复</p>
<h3 id="代码-16"><a class="markdownIt-Anchor" href="#代码-16"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAX = <span class="number">20</span>;</span><br><span class="line"><span class="type">char</span> maze[MAX][MAX];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> px, py;  <span class="comment">//箱子位置</span></span><br><span class="line">    <span class="type">int</span> bx, by;  <span class="comment">//人位置</span></span><br><span class="line">    <span class="type">bool</span> useful;    <span class="comment">//本节点是否有效</span></span><br><span class="line">&#125;;                  <span class="comment">//无效条件：箱子越界、撞墙、节点重复</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;   <span class="comment">//n行m列</span></span><br><span class="line">node start;</span><br><span class="line"><span class="type">int</span> tx, ty;  <span class="comment">//目标位置</span></span><br><span class="line">queue &lt;node&gt; q1;</span><br><span class="line"><span class="type">int</span> used[MAX][MAX][MAX][MAX];   <span class="comment">//判重数组</span></span><br><span class="line"><span class="type">int</span> step[MAX][MAX][MAX][MAX];   <span class="comment">//步数数组</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> walk[<span class="number">4</span>][<span class="number">2</span>] = <span class="comment">//走一步后的新坐标变化</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="number">0</span>, <span class="number">-1</span>,  <span class="comment">//左</span></span><br><span class="line">    +<span class="number">1</span>, <span class="number">0</span>,  <span class="comment">//下</span></span><br><span class="line">    <span class="number">0</span>, +<span class="number">1</span>,  <span class="comment">//右</span></span><br><span class="line">    <span class="number">-1</span>, <span class="number">0</span>   <span class="comment">//上</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">node <span class="title">moveto</span><span class="params">(node cur, <span class="type">int</span> i)</span></span>;   <span class="comment">//返回人向i方向走一格的新节点</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">input</span>();</span><br><span class="line">    cout &lt;&lt; <span class="built_in">bfs</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;maze[i][j];   <span class="comment">//将数字按字符读入，再转换成数字</span></span><br><span class="line">            <span class="keyword">switch</span> (maze[i][j])</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">                maze[i][j] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                maze[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>: <span class="comment">//箱子</span></span><br><span class="line">            &#123;</span><br><span class="line">                start.bx = i;</span><br><span class="line">                start.by = j;</span><br><span class="line">                maze[i][j] = <span class="number">0</span>;   <span class="comment">//将此处标记为0，意为“可以走”</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;T&#x27;</span>: <span class="comment">//目标位置</span></span><br><span class="line">            &#123;</span><br><span class="line">                tx = i;</span><br><span class="line">                ty = j;</span><br><span class="line">                maze[i][j] = <span class="number">0</span>;   <span class="comment">//同上</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>: <span class="comment">//人</span></span><br><span class="line">            &#123;</span><br><span class="line">                start.px = i;</span><br><span class="line">                start.py = j;</span><br><span class="line">                maze[i][j] = <span class="number">0</span>;   <span class="comment">//同上</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">default</span>:<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//标记初始节点并入队</span></span><br><span class="line">    used[start.bx][start.by][start.px][start.py] = <span class="number">1</span>;</span><br><span class="line">    step[start.bx][start.by][start.px][start.py] = <span class="number">0</span>;</span><br><span class="line">    q1.<span class="built_in">push</span>(start);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node cur, next;</span><br><span class="line">    <span class="keyword">while</span> (!q1.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cur = q1.<span class="built_in">front</span>();</span><br><span class="line">        q1.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)  <span class="comment">//人向4个方向试探</span></span><br><span class="line">        &#123;</span><br><span class="line">            next = <span class="built_in">moveto</span>(cur, i);    <span class="comment">//返回扩展所得的新节点</span></span><br><span class="line">            <span class="keyword">if</span> (next.useful)     <span class="comment">//若该节点有效</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (next.bx == tx &amp;&amp; next.by == ty)    <span class="comment">//判断箱子是否到达目标位置</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> step[next.bx][next.by][next.px][next.py];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>    <span class="comment">//还未到达，新节点入队</span></span><br><span class="line">                &#123;</span><br><span class="line">                    q1.<span class="built_in">push</span>(next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">//无法到达，返回-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//节点无效条件：箱子或人越界、箱子或人撞墙、节点重复</span></span><br><span class="line"><span class="function">node <span class="title">moveto</span><span class="params">(node cur, <span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node next;</span><br><span class="line">    <span class="type">bool</span> moved = <span class="literal">false</span>;  <span class="comment">//判断箱子是否移动</span></span><br><span class="line">    next.bx = cur.bx;     <span class="comment">//箱子位置暂时不动</span></span><br><span class="line">    next.by = cur.by;</span><br><span class="line">    next.px = cur.px + walk[i][<span class="number">0</span>];  <span class="comment">//人向i方向移动一格</span></span><br><span class="line">    next.py = cur.py + walk[i][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (next.px == next.bx &amp;&amp; next.py == next.by)  <span class="comment">//若此时人与箱子位置重叠</span></span><br><span class="line">    &#123;</span><br><span class="line">        next.bx += walk[i][<span class="number">0</span>];        <span class="comment">//那么箱子也要向i方向移动一格</span></span><br><span class="line">        next.by += walk[i][<span class="number">1</span>];</span><br><span class="line">        moved = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断新节点next是否有效</span></span><br><span class="line">    next.useful = <span class="literal">false</span>;  <span class="comment">//初始为无效</span></span><br><span class="line">    <span class="keyword">if</span> (maze[next.bx][next.by] == <span class="number">0</span>        <span class="comment">//箱子所在位置不是墙</span></span><br><span class="line">        &amp;&amp; maze[next.px][next.py] == <span class="number">0</span>)     <span class="comment">//&amp;&amp;人所在位置不是墙</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (used[next.bx][next.by][next.px][next.py] == <span class="number">0</span>) <span class="comment">//节点不重复</span></span><br><span class="line">        &#123;</span><br><span class="line">            next.useful = <span class="literal">true</span>;   <span class="comment">//同时满足上述条件，该节点才有效</span></span><br><span class="line">            <span class="comment">//标记“到达过”</span></span><br><span class="line">            used[next.bx][next.by][next.px][next.py] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//根据箱子是否移动来修改步数</span></span><br><span class="line">            <span class="keyword">if</span> (moved) &#123;</span><br><span class="line">                step[next.bx][next.by][next.px][next.py] = <span class="number">1</span> + step[cur.bx][cur.by][cur.px][cur.py];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                step[next.bx][next.by][next.px][next.py] = step[cur.bx][cur.by][cur.px][cur.py];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> next;    <span class="comment">//返回新节点</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="迷宫最长回路的分支界限"><a class="markdownIt-Anchor" href="#迷宫最长回路的分支界限"></a> 迷宫最长回路的分支界限</h2>
<h3 id="文字描述-14"><a class="markdownIt-Anchor" href="#文字描述-14"></a> 文字描述</h3>
<h3 id="代码-17"><a class="markdownIt-Anchor" href="#代码-17"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cerrno&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> LongestRoute</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">block</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="type">int</span> y;</span><br><span class="line">        <span class="type">int</span> state;</span><br><span class="line">        <span class="type">int</span> visit[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">block</span>(<span class="type">int</span> x = <span class="number">0</span>, <span class="type">int</span> y = <span class="number">0</span>, <span class="type">int</span> state = <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;x = x;</span><br><span class="line">            <span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">            <span class="keyword">this</span>-&gt;state = state;</span><br><span class="line">            <span class="keyword">this</span>-&gt;visit[<span class="number">0</span>] = <span class="keyword">this</span>-&gt;visit[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;block&gt;&gt; map;</span><br><span class="line">    <span class="type">int</span> direction[<span class="number">4</span>][<span class="number">2</span>] = &#123; &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;,&#125;;<span class="comment">//上， 右， 下， 左</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> longest_route = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> root_x;</span><br><span class="line">    <span class="type">int</span> root_y;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> LongestRoute;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">create_map</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line"></span><br><span class="line">    string cur_str;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;block&gt; cur_block_array;</span><br><span class="line"></span><br><span class="line">        cin&gt;&gt;cur_str;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">switch</span> (cur_str[j])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                    cur_block_array.<span class="built_in">emplace_back</span>(<span class="built_in">block</span>(i, j , <span class="number">0</span>));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;\\&#x27;</span>:</span><br><span class="line">                    cur_block_array.<span class="built_in">emplace_back</span>(<span class="built_in">block</span>(i , j , <span class="number">1</span>));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="built_in">fprintf</span>(stderr, <span class="string">&quot;input error at (%d, %d), input is : %c \n&quot;</span>, i, j, cur_str[j]);</span><br><span class="line">                    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        map.<span class="built_in">emplace_back</span>(cur_block_array);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">search_longest_route</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> position, <span class="type">int</span> cur_route_length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//由于每个在分支限界中每个节点只有一次成为最优解的机会，故当一个节点被搜索过后，它不再有再次被置入搜索栈的资格</span></span><br><span class="line">    <span class="keyword">if</span>(x == root_x &amp;&amp; y == root_y &amp;&amp; cur_route_length != <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(cur_route_length - <span class="number">1</span>&gt; longest_route)</span><br><span class="line">        &#123;</span><br><span class="line">            longest_route = cur_route_length - <span class="number">1</span>;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;update longest_route : &quot;</span>&lt;&lt;longest_route&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> cur_x = x + direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> cur_y = y + direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> cur_position = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(cur_x &lt; <span class="number">0</span> || cur_x &gt;= n || cur_y &lt; <span class="number">0</span> || cur_y &gt;= m)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span> || i == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(map[x][y].state != map[cur_x][cur_y].state)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span>  <span class="keyword">if</span>(i == <span class="number">2</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span>  <span class="keyword">if</span>(i == <span class="number">2</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">2</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">2</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(map[x][y].state^map[cur_x][cur_y].state)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span>  <span class="keyword">if</span>(i == <span class="number">3</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span>  <span class="keyword">if</span>(i == <span class="number">3</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">1</span>)</span><br><span class="line">                    cur_position = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">3</span> &amp;&amp; map[x][y].state == <span class="number">0</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">3</span> &amp;&amp; map[x][y].state == <span class="number">1</span> &amp;&amp; position == <span class="number">0</span>)</span><br><span class="line">                    cur_position = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(cur_position != <span class="number">-1</span> &amp;&amp; map[cur_x][cur_y].visit[cur_position] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;(&quot;</span>&lt;&lt;cur_x&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;cur_y&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;cur_position&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line">            map[cur_x][cur_y].visit[cur_position] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">search_longest_route</span>(cur_x, cur_y, cur_position, cur_route_length + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>, <span class="string">&quot;r+&quot;</span>, stdin);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">create_map</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(!map[i][j].visit[k])</span><br><span class="line">                &#123;</span><br><span class="line">                    root_x = i;root_y = j;</span><br><span class="line">                    <span class="built_in">search_longest_route</span>(i, j, k, <span class="number">1</span>);</span><br><span class="line">                    map[i][j].visit[k] = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Longest Route Length : &quot;</span>&lt;&lt;longest_route&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="回溯法求和因子"><a class="markdownIt-Anchor" href="#回溯法求和因子"></a> 回溯法求和因子</h2>
<h3 id="文字-3"><a class="markdownIt-Anchor" href="#文字-3"></a> 文字</h3>
<ol>
<li>
<p>输入设计：while(cin&gt;&gt;t)直到n=0跳出输入，结束程序</p>
</li>
<li>
<p>回溯设计：</p>
</li>
</ol>
<p>目标函数：sum+=out[k],sum=t;</p>
<p>约束条件：sum&lt;t,out[k]的k&lt;=n,即加数不超过n</p>
<p>限界函数：sum&lt;t</p>
<p>具体算法描述：未避免重复计算，先将输入的list数组进行降序排序，并将其后的数据作为下一层递归深度搜索的子节点。设置全局变量sum作为回溯的约束条件：</p>
<ol>
<li>
<p>sum&gt;t，继续dfs到下一层</p>
</li>
<li>
<p>sum=t，输出</p>
</li>
<li>
<p>sum&gt;t，进行剪枝并回溯到上一层。</p>
<p>去除重复后输出结果:将每次回溯所得的结果存入二维数组out_comp[i][j]中，其中i表示结果序号，即存回溯的out[n]到二维数组的第i行。每次结果与out_comp[i][j]的每行比较，有重复则不输出</p>
</li>
</ol>
<h3 id="代码-18"><a class="markdownIt-Anchor" href="#代码-18"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;string.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;algorithm&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t,n,list[<span class="number">12</span>];<span class="comment">//input</span></span><br><span class="line"><span class="type">int</span> out[<span class="number">12</span>],out_comp[<span class="number">100</span>][<span class="number">12</span>];<span class="comment">//output</span></span><br><span class="line"><span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> book[<span class="number">12</span>];</span><br><span class="line"><span class="type">int</span> num=<span class="number">0</span>;<span class="comment">//保存结果数</span></span><br><span class="line"><span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//去重复结果</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">fun_row</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">12</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(a[i] != b[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> p=<span class="number">0</span>;p&lt;<span class="number">100</span>;p++)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">fun_row</span>(out, out_comp[p]))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n=<span class="number">1</span>,m=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">fun</span>())<span class="comment">//输出不重复的结果</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;out[<span class="number">0</span>];</span><br><span class="line">        out_comp[num][<span class="number">0</span>] = out[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">while</span> (out[n])</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;+&quot;</span>&lt;&lt;out[n];</span><br><span class="line">            out_comp[num][m] = out[n];</span><br><span class="line">            m++;n++;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(<span class="type">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(sum == t) <span class="built_in">output</span>();</span><br><span class="line">    <span class="keyword">if</span>(sum&gt;t)<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!book[i] &amp;&amp; (list[i]&lt;=out[k<span class="number">-1</span>]||k==<span class="number">0</span>))<span class="comment">//没有访问过且要求降序</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//存入out</span></span><br><span class="line">            out[k]=list[i];</span><br><span class="line">            sum+=out[k];</span><br><span class="line">            book[i]=<span class="number">1</span>;</span><br><span class="line">            k++;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//dfs向下搜索</span></span><br><span class="line">            <span class="built_in">backtrack</span>(step+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//回退</span></span><br><span class="line">            k--;</span><br><span class="line">            sum-=out[k];</span><br><span class="line">            book[i]=<span class="number">0</span>;</span><br><span class="line">            out[k]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//输入设置</span></span><br><span class="line">        <span class="keyword">if</span>(t&gt;<span class="number">1000</span> || t &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;worry input t&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;end&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;<span class="number">12</span> || n&lt;<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;worry input n&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> i,flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j;</span><br><span class="line">            cin&gt;&gt;j;</span><br><span class="line">            list[i] = j;</span><br><span class="line">            <span class="keyword">if</span>(list[i]&gt;<span class="number">100</span> || list[i]&lt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;worry input list[i]&quot;</span>&lt;&lt;endl;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//output</span></span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;result :&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="comment">//初始化</span></span><br><span class="line">        sum=num=k=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(book,<span class="number">0</span>,<span class="number">12</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">        <span class="built_in">memset</span>(out,<span class="number">0</span>,<span class="number">12</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)</span><br><span class="line">            <span class="built_in">memset</span>(out_comp[i],<span class="number">0</span>,<span class="number">12</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//回溯</span></span><br><span class="line">        <span class="built_in">sort</span>(list,list+n,<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">        <span class="built_in">backtrack</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(num==<span class="number">0</span>)cout&lt;&lt;<span class="string">&quot;NONE&quot;</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fclose</span>(stdin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="贪心算法解任务调度器"><a class="markdownIt-Anchor" href="#贪心算法解任务调度器"></a> 贪心算法解任务调度器</h2>
<h3 id="文字-4"><a class="markdownIt-Anchor" href="#文字-4"></a> 文字</h3>
<p>任务调度分配的最短时间由任务数最多的任务所决定，设最多的任务数有max个，有max个任务数的任务共num个，任务总数为sum。则在任务之间的max-1个间隔贪心的插入n*( max-1)个任务(可能含待命)。最后计算最终调度时间：当需要插入的个数大于可插入利用的最大个数时，除任务A本身和间隔，需在末尾补上余下的num-1个任务，因此最短时间为max+ n*(max-1)+num-1。否则最短调度时间为任务总数sum。</p>
<h3 id="代码-19"><a class="markdownIt-Anchor" href="#代码-19"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;string.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;../input&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line"></span><br><span class="line">    string s; cin&gt;&gt;s;</span><br><span class="line">    <span class="type">int</span> n; cin&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> task[<span class="number">26</span>];</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(task,<span class="number">0</span>,<span class="number">26</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="comment">//任务统计</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) task[s[i]-<span class="string">&#x27;A&#x27;</span>]++;</span><br><span class="line">    <span class="comment">//统计max和max个数num</span></span><br><span class="line">    <span class="type">int</span> mymax = <span class="number">0</span>,num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++)</span><br><span class="line">    &#123;   <span class="keyword">if</span>(mymax &lt; task[i])</span><br><span class="line">        &#123;</span><br><span class="line">            mymax =task[i];</span><br><span class="line">            num=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mymax == task[i] )num++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="built_in">max</span>((<span class="type">int</span>)s.<span class="built_in">size</span>(), (mymax + (mymax - <span class="number">1</span>) * n + num - <span class="number">1</span>)) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二分查找"><a class="markdownIt-Anchor" href="#二分查找"></a> 二分查找</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> m,n;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">binarySearch</span><span class="params">(<span class="type">int</span> matrix[M][M], <span class="type">int</span> i, <span class="type">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>, right = n;</span><br><span class="line">    <span class="keyword">while</span>(left &lt; right)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(target &gt; matrix[i][mid]) left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>    <span class="keyword">if</span>(target &lt; matrix[i][mid])    right = mid;</span><br><span class="line">        <span class="keyword">else</span>    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不成熟的二分尝试1</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">searchMatrix</span><span class="params">(<span class="type">int</span> matrix[M][M], <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">binarySearch</span>(matrix, i, target)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//最后采用的二分法</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">searchMatrix_</span><span class="params">(<span class="type">int</span> matrix[M][M], <span class="type">int</span> target, <span class="type">int</span> bottle_r , <span class="type">int</span> bottle_c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix[bottle_r][bottle_c] == target) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(bottle_r==m || bottle_c==n || bottle_c==<span class="number">-1</span>|| bottle_r==<span class="number">-1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(matrix[bottle_r][bottle_c] &gt; target) <span class="built_in">searchMatrix_</span>(matrix, target, bottle_r<span class="number">-1</span> , bottle_c);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">searchMatrix_</span>(matrix, target, bottle_r , bottle_c+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;input m,n:&quot;</span>; cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> matrix[M][M];</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;input matrix&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; m ; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span> ; j &lt; n ; j++)cin&gt;&gt;matrix[i][j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> target;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;input target:&quot;</span>; cin&gt;&gt;target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">searchMatrix</span>(matrix, target))cout&lt;&lt;<span class="string">&quot;ture&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">searchMatrix_</span>(matrix, target,m<span class="number">-1</span>,<span class="number">0</span>))cout&lt;&lt;<span class="string">&quot;ture&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="时间快排"><a class="markdownIt-Anchor" href="#时间快排"></a> 时间+快排</h2>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100000</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(<span class="type">int</span> *r, <span class="type">int</span> begin, <span class="type">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line">	<span class="keyword">if</span>(begin &lt; end)</span><br><span class="line">	&#123;</span><br><span class="line">		i=begin;j=end;r[<span class="number">0</span>]=r[i];</span><br><span class="line">        <span class="keyword">while</span>(i!=j)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span>(r[j]&gt;r[<span class="number">0</span>]&amp;&amp;i&lt;j) j--;</span><br><span class="line">			<span class="keyword">if</span>(i&lt;j)</span><br><span class="line">			&#123;</span><br><span class="line">				r[i]=r[j];</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(r[i]&lt;r[<span class="number">0</span>]&amp;&amp;i&lt;j) i++;</span><br><span class="line">			<span class="keyword">if</span>(i&lt;j)</span><br><span class="line">			&#123;</span><br><span class="line">				r[j]=r[i];</span><br><span class="line">				j--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		r[i]=r[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">quickSort</span>(r, begin, i - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">quickSort</span>(r, i + <span class="number">1</span>, end);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">clock_t</span> t1,t2;</span><br><span class="line">	<span class="type">double</span> t;</span><br><span class="line">	<span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="type">int</span> r[N],i,n;</span><br><span class="line">	<span class="type">char</span> ch[<span class="number">40</span>];</span><br><span class="line">	FILE* fp;</span><br><span class="line">	fp=<span class="built_in">fopen</span>(<span class="string">&quot;D:/algorithm/test_2_1.csv&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(n=<span class="number">1000</span>;n&lt;=<span class="number">100000</span>;n+=<span class="number">1000</span>)<span class="comment">//建立横坐标n</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">itoa</span>(n,ch,<span class="number">10</span>);</span><br><span class="line">		<span class="built_in">strcat</span>(ch,<span class="string">&quot;,&quot;</span>);</span><br><span class="line">		<span class="built_in">fwrite</span>(ch,<span class="built_in">sizeof</span>(<span class="type">char</span>),<span class="built_in">strlen</span>(ch),fp);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">fwrite</span>(<span class="string">&quot;\n&quot;</span>,<span class="built_in">sizeof</span>(<span class="type">char</span>),<span class="number">1</span>,fp);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(n=<span class="number">1000</span>;n&lt;=<span class="number">100000</span>;n+=<span class="number">1000</span>)<span class="comment">//输入纵坐标t</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//生成随机数</span></span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) r[i]=<span class="built_in">rand</span>()%<span class="number">1001</span>;</span><br><span class="line"></span><br><span class="line">		t1=<span class="built_in">clock</span>();<span class="comment">//开始计时</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">quickSort</span>(r, <span class="number">1</span>, n - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		t2=<span class="built_in">clock</span>();<span class="comment">//结束计时</span></span><br><span class="line">		t = (<span class="type">double</span>)(t2-t1)/CLOCKS_PER_SEC*<span class="number">1000</span>;</span><br><span class="line">		<span class="built_in">itoa</span>(t,ch,<span class="number">10</span>);</span><br><span class="line">		<span class="built_in">strcat</span>(ch,<span class="string">&quot;,&quot;</span>);</span><br><span class="line">		<span class="built_in">fwrite</span>(ch,<span class="built_in">sizeof</span>(<span class="type">char</span>),<span class="built_in">strlen</span>(ch),fp);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">fwrite</span>(<span class="string">&quot;\n&quot;</span>,<span class="built_in">sizeof</span>(<span class="type">char</span>),<span class="number">1</span>,fp);</span><br><span class="line">	<span class="built_in">fclose</span>(fp);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="棋盘覆盖"><a class="markdownIt-Anchor" href="#棋盘覆盖"></a> 棋盘覆盖</h2>
<p>分治</p>
<h3 id="文字-5"><a class="markdownIt-Anchor" href="#文字-5"></a> 文字</h3>
<p>分治法求解棋盘覆盖问题的技巧在于划分棋盘，使划分后的子棋盘的大小相同，并且每个子棋盘均包含一个特殊方格，从而将原问题分解为规模较小的棋盘覆盖问题。</p>
<p><em>k</em>&gt;0时，可将2<em>k</em>×2<em>k</em>的棋盘划分为4个2<em>k</em>-1×2<em>k</em>-1的子棋盘，这样划分后，由于原棋盘只有一个特殊方格，所以，这4个子棋盘中只有一个子棋盘包含该特殊方格，其余3个子棋盘中没有特殊方格。为了将这3个没有特殊方格的子棋盘转化为特殊棋盘，以便采用递归方法求解，可以用一个L型骨牌覆盖这3个较小棋盘的会合处，从而将原问题转化为4个较小规模的棋盘覆盖问题。递归地使用这种划分策略，直至将棋盘分割为1×1的子棋盘。</p>
<p>​             每次都对分割后的四个小方块进行判断，判断特殊方格是否在里面。这里的判断的方法是每次先记录下整个大方块的左上角（top left coner）方格的行列坐标，然后再与特殊方格坐标进行比较，就可以知道特殊方格是否在该块中。如果特殊方块在里面，这直接递归下去求即可，如果不在，则根据分割的四个方块的不同位置，把右下角、左下角、右上角或者左上角的方格标记为特殊方块，然后继续递归。在递归函数里，还要有一个变量s来记录边的方格数，每次对方块进行划分时，边的方格数都会减半，这个变量是为了方便判断特殊方格的位置。其次还要有一个变量nCount来记录L型骨牌的数量。</p>
<h3 id="代码-20"><a class="markdownIt-Anchor" href="#代码-20"></a> 代码</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> t = <span class="number">0</span>;<span class="comment">//全局变量，表示L型骨牌编号</span></span><br><span class="line"><span class="type">int</span> board[M][M];<span class="comment">//全局变量，表示棋盘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//tr,tc表示棋盘左上角</span></span><br><span class="line"><span class="comment">//dr,dc表示表示特殊方格</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ChessBoard</span><span class="params">(<span class="type">int</span> tr , <span class="type">int</span> tc , <span class="type">int</span> dr , <span class="type">int</span> dc , <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(size == <span class="number">1</span>)<span class="keyword">return</span>;<span class="comment">//棋盘只有一个方格其是特殊方格</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> number = ++t;<span class="comment">//L型骨牌号</span></span><br><span class="line">    <span class="type">int</span> s = size/<span class="number">2</span>;<span class="comment">//划分棋盘</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖左上角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &lt; tr+s &amp;&amp; dc&lt;tc+s)<span class="comment">//特殊方格在左上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s<span class="number">-1</span>][tc+s<span class="number">-1</span>]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc,tr+s<span class="number">-1</span>,tc+s<span class="number">-1</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖右上角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &lt; tr+s &amp;&amp; dc &gt;= tc+s)<span class="comment">//特殊方格在右上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc+s,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖左下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s<span class="number">-1</span>][tc+s]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr,tc+s,tr+s<span class="number">-1</span>,tc+s,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖左下角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &gt;= tr+s &amp;&amp; dc&lt;tc+s)<span class="comment">//特殊方格在左下角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右上角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s][tc+s<span class="number">-1</span>]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s ,tc,tr+s,tc+s<span class="number">-1</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//覆盖右下角子棋盘</span></span><br><span class="line">    <span class="keyword">if</span>(dr &gt;= tr+s &amp;&amp; dc&gt;=tc+s)<span class="comment">//特殊方格在左上角子棋盘中</span></span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc+s,dr,dc,s);<span class="comment">//递归处理子棋盘</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//用t号L型骨牌覆盖右下角，再递归处理子棋盘</span></span><br><span class="line">        board[tr+s][tc+s]=number;</span><br><span class="line">        <span class="built_in">ChessBoard</span>(tr+s,tc+s,tr+s,tc+s,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> size , x , y;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;input size and (x,y)&quot;</span>;</span><br><span class="line">    cin&gt;&gt;size&gt;&gt;x&gt;&gt;y;</span><br><span class="line"></span><br><span class="line">    board[x][y] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">ChessBoard</span>(<span class="number">0</span>,<span class="number">0</span>,x,y,size);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//输出棋盘</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; size; j++) &#123;</span><br><span class="line">            cout &lt;&lt; board[i][j] &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>SWJTU</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>实验汇总</tag>
      </tags>
  </entry>
  <entry>
    <title>GPU_CM1</title>
    <url>/2023/01/30/GPU_CM1/</url>
    <content><![CDATA[<h1 id="cm1"><a class="markdownIt-Anchor" href="#cm1"></a> CM1</h1>
<p>一维向量的加和多维的kernel处理</p>
<p>对应PPT: 2,3</p>
<span id="more"></span>
<h2 id="1allocation-des-données-et-exécution-dun-kernel"><a class="markdownIt-Anchor" href="#1allocation-des-données-et-exécution-dun-kernel"></a> 1.Allocation des données et exécution d’un kernel</h2>
<p>正常的一个C</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Compute vector sum C = A + B</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">vecAdd</span> <span class="params">( <span class="type">float</span> * h_A , <span class="type">float</span> *h_B , <span class="type">float</span> * h_C , <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;n; i ++) &#123;</span><br><span class="line">		h_C [i] = h_A [i] + h_B [i];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果用cuda写</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt; cuda .h &gt;</span></span></span><br><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">vecAddKernel</span> <span class="params">( <span class="type">float</span> * A, <span class="type">float</span> * B, <span class="type">float</span> * C, <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = threadIdx .x + blockDim .x* blockIdx .x;</span><br><span class="line">	<span class="keyword">if</span>(i&lt;n) C[i] = A[i] + B[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">vecAdd</span> <span class="params">( <span class="type">float</span> * h_A , <span class="type">float</span> * h_B , <span class="type">float</span> * h_C , <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> size = n* <span class="keyword">sizeof</span> ( <span class="type">float</span> ) ;</span><br><span class="line">	<span class="type">float</span> *d_A , *d_B , * d_C;</span><br><span class="line">	<span class="comment">//Part 1: Allocate device memory for A, B, and C</span></span><br><span class="line">	cudaMalloc (( <span class="type">void</span> **) &amp;d_A , size ) ;</span><br><span class="line">	cudaMalloc (( <span class="type">void</span> **) &amp;d_B , size ) ;</span><br><span class="line">	cudaMalloc (( <span class="type">void</span> **) &amp;d_C , size ) ;</span><br><span class="line">	<span class="comment">// Part 1: copy A and B to device memory</span></span><br><span class="line">    cudaMemcpy (d_A , h_A , size , cudaMemcpyHostToDevice );</span><br><span class="line">	cudaMemcpy (d_B , h_B , size , cudaMemcpyHostToDevice );</span><br><span class="line">	<span class="comment">// Part 2: Kernel launch code - the device performs the actual vector addition</span></span><br><span class="line">    <span class="type">int</span> DimGrid = <span class="built_in">ceil</span> (n /<span class="number">256.0</span>) ;</span><br><span class="line">	<span class="type">int</span> DimBlock = <span class="number">256</span>;</span><br><span class="line">	vecAddKernel &lt;&lt; &lt; DimGrid , DimBlock &gt; &gt; &gt;(d_A , d_B , d_C , n);</span><br><span class="line">	<span class="comment">// Part 3: copy C from the device memory</span></span><br><span class="line">    cudaMemcpy (h_C , d_C , size , cudaMemcpyDeviceToHost );</span><br><span class="line">	<span class="comment">// Free</span></span><br><span class="line">    cudaFree( d_A ); cudaFree (d_B) ; cudaFree ( d_C ) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>程序的三部分示意图：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.15484o9dwdpc.png" alt="yaimage" /></p>
<h2 id="11-kernel"><a class="markdownIt-Anchor" href="#11-kernel"></a> 1.1 Kernel</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.5671ve9tpn40.png" alt="yaimage" /></p>
<ul>
<li>同个block里面的threads通过共享内存、原子操作、barrier synchronization[阻碍同步]合作，不同block里面的线程不合作</li>
<li>一个线程可以被看作是一个冯诺依曼类型的处理器，一个块里面的所有线程执行同一个操作[SIMD]</li>
<li><strong>Thread index</strong>: 每个线程都有一个索引，可以用来操作内存地址并做出执行选择==&gt;<code>i = blockIdx.x*blockDimx.x + threadIdx.x</code></li>
<li>DimGrid:对应块=<code>ceil(n/256.0)</code>，DimBlock:对应块里面的线程数=256</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221214/yaimage.4xmreiua28w0.png" alt="yaimage" /></p>
<h2 id="12-key-words"><a class="markdownIt-Anchor" href="#12-key-words"></a> 1.2 Key words</h2>
<table>
<thead>
<tr>
<th></th>
<th>执行</th>
<th>使用</th>
<th>注意</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__device__</code></td>
<td>device/GPU</td>
<td>device/GPU</td>
<td>可以与<code>__host__</code>一起使用</td>
</tr>
<tr>
<td><code>__global__</code></td>
<td>device/GPU</td>
<td>host/CPU</td>
<td>定义kernel函数，返回值必须是void</td>
</tr>
<tr>
<td><code>__host__</code></td>
<td>host/CPU</td>
<td>host/CPU</td>
<td>可以与<code>__device__</code>一起使用</td>
</tr>
</tbody>
</table>
<p>这里有个奇怪的话：<code>__device__</code> et<code> __host__</code> peuvent être utilisés conjointement pour avoir deux versions objet de la même fonction[已获得两个函数的相同版本].</p>
<h2 id="13-blockidx"><a class="markdownIt-Anchor" href="#13-blockidx"></a> 1.3 blockIdx</h2>
<p>blockIdx</p>
<p>threadIdx</p>
<p>blockDim: 线程块的大小，本质是3维的blockDim.x，blockDim.y,blockDim.z，但我们一般用1或者2维。</p>
<p>gridDim: 整个网格的分块情况，也是有3个。</p>
<h1 id="2-multidim"><a class="markdownIt-Anchor" href="#2-multidim"></a> 2. Multidim</h1>
<p>Les index de block et de thread sont des variables à trois dimensions</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.1cq5hwu3wun4.png" alt="yaimage" /></p>
<h2 id="21-pseudo-algo-cpu"><a class="markdownIt-Anchor" href="#21-pseudo-algo-cpu"></a> 2.1 Pseudo-algo CPU</h2>
<ul>
<li>
<p>RGB和灰度图的转换：Pour chaque pixel (r, v, b) en position (i, j)：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>r</mi><mi>a</mi><mi>y</mi><mi>P</mi><mi>i</mi><mi>x</mi><mi>e</mi><mi>l</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0.21</mn><mo>∗</mo><mi>r</mi><mo>+</mo><mn>0.71</mn><mo>∗</mo><mi>g</mi><mo>+</mo><mn>0.07</mn><mo>∗</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">grayPixel[i,j]=0.21*r+0.71*g+0.07*b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">i</span><span class="mord mathnormal">x</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span></p>
</li>
<li>
<p>Row-Major Order en C/C++：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>o</mi><mi>w</mi><mo>∗</mo><mi>W</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo>+</mo><mi>C</mi><mi>o</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">Row*Width+Col</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.63d4i06rs9w0.png" alt="yaimage" /></p>
</li>
</ul>
<p>==&gt;Pseudo-algo CPU</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for ii from 0 to height do</span><br><span class="line">	for jj from 0 to width do</span><br><span class="line">		idx = ii * width + jj</span><br><span class="line">		r = input [3* idx ]</span><br><span class="line">		g = input [3* idx + 1]</span><br><span class="line">		b = input [3* idx + 2]</span><br><span class="line">		grayImage [ idx ] = (0.21* r + 0.71* g + 0.07* b)</span><br><span class="line">	end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h2 id="22-kernel"><a class="markdownIt-Anchor" href="#22-kernel"></a> 2.2 Kernel</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.7v02me85gw8.png" alt="yaimage" /></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> CHANNELS 3 <span class="comment">// we have 3 channels corresponding to RGB</span></span></span><br><span class="line"><span class="comment">// The input image is encoded as unsigned characters [0 , 255]</span></span><br><span class="line">__global__<span class="comment">//device执行，host用</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">colorConvert</span> <span class="params">( <span class="type">unsigned</span> <span class="type">char</span> * grayImage ,<span class="type">unsigned</span> <span class="type">char</span> * rgbImage ,<span class="type">int</span> width , <span class="type">int</span> height )</span> </span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = threadIdx .x + blockIdx .x * blockDim .x; <span class="comment">// Col</span></span><br><span class="line">	<span class="type">int</span> y = threadIdx .y + blockIdx .y * blockDim .y; <span class="comment">// Row</span></span><br><span class="line">	<span class="keyword">if</span> (x &lt; width &amp;&amp; y &lt; height ) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="comment">// get 1D coordinate for the grayscale image</span></span><br><span class="line">		<span class="type">int</span> grayOffset = y* width + x;</span><br><span class="line">		<span class="comment">// one can think of the RGB image having CHANNEL times columns than the gray scale image</span></span><br><span class="line">		<span class="type">int</span> rgbOffset = grayOffset * CHANNELS ;</span><br><span class="line">		<span class="type">unsigned</span> <span class="type">char</span> r = rgbImage [ rgbOffset ]; <span class="comment">// red value for pixel</span></span><br><span class="line">		<span class="type">unsigned</span> <span class="type">char</span> g = rgbImage [ rgbOffset + <span class="number">2</span>]; <span class="comment">// green value for pixel</span></span><br><span class="line">		<span class="type">unsigned</span> <span class="type">char</span> b = rgbImage [ rgbOffset + <span class="number">3</span>]; <span class="comment">// blue value for pixel</span></span><br><span class="line">		<span class="comment">// perform the rescaling and store it</span></span><br><span class="line">		<span class="comment">// We multiply by floating point constants</span></span><br><span class="line">		grayImage [ grayOffset ] = <span class="number">0.21</span> f*r + <span class="number">0.71</span> f*g + <span class="number">0.07</span> f*b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//调用部分：图片的大小是m*n</span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">dim3 <span class="title function_">DimGrid</span> <span class="params">((n <span class="number">-1</span>) /<span class="number">16</span> + <span class="number">1</span> , (m <span class="number">-1</span>) /<span class="number">16</span>+<span class="number">1</span> , <span class="number">1</span>)</span> ;</span><br><span class="line">dim3 <span class="title function_">DimBlock</span> <span class="params">(<span class="number">16</span> , <span class="number">16</span> , <span class="number">1</span>)</span> ;</span><br><span class="line">colorConvert &lt;&lt;&lt; DimGrid , DimBlock &gt; &gt; &gt;( grayImage , rgbImage , width , height ) ;</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>GPU_CM3</title>
    <url>/2023/01/30/GPU_CM3/</url>
    <content><![CDATA[<h1 id="cm3"><a class="markdownIt-Anchor" href="#cm3"></a> CM3</h1>
<p>Mémoire partagée et synchronisation[矩阵乘]</p>
<p>PPT: 6</p>
<span id="more"></span>
<h1 id="1-mémoire-partagée"><a class="markdownIt-Anchor" href="#1-mémoire-partagée"></a> 1. Mémoire partagée</h1>
<p>Pour apprendre à utiliser efficacement les types de mémoire CUDA dans un programme parallèle, il faut[为了学习如何在并行程序中有效地使用CUDA内存类型，有必要] :</p>
<ul>
<li>
<p>comprendre l’importance de l’efficacité de l’accès à la mémoire</p>
</li>
<li>
<p>connaître la distinction[区别] entre registres, mémoire partagée et mémoire globale</p>
<p>chatGPT说：</p>
<ul>
<li>寄存器是 CPU 的一部分，它用来保存临时数据和指令。它的容量比较小，速度也比较快，但是数量有限。</li>
<li>共享内存是 GPU 和 CPU 共同拥有的一块内存，两者都可以访问。因为它在 GPU 和 CPU 之间共享，所以速度比较快，但是容量也比较小。</li>
<li>全局内存是 GPU 拥有的内存，但是 CPU 无法访问。它的容量相对较大，但是速度相对较慢。</li>
</ul>
<p>通常情况下，我们会尽量使用寄存器和共享内存来保存数据，因为它们的速度比较快。如果数据量太大，就会使用全局内存。</p>
</li>
<li>
<p>comprendre la portée[范围] et la durée de vie des variables</p>
</li>
</ul>
<p>矩阵乘法1.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__<span class="comment">//device执行，host用</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sgemm</span> <span class="params">( <span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">float</span> *C, <span class="type">int</span> numArows , <span class="type">int</span> numAcolumns , <span class="type">int</span> numBrows , <span class="type">int</span> numBcolumns )</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> row = blockIdx .y * blockDim .y + threadIdx .y;</span><br><span class="line">    <span class="type">int</span> col = blockIdx .x * blockDim .x + threadIdx .x;</span><br><span class="line">	<span class="keyword">if</span> ( row &lt; numArows &amp;&amp; col &lt; numBcolumns ) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="type">float</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> ii = <span class="number">0</span>; ii &lt; numAcolumns ; ii ++) </span><br><span class="line">        &#123;</span><br><span class="line">			sum += A[row * numAcolumns + ii] * B[ii * numBcolumns + col ];</span><br><span class="line">		&#125;</span><br><span class="line">		C[ row * numBcolumns + col ] = sum ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>GPU的性能分析：</p>
<p>所有线程都为其输入数组的元素访问全局内存，即为浮点加法进行两次内存访问（2*4 octets[字节,8bits]）</p>
<p>对于Jetson Nano:</p>
<ol>
<li>4GB 64位LPDDR4内存，带宽为25.6GB/s</li>
<li>472 GFLOPs（每秒浮点运算）</li>
</ol>
<p>因此，需要8*472=3776 GFLOPs来达到FLOPS的峰值。在带宽为25.6GB/s的情况下，我们达到了3.2FLOPs的极限，也就是设备最大浮点执行率的0.6%! 要想接近472 GFLOPS，必须大大减少内存访问量[accès à la mémoire]</p>
<p>==?</p>
<h1 id="11-kernel的变量类型"><a class="markdownIt-Anchor" href="#11-kernel的变量类型"></a> 1.1 Kernel的变量类型</h1>
<table>
<thead>
<tr>
<th></th>
<th>类型</th>
<th>作用范围</th>
<th>生命周期</th>
</tr>
</thead>
<tbody>
<tr>
<td>int LocalVar;</td>
<td>registre</td>
<td>thread</td>
<td>thread</td>
</tr>
<tr>
<td><code>__device__ __shared__ int SharedVar</code>;</td>
<td>shared</td>
<td>bloc</td>
<td>bloc</td>
</tr>
<tr>
<td><code>__device__ int GlobalVar;</code></td>
<td>global</td>
<td>grid</td>
<td>整个</td>
</tr>
<tr>
<td><code>__device__ __constant__ int ConstantVar;</code></td>
<td>constant</td>
<td>grid</td>
<td>整个</td>
</tr>
</tbody>
</table>
<p>对于<code>__shared__</code>和<code>__constant__</code>来说可以不加<code>__device__</code></p>
<p>示意图[硬件和程序上]</p>
<center class="half">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.6hw2f9d90v40.png" width="400"/><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.3dmeyakif4y0.png" width="400"/>
</center>
<p>shared memory：在kernel里面显式定义和使用，每个SM中都有，范围限于一个区块的线程之间，一旦线程执行完毕便消失。</p>
<ul>
<li>Accès par instructions de chargement (load) et de stockage (store) ： 通过加载和存储指令访问</li>
<li>Accès à une vitesse beaucoup plus élevée (en termes de latence et de débit) que la mémoire globale 以比全局存储器高得多的速度（就延迟和吞吐量而言）访问</li>
<li>Une forme de mémoire de type “scratchpad”</li>
<li>Taille restreinte — Jetson Nano : “Maximum amount of shared memory per SM 64 KB” et “Maximum amount of shared memory per thread block 48 KB” “每个SM的最大共享内存量为64KB”，&quot;每个线程块的最大共享内存量为48KB</li>
</ul>
<p>矩阵乘法2.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//虽然但是，就把上面的 int numArows , int numAcolumns , int numBrows , int numBcolumns删去只用了 Width来做计算</span></span><br><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, <span class="type">int</span> Width )</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// Calculate the row/colum index of the P element and M</span></span><br><span class="line">	<span class="type">int</span> row = blockIdx .y* blockDim .y+ threadIdx .y;</span><br><span class="line">	<span class="type">int</span> col = blockIdx .x* blockDim .x+ threadIdx .x;</span><br><span class="line">	<span class="keyword">if</span> (( row &lt; Width ) &amp;&amp; ( col &lt; Width )) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">// each thread computes one element of the block sub - matrix</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; Width ; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">			Pvalue += M[ row * Width +k]*N[k* Width +col ];</span><br><span class="line">		&#125;</span><br><span class="line">		P[ row * Width + col ] = Pvalue ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>算法的内存访问的话其实做了很多重复的访问</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.1234ljjm85ds.png" alt="yaimage" /></p>
<p>然后可以用<code>__shared__</code>[一个块里面的线程]来进行改进–&gt;矩阵乘法3.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, <span class="type">int</span> Width )</span></span><br><span class="line">&#123;</span><br><span class="line">	__shared__ <span class="type">float</span> ds_M[ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line">	__shared__ <span class="type">float</span> ds_N[ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> bx = blockIdx.x; <span class="type">int</span> by = blockIdx .y;</span><br><span class="line">	<span class="type">int</span> tx = threadIdx.x; <span class="type">int</span> ty = threadIdx .y;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> row = by * blockDim .y+ ty;</span><br><span class="line">	<span class="type">int</span> col = bx* blockDim .x+ tx;</span><br><span class="line">	<span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; n/ TILE_WIDTH ; ++p) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="comment">//多出来的点在这里，加载共享内存</span></span><br><span class="line">        <span class="comment">//但这也太怪了，为什么还和p有关系？？？？？？</span></span><br><span class="line">		ds_M [ty][tx] = M[row * Width + p* TILE_WIDTH +tx ];</span><br><span class="line">        ds_N [ty][tx] = N[(t* TILE_WIDTH +ty) * Width + col ];</span><br><span class="line">		<span class="comment">// Usage</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; TILE_WIDTH ; ++i) </span><br><span class="line">            Pvalue += ds_M [ty ][i] * ds_N [i][ tx ];</span><br><span class="line">	&#125;</span><br><span class="line">	P[ row* Width + col ] = Pvalue ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>算法内存访问示意图，没懂呜呜</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.2ow3qk0iv140.png" alt="img" /></p>
<center class="half">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.10vlu7krf8sg.png" width="400"/><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.5ieoz647x4c0.png" width="400"/>
</center>
<p>![img](<a href="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.4k8oj6cyrd00.png">https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.4k8oj6cyrd00.png</a>&quot; width=“200”)</p>
<h1 id="2-synchronisation"><a class="markdownIt-Anchor" href="#2-synchronisation"></a> 2. synchronisation</h1>
<p>调用<code>__syncthreads () ;</code>确保块中的每个线程在__syncthreads()之前完成了它的指令</p>
<p>还要解决堵塞[congestion]问题</p>
<ul>
<li>co-voiturage (regroupement des demandes) :分组</li>
<li>emploi du temps (synchronisation de l’utilisation des données)：同步化</li>
</ul>
<p>矩阵乘法4.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, IntWidth )</span></span><br><span class="line">&#123;</span><br><span class="line">	__shared__ <span class="type">float</span> ds_M [ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line">	__shared__ <span class="type">float</span> ds_N [ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line">	</span><br><span class="line">    <span class="type">int</span> bx = blockIdx .x; <span class="type">int</span> by = blockIdx .y;</span><br><span class="line">	<span class="type">int</span> tx = threadIdx .x; <span class="type">int</span> ty = threadIdx .y;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> row = by * blockDim .y+ ty;</span><br><span class="line">	<span class="type">int</span> col = bx* blockDim .x+ tx;</span><br><span class="line">	<span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Loop over the M and N tiles required to compute the P element</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; n/ TILE_WIDTH ; ++p) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// collaborative loading of M and N tiles into shared memory</span></span><br><span class="line">		ds_M [ty ][ tx] = M[ row * Width + p* TILE_WIDTH +tx ];</span><br><span class="line">		ds_N [ty ][ tx] = N[(t* TILE_WIDTH +ty) * Width + col ];</span><br><span class="line">		__syncthreads () ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Usage</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; TILE_WIDTH ; ++i) </span><br><span class="line">            Pvalue += ds_M [ty ][i] * ds_N [i][ tx ];</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">	&#125;</span><br><span class="line">	P[ row* Width + col ] = Pvalue ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在赋值和使用的地方放上<code>__syncthreads()__</code></p>
<h1 id="3-考虑线程数mn的大小"><a class="markdownIt-Anchor" href="#3-考虑线程数mn的大小"></a> 3. 考虑线程数(M/N的大小)</h1>
<ul>
<li>16*16
<ul>
<li>dans chaque phase，每个bloc执行2 * 256 = 512 浮点加载，全局内存 256 × (2 × 16) = 8192 次乘和加</li>
<li>每个bloc用2 * 256 * 4o=2Ko的共享内存</li>
<li>对于64 kb的共享内存，可能有多达32个线程块执行操作</li>
<li>这允许多达32*512 = 16,384等待加载(每个线程2个，每个块256个线程)</li>
</ul>
</li>
<li>32*32
<ul>
<li>dans chaque phase，每个bloc执行2 * 1024 = 2048 浮点加载，全局内存 1024 × (2 × 32) = 65536 次乘和加</li>
<li>每个bloc用2 * 32 * 32 * 4o=8Ko的共享内存</li>
<li>对于64 kb的共享内存，可能有8个线程块执行操作</li>
<li>这允许多达 32*2048 = 65 536等待加载(每个线程2个，每个块1024个线程)</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.dppqmoj67hs.png" alt="yaimage" /></p>
<p>矩阵乘法5.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, <span class="type">int</span> width )</span> <span class="comment">// square matrix</span></span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; (Width <span class="number">-1</span>) / TILE_WIDTH + <span class="number">1</span>; ++p) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="keyword">if</span>( row &lt; Width &amp;&amp; t * TILE_WIDTH +tx &lt; width )</span><br><span class="line">			&#123; ds_M [ty ][ tx] = M[ row * Width + p* TILE_WIDTH +tx ]; &#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			&#123; ds_M [ty ][ tx] = <span class="number">0.0</span>; &#125;</span><br><span class="line">		<span class="keyword">if</span> (p* TILE_WIDTH +ty &lt; Width &amp;&amp; col &lt; width )</span><br><span class="line">			&#123; ds_N [ty ][ tx] = N[(t* TILE_WIDTH +ty)* Width + col ]; &#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			&#123; ds_M [ty ][ tx] = <span class="number">0.0</span>; &#125;</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">        </span><br><span class="line">		<span class="keyword">if</span>( row &lt; width &amp;&amp; col &lt; width ) </span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; TILE_WIDTH ; ++i)</span><br><span class="line">				&#123; Pvalue += ds_M [ty ][i] * ds_N [i][ tx ]; &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ( row &lt; width &amp;&amp; col &lt; width )</span><br><span class="line">		&#123; P[ row * Width + col ] = Pvalue ; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-tuiles的步骤总结"><a class="markdownIt-Anchor" href="#4-tuiles的步骤总结"></a> 4. tuiles的步骤总结</h1>
<ol>
<li>Identifier une tuile de la mémoire globale qui est utilisée par de multiples threads: 识别一个被多个线程使用的全局内存tuile</li>
<li>Charger la tuile de la mémoire globale dans la mémoire sur le SM: 将全局内存加载到共享内存中</li>
<li>Utiliser la synchronisation des barrières pour s’assurer que tous les threads ont finis le chargement mémoire：使用synchronisation确保完成了内存加载</li>
<li>Avoir plusieurs threds pour accéder à leurs données à partir de la mémoire partagée：让多个线程从共享内存中访问其数据</li>
<li>Utiliser la synchronisation des barrières pour s’assurer que tous les threads ont terminé leur calcul: 使用synchronisation确保完成了计算</li>
<li>Passer à la tuile suivante：移动到下一块tuile</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>GPU_CM2</title>
    <url>/2023/01/30/GPU_CM2/</url>
    <content><![CDATA[<h1 id="cm2"><a class="markdownIt-Anchor" href="#cm2"></a> CM2</h1>
<p>Warp和Zero-overhead线程调度</p>
<p>La virgule flottante==&gt;没懂TAT</p>
<p>对应PPT: 4,5</p>
<span id="more"></span>
<h1 id="1-warp"><a class="markdownIt-Anchor" href="#1-warp"></a> 1. Warp</h1>
<h2 id="10-scalability-invisible"><a class="markdownIt-Anchor" href="#10-scalability-invisible"></a> 1.0 Scalability (invisible)</h2>
<p>可拓展性和不可见</p>
<p>Chaque bloc peut s’exécuter dans n’importe quel ordre par rapport aux autres. 每个bloc可以以相对于其他bloc以任何顺序运行。==&gt;块与块间的执行不受影响？</p>
<p>Le matériel est libre d’affecter des blocs à n’importe quel processeur à tout moment. 硬件可以在任何时候自由地将bloc分配给任何处理器。</p>
<p>Un kernel s’adapte à n’importe quel nombre de processeurs parallèles.一个kernel适合任何数量的并行处理器。</p>
<h2 id="11-warp"><a class="markdownIt-Anchor" href="#11-warp"></a> 1.1 Warp</h2>
<h3 id="111-unité-dordonnancement-warp"><a class="markdownIt-Anchor" href="#111-unité-dordonnancement-warp"></a> 1.1.1 Unité d’ordonnancement : Warp</h3>
<p>调度单元：Warp</p>
<ul>
<li>Chaque bloc est exécuté par un Warps de 32-threads (de valeurs consécutives[连续的] threadIdx : les thread 0 à 31 forment le premier warp, 32 à 63 le second, etc.)</li>
<li>是SM里面的调度单元[ unités d’ordonnancement]
<ul>
<li>调度: 在计算机中是分配工作所需资源的方法。资源可以指虚拟的计算资源，如线程、进程或数据流；也可以指硬件资源，如处理器、网络连接或扩展卡。在操作系统中，调度程序是操作系统内核的组件，它选择进程在计算机处理器上的执行顺序</li>
<li>SM:</li>
</ul>
</li>
<li>在cuda编程里面没有实现</li>
<li>一个warp线程是SIMD结构：Les threads d’un warp appliquent la <strong>même instruction</strong> à <strong>différentes parties des données</strong> et tous les threads d’un warp auront toujours le <strong>même temps d’exécution</strong>.</li>
</ul>
<p>Exemple de Warp</p>
<p>Si 3 blocs sont attribués à un SM et que chaque bloc comporte 256 threads, combien de Warps y a-t-il dans un SM ?==&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>256</mn><mi mathvariant="normal">/</mi><mn>32</mn><mo>∗</mo><mn>3</mn><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">256/32*3=24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">6</span><span class="mord">/</span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">4</span></span></span></span></p>
<h3 id="112-使用warp的好处"><a class="markdownIt-Anchor" href="#112-使用warp的好处"></a> 1.1.2 使用warp的好处</h3>
<p>Permet d’exécuter efficacement <strong>les opérations avec des longues latences</strong>, comme les accès globaux à la mémoire (ou les instructions arithmétiques à virgule flottante, les branchements de pipeline, etc.) 允许有效地执行具有长延迟的操作，如全局内存访问（或浮点运算指令、流水线分支等）。</p>
<ul>
<li>
<p>Une instruction devant être exécutée par un warp qui doit attendre le résultat d’une opération avec une longue latence alors le warp n’est pas sélectionné pour l’exécution.</p>
<p>一条要由warp执行的指令，必须等待具有长延迟的操作结果，那么该warp就不会被选择执行。</p>
</li>
<li>
<p>un autre warp qui n’attend plus de résultats sera sélectionné pour l’exécution.</p>
<p>另一个不再等待结果的warp将被选择执行。</p>
</li>
<li>
<p>si plus d’un warp est prêt à être exécuté, un mécanisme de priorité est utilisé pour en sélectionner un.</p>
</li>
</ul>
<p>如果有一个以上的warp准备被执行，则使用优先机制来选择其中一个。</p>
<p>这种用其他线程的工作来填补操作的延迟的机制通常被称为 &quot;延迟容忍 &quot;或 “延迟隐藏”[ “latency tolerance” / “latency hiding” ]</p>
<h3 id="113-ordonnancement-zero-overhead-thread"><a class="markdownIt-Anchor" href="#113-ordonnancement-zero-overhead-thread"></a> 1.1.3 Ordonnancement Zero-overhead thread</h3>
<p>定义：如果有足够数量的warps，硬件就有可能在任何时候找到一个warps来执行，这允许在这些长延迟操作的情况下充分利用执行硬件。选择准备执行的warp可以避免在执行时间线上引入空闲或浪费的时间，这被称为零开销的线程调度[ l’ordonnancement Zero-overhead thread]。</p>
<p>例子: Supposons qu’un device autorise[允许] jusqu’à 8 blocs et 1024 threads par SM et il permet jusqu’à 512 threads dans chaque bloc. Pour le traitement d’une image doit-on utiliser des blocs de 8×8, 16×16, ou 32×32 threads ?</p>
<ul>
<li>8*8 : 每个块中64个线程，需要1024/64=12个blocs，但每个SM只允许8个。</li>
<li>16*16：每个块中256个线程，需要1024/256=4个blocs，正好。</li>
<li>32*32：每个块中1024个线程超过512的限制了</li>
</ul>
<p>没有理解这个例子和零开销的线程调度的关系</p>
<h1 id="2-détour-sur-la-virgule-flottante"><a class="markdownIt-Anchor" href="#2-détour-sur-la-virgule-flottante"></a> 2. Détour sur la virgule flottante</h1>
<h2 id="21-le-format标准-à-virgule-flottante"><a class="markdownIt-Anchor" href="#21-le-format标准-à-virgule-flottante"></a> 2.1  Le format[标准] à virgule flottante</h2>
<p>IEEE754-2008</p>
<p>制定这个标准是为了：确保来自不同供应商的材料产生一致的结果</p>
<p>二进制浮点数的组成:</p>
<ul>
<li>符号位<strong>S</strong>[0正1负]，指数<strong>E</strong>[大小，entier relatif, 通常有界]和尾数<strong>M</strong>[精度]</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mo separator="true">⋅</mo><mi>M</mi><mo separator="true">⋅</mo><msup><mn>2</mn><mi>E</mi></msup><mtext>   </mtext><mn>1.0</mn><mo>&lt;</mo><mo>=</mo><mi>M</mi><mo>&lt;</mo><mn>10.</mn><msub><mn>0</mn><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">valeur = (-1)^S·M·2^E\ \ \ 1.0&lt;=M&lt;10.0_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span></span></span></span></span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，比如说<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.</mn><msub><mn>5</mn><mi>D</mi></msub><mo>=</mo><mn>1.</mn><msub><mn>0</mn><mi>B</mi></msub><mo separator="true">⋅</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">0.5_D=1.0_B·2^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.964108em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>. 由于所有的尾数都是1.XX…的形式，我们可以省略 &quot;1. &quot;部分（这被称为隐含位）。比如说上面的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.</mn><msub><mn>5</mn><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">0.5_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的尾数可以表示成00</li>
</ul>
<h2 id="22-représentation-de-lexposant"><a class="markdownIt-Anchor" href="#22-représentation-de-lexposant"></a> 2.2 Représentation de l’exposant</h2>
<p>**负数：**正数的反码+1，比如-4 sur 8 bits:</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.1aj6n7p8mqps.png" alt="yaimage" /></p>
<ul>
<li>-0就是0：$ 1111 1111_B + 1=0000 0000_B$</li>
<li>减法是正负的加
<ul>
<li>举得例子有点怪：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mo stretchy="false">(</mo><mo>−</mo><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mn>001</mn><msub><mn>1</mn><mi>B</mi></msub><mo>+</mo><mn>110</mn><msub><mn>0</mn><mi>B</mi></msub><mo>=</mo><mn>111</mn><msub><mn>1</mn><mi>B</mi></msub><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3+(-4)=0011_B+1100_B=1111_B=-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>, 就是说-1的二进制表示实际是1111[不过确实1的反码加1]</li>
</ul>
</li>
</ul>
<p>Pour un exposant E de n bits[对于一个n位的指数E]，on ajoute <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mtext>−</mtext><mn>1</mn></mrow></msup><mtext>−</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{n−1} − 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord">−</span><span class="mord">1</span></span></span></span>à la représentation de <strong>son complément à 2[它的2进制补码]</strong> (exemple pour une représentation de l’exposant sur 3 bits) .</p>
<ul>
<li>二进制数系统中，每个0或1就是一个位(bit)，位是数据存储的最小单位</li>
<li>补码：正数补码即原码，负数补码反码+1</li>
</ul>
<p>En général, avec une <strong>mantisse normalisée</strong> et un <strong>exposant codé en excès</strong>, la valeur d’un nombre avec un exposant de n bits est : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo><mi>S</mi><mo separator="true">⋅</mo><mn>1.</mn><mi>M</mi><mo separator="true">⋅</mo><msup><mn>2</mn><mrow><mo stretchy="false">(</mo><mi>E</mi><mtext>−</mtext><mo stretchy="false">(</mo><msup><mn>2</mn><mrow><mo stretchy="false">(</mo><mi>n</mi><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">(−1)S · 1.M · 2^{ (E−(2^{(n−1)}−1))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2896999999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0396999999999998em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.966714285714285em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.20awui5okaf4.png" alt="yaimage" /></p>
<p>这个在说n=3然后E[指数]都给加个011？</p>
<p><strong>Exemple sur un format 5-bit flottant</strong></p>
<p>Supposons un format avec 1bit pour S, 2 bits pour E et 2 bits pour M</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.</mn><msub><mn>5</mn><mi>D</mi></msub><mo>=</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>0</mn><mtext> </mtext><mn>00</mn><mtext> </mtext><mn>00</mn><mtext>   </mtext><mi>a</mi><mi>v</mi><mi>e</mi><mi>c</mi><mtext> </mtext><mi>S</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>E</mi><mo>=</mo><mn>00</mn><mo separator="true">,</mo><mi>M</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1.</mn><mo stretchy="false">)</mo><mn>00</mn></mrow><annotation encoding="application/x-tex">0.5_D=1.00_B*2^{-1}=0 \ 00\ 00\ \ \ avec\ S=0,E=00,M=(1.)00</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace"> </span><span class="mord">0</span><span class="mord">0</span><span class="mspace"> </span><span class="mord">0</span><span class="mord">0</span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">e</span><span class="mord mathnormal">c</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">.</span><span class="mclose">)</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.31xkvxmijq00.png" alt="yaimage" /></p>
<p>这里又不对了，01怎么对11哦</p>
<h2 id="23-nombres-représentables"><a class="markdownIt-Anchor" href="#23-nombres-représentables"></a> 2.3 Nombres représentables</h2>
<ol>
<li>
<p>Nombres représentables en 5 bits<img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230109002338628.png" alt="image-20230109002338628" /></p>
<ul>
<li><strong>指数的位数</strong>[E的bits]定义了可表示数的主要区间。主要的间隔[intervalles]是在2的幂之间</li>
<li><strong>尾数</strong>位定义了每个主要区间的代表数字的数量。因此，尾数的位数决定了表述的<strong>准确性</strong></li>
<li>这是一个理想的趋势，因为这些数字的绝对值越小，准确表达它们就越重要</li>
<li>可表示的数字的密度增加的趋势，以及在接近0时表示数字的准确性增加的趋势，在紧邻0的地方并不适用。</li>
</ul>
</li>
<li>
<p>Mise à zéro</p>
<p>删除了几个接近零的可表示数，并将它们全部分组为0.0</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230109002302967.png" alt="image-20230109002302967" /></p>
</li>
<li>
<p>Nombres dénormalisés</p>
<p>放宽了对非常接近0的数字的归一化要求,当E = 0时，尾数M不再被认为是形式1.XX但是是0.XX，值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.</mn><mi>M</mi><mo>∗</mo><msup><mn>2</mn><mrow><mo>−</mo><msup><mn>2</mn><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">0.M*2^{-2^{(n-1)}+2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0396999999999998em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0396999999999998em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.966714285714285em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230109002324646.png" alt="image-20230109002324646" /></p>
</li>
</ol>
<h2 id="24-精度"><a class="markdownIt-Anchor" href="#24-精度"></a> 2.4 精度</h2>
<p>分类：</p>
<ul>
<li>
<p>单精度：32位，1个符号位，8个指数位，23个尾数位</p>
</li>
<li>
<p>双精度：64位，1个符号位，11个指数位，52个尾数位。在双精度中，表示数字的最大误差减少到单精度表示的1/229。</p>
</li>
</ul>
<p>Arrondi</p>
<ul>
<li>浮点算术运算的精度是由该运算引入的最大误差来衡量的。</li>
<li>浮点算术中最常见的错误来源是，该操作产生的结果不能精确表示，因此必须舍入[arrondi]</li>
<li>当值的保持必须在太多的位上表示才能准确时，就会发生舍入[arrondi]</li>
</ul>
<p>我们假设一个5-bits的加法运算</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>2</mn></mrow></msup><mo>+</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">1.00_B*2^{-2}+1.00_B*2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>===&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>00</mn><mo separator="true">,</mo><mn>01</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>00</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,00,01)+(0,10,00)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mclose">)</span></span></span></span> ==&gt;这个尾数咋回事？</li>
<li>Le matériel doit décaler les bits de la mantisse pour les aligner[对齐]，对齐后为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.00</mn><msub><mn>1</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup><mo>+</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup><mo>=</mo><mn>1.00</mn><msub><mn>1</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">0.001_B*2^1+1.00_B*2^1=1.001_B*2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>,这在尾数M的2-bits中无法表示</li>
<li>最多只能表示成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">1.00_B*2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>或者是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn><msub><mn>1</mn><mi>B</mi></msub><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">1.01_B*2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>,但都差很多</li>
</ul>
<p>浮点运算不是严格意义上的关联性[ strictement associatives]，主要原因是，有时一个小数字与一个非常大的数字相加或相减后会消失：(Grand + Petit) + Petit 6= Grand + (Petit + Petit)，例子：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>⋅</mo><msup><mn>2</mn><mn>0</mn></msup><mo>+</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>⋅</mo><msup><mn>2</mn><mn>0</mn></msup><mo>+</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>⋅</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>2</mn></mrow></msup><mo>+</mo><mn>1.0</mn><msub><mn>0</mn><mi>B</mi></msub><mo>⋅</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">1.00_B\cdot2^0+1.00_B\cdot2^0+1.00_B\cdot2^{-2}+1.00_B\cdot2^{-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>
<p>时序</p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: align* at position 7: \begin{̲a̲l̲i̲g̲n̲*̲}̲\label{2}
&amp;1.00…'>\begin{align*}\label{2}
&amp;1.00_B · 2^0 + 1.00_B · 2^0 + 1.00_B · 2^{−2} + 1.00_B · 2^{−2}\\
&amp;= 1.00_B · 2^1 + 1.00_B · 2^{−2} + 1.00_B · 2^{−2}\\
&amp;= 1.00_B · 2^1 + 1.00_B · 2^{−2}(arrondi)\\
&amp;= 1.00_B · 2^1(arrondi)\\
\end{align*}
</p>
</li>
<li>
<p>并行</p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: align* at position 7: \begin{̲a̲l̲i̲g̲n̲*̲}̲\label{1}
&amp;(1.0…'>\begin{align*}\label{1}
&amp;(1.00_B · 2^0 + 1.00_B · 2^0) + (1.00_B · 2^{−2} + 1.00_B · 2^{−2})\\
&amp;= 1.00_B · 2^1 + 1.00_B · 2^{−1}\\
&amp;= 1.01_B · 2^1
\end{align*}
</p>
</li>
</ul>
<p>一个解决方法是对其进行预排序[pré-trier]，比如上面那个例子</p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: align* at position 7: \begin{̲a̲l̲i̲g̲n̲*̲}̲\label{0}
&amp;1.00…'>\begin{align*}\label{0}
&amp;1.00_B · 2^{−2} + 1.00_B · 2^{−2}+1.00_B · 2^0 + 1.00_B · 2^0\\
&amp;= 1.00_B · 2^{-1} + 1.00_B · 2^{0}+ 1.00_B · 2^{0}\\
&amp;= 1.10_B · 2^0+ 1.00_B · 2^{0}\\
&amp;=1.01_B\cdot2^1
\end{align*}
</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>GPU_CM5</title>
    <url>/2023/01/30/GPU_CM5/</url>
    <content><![CDATA[<h1 id="cm5"><a class="markdownIt-Anchor" href="#cm5"></a> CM5</h1>
<p>PPT:9</p>
<p>Algorithme parallèle de réduction</p>
<span id="more"></span>
<p>Algorithme de réduction</p>
<ul>
<li>
<p>将一组数变为1个数：Max，Min，Somme, Produit</p>
</li>
<li>
<p>一般他们时序操作的时间复杂度为O(N)</p>
</li>
</ul>
<p>采取分治的策略降低复杂度：一个 thread处理一个块，可以降到log(N)</p>
<p>Exemple: 找最大值</p>
<p>Implémentation parallèle：每次比较两个数，n/2个线程，log(n)步</p>
<p>Utilisant la mémoire partagée ：</p>
<ul>
<li>初始向量在device的全局内存</li>
<li>共享内存包含一个并行结果，最初, la mémoire partagée 包含的是初始向量</li>
<li>每一步都使部分的并行结果更接近于总的并行结果</li>
<li>最后结果是在共享向量的元素0</li>
<li>通过读取和写入数值，减少整体内存流量</li>
<li>最大区块大小必须小于或等于2048</li>
</ul>
<p>代码1.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">redux</span> <span class="params">( <span class="type">float</span> * input , <span class="type">float</span> * ouput )</span> &#123;</span><br><span class="line">	__shared__ <span class="type">float</span> max [<span class="number">2</span>* BLOCK_SIZE ];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t = threadIdx .x;</span><br><span class="line">    <span class="type">int</span> start = <span class="number">2</span>* blockIdx .x* blockDim .x;<span class="comment">//得到全局的编号</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//加载共享内存</span></span><br><span class="line">    max[t] = input [start + t];</span><br><span class="line">	max[blockDim +t] = input [ start + blockDim .x+t];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> stride = <span class="number">1</span>; stride &lt;= blockDim .x; stride *= <span class="number">2</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">		<span class="keyword">if</span> (t % stride == <span class="number">0</span>)<span class="comment">//用于判断那些线程处于活跃转态</span></span><br><span class="line">			max [<span class="number">2</span>*t] = ((max [<span class="number">2</span>* t] &gt; max [<span class="number">2</span>* t+ stride ]) ? max [<span class="number">2</span>* t] : max [<span class="number">2</span>* t+ stride ]) ;</span><br><span class="line">	&#125;</span><br><span class="line">	ouput [ blockIdx .x] = max [<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.3udwfzvdrd20.png" alt="yaimage" /></p>
<p>在每次迭代中，每个warp都要进行比较的线程和不进行比较的线程 ，但不比较性线程总是消耗执行资源</p>
<p>一半或更少的线程将在第一步后运行</p>
<ul>
<li>所有奇数的线程在第一阶段后被禁用</li>
<li>在第5步之后，每个区块中的整个warp都不能通过条件测试（资源利用率低但没有分歧</li>
<li>这可以持续一段时间，最多6个步骤（stride = 32, 64, 128, 256, 512, 1024），其中每个活动的warp只有一个 &quot;生产 &quot;线程</li>
</ul>
<p>改进</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.1ezoigby9gm8.png" alt="yaimage" /></p>
<p>代码2.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">redux</span> <span class="params">( <span class="type">float</span> * input , <span class="type">float</span> * ouput )</span> &#123;</span><br><span class="line">	__shared__ <span class="type">float</span> max [<span class="number">2</span>* BLOCK_SIZE ];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t = threadIdx .x;</span><br><span class="line">	<span class="type">int</span> start = <span class="number">2</span>* blockIdx .x* blockDim .x;</span><br><span class="line"></span><br><span class="line">    max [t] = input [ start + t];</span><br><span class="line">	max [ blockDim +t] = input [ start + blockDim .x+t];</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> stride = blockDim .x; stride &gt; <span class="number">0</span>; stride /= <span class="number">2</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">		<span class="keyword">if</span> (t &lt; stride )</span><br><span class="line">            max [<span class="number">2</span>* t] = ( ( max [<span class="number">2</span>* t] &gt; max [<span class="number">2</span>* t+ stride ]) ? max [<span class="number">2</span>* t] : max [<span class="number">2</span>* t+ stride ]) ;</span><br><span class="line">	&#125;</span><br><span class="line">	ouput [ blockIdx .x] = max [<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>GPU_CM4</title>
    <url>/2023/01/30/GPU_CM4/</url>
    <content><![CDATA[<h1 id="cm4"><a class="markdownIt-Anchor" href="#cm4"></a> CM4</h1>
<p>Pinned et Unified Memory: 固定和统一内存</p>
<p>memory coalescing: 内存合并</p>
<p>PPT:7,8</p>
<span id="more"></span>
<h1 id="1-pinned-et-unified-memory"><a class="markdownIt-Anchor" href="#1-pinned-et-unified-memory"></a> 1. Pinned et Unified Memory</h1>
<h2 id="11-内存及内存管理"><a class="markdownIt-Anchor" href="#11-内存及内存管理"></a> 1.1 内存及内存管理</h2>
<p>内存的层次结构</p>
<ul>
<li>兆字节易失性cache: 快，贵</li>
<li>千兆字节易失性内存：价格平均==》这句话没翻明白：gigaoctet de mémoire volatile de rapidité d’accès et prix moyen</li>
<li>TB级非易失大容量内存: 慢而不贵</li>
</ul>
<p>内存管理是操作系统的实体，用于内存的层次结构和它们之间的协调。注意下面这张图里面的静态内存和动态内存。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.1lw7cgj9rdxc.png" alt="yaimage" /></p>
<p>然后演示了它在硬件层面的实际操作过程==？</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.kffzl9gmch8.png" alt="yaimage" /></p>
<p>内存与地址空间[espace d’adressage]：地址空间是内存中可供程序或者进程使用的有效地址范围，每个程序由自己的地址空间，两个程序相同的地址空间对应实际内存的不同位置。</p>
<p>动态重新分配：</p>
<ul>
<li>加入base和limite两个寄存器，在程序运行时，操作系统将程序开始和结束的地址加载到他两里面==&gt;具体做法是：将基址添加到所有内存引用[?]中，并检查地址是否小于限制地址。
<ul>
<li>内存引用</li>
</ul>
</li>
<li>需要添加和比较(快速比较，但添加缓慢-因为保留-)</li>
</ul>
<p>内存大小：如果物理内存不够大无法容纳所有进程的解决方法：</p>
<ul>
<li>
<p>swapping</p>
<ul>
<li>预留额外空间：堆栈</li>
<li>内存压缩：不太用</li>
<li>可用的内存管理:结构(表，列表等)和算法(first fit, next fit等)</li>
</ul>
</li>
<li>
<p>虚拟内存</p>
<ul>
<li>
<p>将每个程序的地址空间划分为小的实体[即pages]，页面会map到物理内存，这里面寻址的对应关系由硬件[内存管理单元：MMU]动态完成(计组里面的页面寻址?)。如果页面没有被引用，操作系统将加载缺少的空间。</p>
</li>
<li>
<p>虚拟地址空间被划分为若干页,物理内存中的相应单元被称cadre de pages, page和cadre大小相同（例子中为4kb）</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/ya6d45c50600952d0917d88ecf2e49bcb.2df1pcc9397o.jpg" alt="ya6d45c50600952d0917d88ecf2e49bcb" /></p>
</li>
<li>
<p>在RAM[随机存取存储器]和磁盘之间的传输总是以整页形式进行的</p>
</li>
<li>
<p>页面替换算法</p>
<blockquote>
<p>1.选择一个很少使用的页面cadre<br />
2.将选定的page写到磁盘上<br />
3.转移被释放的cadre中引用的新页面<br />
4.修改页面表<br />
5.继续执行指令</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>TLB(高速缓存)：为了解决</p>
<ol>
<li>页面匹配需要快速</li>
<li>程序应该尽量访问少的页面</li>
</ol>
<p>提出的方法，具体做法是在MMU上的本地内存上开一个小的对应的缓存区TLB[Translation Lookaside Buffer], TLB存储最后的（page，cadre）对，对应于处理器必须访问的最后几页</p>
<h2 id="12-cpu与gpu之间的内存转移"><a class="markdownIt-Anchor" href="#12-cpu与gpu之间的内存转移"></a> 1.2 CPU与GPU之间的内存转移</h2>
<h3 id="121-mémoire-fixée-pinned"><a class="markdownIt-Anchor" href="#121-mémoire-fixée-pinned"></a> 1.2.1 Mémoire fixée (pinned)</h3>
<figure class="highlight plaintext"><figcaption><span>```使用DMA[Direct Memory Access]硬件单元来提高效率。</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- 直接内存访问（DMA）是一个计算机过程，流向或来自外围设备（通信端口、硬盘等）的数据由一个合适的控制器直接传输到机器的主内存，除了启动和完成传输外，没有来自微处理器的干预。</span><br><span class="line">- 在每次 DMA 传输开始时，地址被转换并检查所有源和目标区域的页面是否存在</span><br><span class="line">- 同一DMA传输的剩余部分没有地址转换，从而达到高效率。</span><br><span class="line">- 操作系统可能意外地删除由DMA读取或写入的数据，并在同一物理位置插入另一个虚拟页。</span><br><span class="line"></span><br><span class="line">cudaMemcpy()使用的DMA要求主机内存中的任何源或目标都被分配为固定内存[mémoire fixée], **作为DMA传输的来源或目的地的CPU内存必须被分配为固定内存**, 如果主机内存中的源内存或目标内存被分配在钉住的内存中，cudaMemcpy()会更快，因为不需要额外的复制。</span><br><span class="line"></span><br><span class="line">处理固定内存的CUDA函数: ```cudaHostAlloc```</span><br><span class="line"></span><br><span class="line">- 参数：指针到分配内存的地址，分配的内存大小/单位为字节，选项使用cudaHostAllocDefault</span><br><span class="line">- 唯一的区别是分配的内存不能被操作系统分页</span><br><span class="line">- 在固定内存的情况下，cudaMemcpy()函数应该快2倍</span><br><span class="line"></span><br><span class="line">### 1.2.2 Unified[统一] Memory</span><br><span class="line"></span><br><span class="line">是一个公共内存空间，主机和设备将其视为具有公共地址空间的单个内存</span><br><span class="line"></span><br><span class="line">硬件/软件自动处理主机和设备之间的数据迁移，保持它们之间的一致性，而不执行显式的内存复制调用(消除对cudaMemcpy例程的调用)</span><br><span class="line"></span><br><span class="line">统一内存允许:通过一致地统一内存空间来简化GPU编程，最大限度地提高数据访问速度</span><br><span class="line"></span><br><span class="line">**不再需要在主机和设备之间进行显式内存传输。**在内存空间中创建的任何分配都会自动迁移到需要的位置。</span><br><span class="line"></span><br><span class="line">程序通过两种方式分配内存:</span><br><span class="line"></span><br><span class="line">- 通过cudaMallocManaged()例程，它在语义上类似于cudaMalloc()</span><br><span class="line">- 通过定义一个全局变量```__managed__```，它在语义上类似于```__device__```变量[GPU执行GPU使用？？？？？？？]</span><br><span class="line"></span><br><span class="line">例子</span><br><span class="line"></span><br><span class="line">1. 不统一</span><br><span class="line"></span><br><span class="line">   ```c</span><br><span class="line">   __global__ void AplusB ( int *ret , int a, int b) </span><br><span class="line">   &#123;</span><br><span class="line">   	ret [ threadIdx .x] = a + b + threadIdx .x;</span><br><span class="line">   &#125;</span><br><span class="line">   int main () </span><br><span class="line">   &#123;</span><br><span class="line">   	int *ret ;</span><br><span class="line">   	cudaMalloc (&amp; ret , 1000 * sizeof ( int ) );</span><br><span class="line">   	AplusB &lt;&lt; &lt; 1, 1000 &gt; &gt;&gt;(ret , 10 , 100) ;</span><br><span class="line">   	int * host_ret = ( int *) malloc (1000 * sizeof ( int ));</span><br><span class="line">   	cudaMemcpy ( host_ret , ret , 1000 * sizeof (int ) , cudaMemcpyDefault );</span><br><span class="line">   	for ( int i = 0; i &lt; 1000; i++)</span><br><span class="line">   		printf (&quot;%d: A+B = %d\n&quot;, i, host_ret [i]) ;</span><br><span class="line">   	free ( host_ret ) ;</span><br><span class="line">   	cudaFree (ret );</span><br><span class="line">   	return 0;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>统一：cudaMallocManaged()</p>
<p>返回了一个对CPU和GPU代码都有效的指针。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">AplusB</span> <span class="params">( <span class="type">int</span> *ret , <span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	ret [ threadIdx .x] = a + b + threadIdx .x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span> *ret ;</span><br><span class="line">	cudaMallocManaged(&amp;ret, <span class="number">1000</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	AplusB &lt;&lt; &lt; <span class="number">1</span>, <span class="number">1000</span> &gt; &gt;&gt;(ret , <span class="number">10</span> , <span class="number">100</span>) ;</span><br><span class="line">	cudaDeviceSynchronize();<span class="comment">//[注意这里噢]</span></span><br><span class="line">	<span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span> (<span class="string">&quot;%d: A+B = %d\n&quot;</span>, i, ret [i]) ;</span><br><span class="line">	cudaFree (ret );</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>统一：<code>__managed__</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__device__ __managed__ <span class="type">int</span> ret [<span class="number">1000</span>];</span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">AplusB</span> <span class="params">( <span class="type">int</span> a, <span class="type">int</span> b)</span> </span><br><span class="line">&#123;</span><br><span class="line">	ret [ threadIdx .x] = a + b + threadIdx .x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">()</span> &#123;</span><br><span class="line">	AplusB &lt;&lt; &lt; <span class="number">1</span>, <span class="number">1000</span> &gt; &gt; &gt;(<span class="number">10</span> , <span class="number">100</span>) ;</span><br><span class="line">	cudaDeviceSynchronize();<span class="comment">//也有这个噢</span></span><br><span class="line">	<span class="keyword">for</span> ( <span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span> (<span class="string">&quot;%d: A+B = %d\n&quot;</span>, i, ret [i]) ;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>总之：</p>
<ul>
<li>统一内存试图通过在CPU访问时将数据移至主机内存，在GPU访问时将数据移至设备内存来优化内存性能。</li>
<li>数据迁移对一个程序来说是透明的。系统试图将数据放在可以最有效地访问的地方，而不违反一致性。</li>
<li>数据的物理位置对程序来说是不可见的，可以在任何时候改变，但对数据的虚拟地址的访问将保持有效和一致，从任何处理器，不管位置如何。一致性是关键要求，其次才是性能。</li>
</ul>
<h1 id="2-memory-coalescing"><a class="markdownIt-Anchor" href="#2-memory-coalescing"></a> 2. Memory coalescing</h1>
<h2 id="21-dram-burst"><a class="markdownIt-Anchor" href="#21-dram-burst"></a> 2.1 DRAM Burst</h2>
<p>CUDA的全局内存是靠DRAM[动态随机存储器,是一种常见的存储器类型，它能够在计算机的主存储器中临时存储数据]实现的，DRAM很慢。</p>
<ul>
<li>数据位存储在DRAM单元中，DRAM单元是小型电容器。电荷的数量决定了0和1之间的差值。为了从DRAM电池中读取数据，电容器必须利用其电荷为高电容线供电，这条线通往传感器，并触发传感器的检测机制，以确定电容器中的电荷量是否足以被认为是“1”。在现代DRAM芯片中，这个过程需要10纳秒。这与现代计算机设备小于纳秒的时钟周期时间形成了鲜明对比。</li>
</ul>
<p>现代DRAM使用<strong>并行性</strong>来提高数据访问速率</p>
<ul>
<li>每次访问一个DRAM位置时，就会访问一系列连续的位置，包括所请求的位置，每个DRAM芯片上都有许多传感器并联工作，每个传感器检测这些连续位置中的位内容。一旦被传感器检测到，来自所有这些连续位置的数据就可以高速传输到处理器。这些被访问和交付的连续位置被称为DRAM burst。</li>
<li>DRAM burst就是指通过在短时间内连续读取或写入较大数量的DRAM存储器单元来提高DRAM的性能</li>
</ul>
<h2 id="22-memory-coalescing合并"><a class="markdownIt-Anchor" href="#22-memory-coalescing合并"></a> 2.2 Memory Coalescing[合并]</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.2g418jle68is.png" alt="yaimage" /></p>
<p>当所有线程执行一个加载指令时，如果所有访问的位置都在同一个burst section中，将发出一个DRAM请求，访问将完全合并。</p>
<p>当可访问的地址在多个burst段上时，会</p>
<ul>
<li>La fusion échoue：合并失败</li>
<li>Plusieurs demandes de DRAM sont faites ：多个DRAM请求</li>
<li>L’accès n’est pas totalement fusionné ：访问没有完全合并</li>
<li>Certains des octets auxquels on accède et qui sont transférés ne sont pas utilisés par les threads：一些被访问和传输的字节没有被线程使用</li>
</ul>
<p>同样矩阵乘法例子[1.0]</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, <span class="type">int</span> Width )</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// Calculate the row/colum index of the P element and M</span></span><br><span class="line">	<span class="type">int</span> row = blockIdx .y* blockDim .y+ threadIdx .y;</span><br><span class="line">	<span class="type">int</span> col = blockIdx .x* blockDim .x+ threadIdx .x;</span><br><span class="line">	<span class="keyword">if</span> (( row &lt; Width ) &amp;&amp; ( col &lt; Width )) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">// each thread computes one element of the block sub - matrix</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; Width ; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">			Pvalue += M[ row * Width +k]*N[k* Width +col ];</span><br><span class="line">		&#125;</span><br><span class="line">		P[ row * Width + col ] = Pvalue ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.259mhh1z2lxc.png" alt="yaimage" /></p>
<p>使用内存合并修改的2.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">MatrixMulKernel</span> <span class="params">( <span class="type">float</span> * M, <span class="type">float</span> * N, <span class="type">float</span> * P, IntWidth )</span></span><br><span class="line">&#123;</span><br><span class="line">	__shared__ <span class="type">float</span> ds_M [ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line">	__shared__ <span class="type">float</span> ds_N [ TILE_WIDTH ][ TILE_WIDTH ];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> bx = blockIdx .x; <span class="type">int</span> by = blockIdx .y;</span><br><span class="line">	<span class="type">int</span> tx = threadIdx .x; <span class="type">int</span> ty = threadIdx .y;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> Row = by * blockDim .y+ ty;</span><br><span class="line">	<span class="type">int</span> Col = bx* blockDim .x+ tx;</span><br><span class="line">	<span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; n/ TILE_WIDTH ; ++p) </span><br><span class="line">    &#123;</span><br><span class="line">		<span class="comment">// 不就是用shared的奇怪下标？</span></span><br><span class="line">		ds_M [ty ][ tx] = M[ Row* Width + p* TILE_WIDTH +tx ];</span><br><span class="line">		ds_N [ty ][ tx] = N[(t* TILE_WIDTH +ty)* Width + Col ];</span><br><span class="line">		__syncthreads () ;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; TILE_WIDTH ; ++i) </span><br><span class="line">            Pvalue += ds_M [ty ][i] * ds_N [i][ tx ];</span><br><span class="line">		__syncthreads () ;</span><br><span class="line">	&#125;</span><br><span class="line">	P[ Row* Width + Col ] = Pvalue ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>???</p>
<center class="half">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.4bs4rgipoy00.png" width="400"height="300"/><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230108/yaimage.5s41l53ri100.png" width="400"height="300"/>
</center>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>QCM_Git</title>
    <url>/2023/01/30/Git/</url>
    <content><![CDATA[<h1 id="git"><a class="markdownIt-Anchor" href="#git"></a> Git</h1>
<p>QCM课上讲的</p>
<span id="more"></span>
<p>课程目标：</p>
<p>Comprendre les bases d’un système de gestion de version</p>
<p>Savoir utiliser git dans un projet</p>
<ul>
<li>travailler dans un repository local</li>
<li>se synchroniser[同步] sur un repository distant</li>
<li>avoir une idée des workflows collaboratifs</li>
</ul>
<h1 id="gestion-de-version"><a class="markdownIt-Anchor" href="#gestion-de-version"></a> Gestion de version</h1>
<h2 id="1-git的5大用"><a class="markdownIt-Anchor" href="#1-git的5大用"></a> 1. Git的5大用：</h2>
<ol>
<li>conservation de l’historique</li>
<li>travailler à plusieurs</li>
<li>les branches</li>
<li>travailler avec des contributeurs externes</li>
<li>passage à l’échelle==&gt;扩容</li>
</ol>
<h2 id="2-组成"><a class="markdownIt-Anchor" href="#2-组成"></a> 2. 组成:</h2>
<ol>
<li>le repository：Il contient l’historique complet du projet (toutes les révisions depuis le début)</li>
</ol>
<ul>
<li>Il ne faut pas stocker les fichiers générés par un outil (sous peine de gérer des conflits inutiles)：.o .obj .a .lib .so .dll .class .jar .exe. . .</li>
<li>当脚本由另一个工具生成时，我就会构建它们，例如：生成Makefile的cmake【？？？？？？】</li>
</ul>
<ol start="2">
<li>les révisions：Chaque révision</li>
</ol>
<ul>
<li>introduit des changements par rapport à la révision précédente</li>
<li>a un auteur identifié</li>
<li>est horodatée：有时间戳</li>
<li>contient un message qui décrit les changements</li>
</ul>
<ol start="3">
<li>
<p>HEAD：révision courante</p>
</li>
<li>
<p>les tags (étiquettes: 标签)：identifie une révision particulière</p>
</li>
<li>
<p>les branches</p>
</li>
</ol>
<ul>
<li>est une variante de la collection de fichiers</li>
<li>évolue indépendamment des autres branches</li>
<li>des opérations de fusion sont possibles</li>
</ul>
<ol start="6">
<li>utilisation des branches</li>
</ol>
<p>La branche new-feature permet de: développer une nouvelle fonctionnalité et conserver le développement normal</p>
<ol start="7">
<li>fusion (merge)</li>
</ol>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230112155142372.png" alt="image-20230112155142372" /></p>
<p>tous les changements de la branche sont importés: 所有变化都被导入</p>
<p>Typologie de la gestion de versions: 版本控制的类型化</p>
<h2 id="3-interactions-avec-le-repository"><a class="markdownIt-Anchor" href="#3-interactions-avec-le-repository"></a> 3. Interactions avec le repository</h2>
<p>un référentiel (repository) est une entité opaque[不透明的], pas question de l’éditer directement, donc on doit extraire sa copie de travail (working copy) du repository</p>
<p><strong>checkout</strong>: extrait une révision (le plus souvent la dernière) du référentiel,检索版本库的一个（通常是最后一个）修订版</p>
<p><strong>édition</strong>: copy到本地随便搞</p>
<p><strong>commit</strong>：crée une nouvelle révision à partir de la copie de travail：创建一个新的修订版。Quelques bonnes pratiques de commit</p>
<ul>
<li>Faire des commit souvent</li>
<li>Faire des commit relatifs à des changements indépendants dans des<br />
révisions différentes</li>
<li>Ecrire des messages de commit</li>
</ul>
<h1 id="utilisation-de-git-en-local"><a class="markdownIt-Anchor" href="#utilisation-de-git-en-local"></a> Utilisation de git en local</h1>
<ol>
<li>
<p>Paramétrage à la première utilisation de Git</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230112/yaimage.4kggkbhq2kg0.png" alt="yaimage" /></p>
</li>
<li>
<p>Création d’un référentiel local</p>
<p>git init myrepository: 创建</p>
<p>ls -a myrepository /. git: 显示信息</p>
</li>
<li>
<p>Premiers commits</p>
<p>git add file</p>
<p>git commit [-m message]</p>
<p>Par défaut les commits sont effectués dans la branche master</p>
</li>
<li>
<p>Suppression de fichiers</p>
<p>git rm file<br />
git commit</p>
</li>
<li>
<p>Différences entre versions</p>
<p>git diff [rev_a [rev _b] ]</p>
<ul>
<li>rev_a est l’index</li>
<li>rev_b est la copie de travail</li>
</ul>
<p>如果你想知道你所处的位置与参照系的关系：git diff HEAD/git diff master</p>
</li>
<li>
<p>Revenir en arrière 后退</p>
<ul>
<li>git reset</li>
<li>git reset --hard</li>
<li>git checkout --path</li>
</ul>
</li>
<li>
<p>一些其他的命令</p>
<p>git status : donne l’état de l’index et de la copie de travail (la liste des modifications prises en compte ou non)<br />
git show : donne les détail d’un commit<br />
git log : donne l’historique<br />
git mv : déplace ou renomme un fichier/répertoire<br />
git tag : création et suppression des tags</p>
</li>
</ol>
<h1 id="branches-et-fusion"><a class="markdownIt-Anchor" href="#branches-et-fusion"></a> Branches et fusion</h1>
<h2 id="1-branches"><a class="markdownIt-Anchor" href="#1-branches"></a> 1. Branches</h2>
<p>Chaque objet de commit possède sa propre liste de commit parents , <strong>une branche est juste un pointeur sur le dernier commit.</strong></p>
<p>创建新分支: git checkout -b develop</p>
<p>分支切换用git checkout + 分支名</p>
<p>加-m表示合并到目标分支</p>
<h2 id="2-fusion-de-branches"><a class="markdownIt-Anchor" href="#2-fusion-de-branches"></a> 2. Fusion de branches</h2>
<p>git merge other_branch，没有冲突时git合并的结果会立即提交，新的提交对象有两个父对象，合并历史被记录下来</p>
<p>git merge只适用于自最后一个共同祖先以来在另一个分支所做的修改，如果已经有过一次合并，则只考虑自上次合并以来的变化。</p>
<p><strong>git里面的文件合并</strong></p>
<p>如果同一个文件在两个分支都被修改了，git必须合并他两</p>
<ul>
<li>文本文件被逐行合并
<ul>
<li>在单一分支中修改的行会自动合并</li>
<li>如果同一行在两个分支中被修改，git会发送冲突</li>
<li>冲突地区标有&lt;&lt;&lt;&lt;&lt;&lt;&lt; 和 &gt;&gt;&gt;&gt;&gt;&gt;&gt;</li>
</ul>
</li>
<li>二进制文件总是产生冲突</li>
<li>你手动解决冲突（通过编辑文件）</li>
<li>git会拒绝提交，直到所有的冲突都被解决。</li>
</ul>
<h2 id="3-lhistoire-dun-conflit-sur-git"><a class="markdownIt-Anchor" href="#3-lhistoire-dun-conflit-sur-git"></a> 3. L’histoire d’un conflit sur GIT</h2>
<p>PPT的动图</p>
<h1 id="travailler-à-plusieurs-sur-git"><a class="markdownIt-Anchor" href="#travailler-à-plusieurs-sur-git"></a> Travailler à plusieurs sur git</h1>
<ul>
<li>多人合作需要中央服务器，un serveur central</li>
<li>工作方式很像svn</li>
<li>让每个人都能或多或少地在同一时间工作</li>
<li>冲突管理是每个开发者的责任</li>
<li>你需要在服务器上有权限来分配每个开发者</li>
<li>可扩展性不强pas très scalable</li>
</ul>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>QCM</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>GPU_CM6</title>
    <url>/2023/01/30/GPU_CM6/</url>
    <content><![CDATA[<h1 id="cm6"><a class="markdownIt-Anchor" href="#cm6"></a> CM6</h1>
<p>原子指令：柱状图和流</p>
<p>PPT: 10,11</p>
<span id="more"></span>
<h1 id="1-柱状图"><a class="markdownIt-Anchor" href="#1-柱状图"></a> 1. 柱状图</h1>
<p>PPT上是这样来定义一个柱状图的：数据集中的每个元素都与一个“容器”[conteneur]相关联,比如我们把每4个字母设成一个conteneur,那么对于&quot;When nine hundred years old you reach, look as good you will not&quot;这句话，有：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.79f7eza29lo0.png" alt="yaimage" /></p>
<p>并行算法设计</p>
<ol>
<li>
<p>把输入分成几个sections</p>
</li>
<li>
<p>每个线程对应一个section作为输入</p>
</li>
<li>
<p>每个线程在它的部分中迭代</p>
</li>
<li>
<p>对于每个字母，容器计数器都会增加</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.56t0cbfvtuc0.png" alt="yaimage" /></p>
<p>对内存访问进行优化</p>
<p>上面的方法的分段操作导致内存访问效率低</p>
<ul>
<li>线程不访问相邻的数据</li>
<li>访问未分组(合并)[coalesced]</li>
<li>DRAM带宽未得到充分利用</li>
</ul>
<p>所以我们要对进入的section进行交叉</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.3hpf726iw2y0.png" alt="yaimage" /></p>
<p>Accès concurrent</p>
<p>数据的更新分为3个步骤</p>
<ol>
<li>old &lt;- Mem[x]</li>
<li>new &lt;- old + 1</li>
<li>Mem[x] &lt;- new</li>
</ol>
<p>由于线程的并发访问，可能会出现不一致</p>
<center class="half">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.ia1un4nyea8.png" width="400"height="200"/><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.4cuttxw2fjy0.png" width="400"height="200"/>
</center>
<p>原子操作的Principe</p>
<ol>
<li>读-修改-写操作在单个硬件指令中执行</li>
<li>硬件确保在当前原子操作完成之前，其他线程不能在同一位置执行另一个读-修改-写操作
<ul>
<li>任何试图在同一位置执行原子操作的其他线程都将被放置在队列中</li>
<li>所有线程对同一个内存地址串联执行原子操作</li>
</ul>
</li>
<li>通过调用转换为单个指令的函数来执行: 加、减、递增、递减、最小、最大、交换、CAS(比较和交换)</li>
<li>对应的CUDA实例：<code>int atomicAdd(int* adresse, int val); </code>
<ul>
<li>读：从全局内存或共享内存中地址指向的位置读取旧的32位字，</li>
<li>修改：计算(old + val)</li>
<li>写：将结果存储在相同地址的内存中,返回旧值</li>
<li>这三个操作在一条指令中执行</li>
</ul>
</li>
</ol>
<p>算hist的cuda代码1.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">histo_kernel</span> <span class="params">( <span class="type">unsigned</span> <span class="type">char</span> * buffer , <span class="type">long</span> size , <span class="type">unsigned</span> <span class="type">int</span> * histo )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = threadIdx .x + blockIdx .x * blockDim .x;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// stride表示总的线程数,感觉主要就是这步</span></span><br><span class="line">	<span class="type">int</span> stride = blockDim.x * gridDim.x;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// All threads handle blockDim .x * gridDim .x</span></span><br><span class="line">	<span class="comment">// consecutive elements</span></span><br><span class="line">	<span class="keyword">while</span> (i &lt; size )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//实际算字符串啥的这里就不一定是buffer[i]了--&gt;buffer [i] - ’a’</span></span><br><span class="line">		atomicAdd ( &amp;( histo [ buffer [i]]) , <span class="number">1</span>) ;</span><br><span class="line">		i += stride ;<span class="comment">//跳到下一个线程不应该一个blockDim就行了吗？为什么要加所有的线程数哦</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>原子操作从DRAM读取开始，它有几百个周期的延迟</li>
<li>原子操作以在同一个地方写入结束，延迟了几百个周期</li>
<li>在此期间，其他人无法访问该地址</li>
<li>每次读-修改-写都会导致两次内存访问延迟</li>
<li>对单个变量(DRAM位置)的所有原子操作都是序列化的</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.45e7vmwftxi0.png" alt="yaimage" /></p>
<p>代码2.0[privatisation]</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230116/yaimage.3nv9exaoff00.png" alt="yaimage" /></p>
<p>???</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">histo_kernel</span> <span class="params">( <span class="type">unsigned</span> <span class="type">char</span> * buffer , <span class="type">long</span> size , <span class="type">unsigned</span> <span class="type">int</span> * histo )</span></span><br><span class="line">&#123;</span><br><span class="line">    __shared__ <span class="type">unsigned</span> <span class="type">int</span> histo_private[<span class="number">7</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> ( threadIdx .x &lt; <span class="number">7</span>) histo_private [ threadidx .x] = <span class="number">0</span>;</span><br><span class="line">	__syncthreads () ;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i = threadIdx .x + blockIdx .x * blockDim .x;</span><br><span class="line">	<span class="comment">// stride is total number of threads</span></span><br><span class="line">	<span class="type">int</span> stride = blockDim .x * gridDim .x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; size ) </span><br><span class="line">    &#123;</span><br><span class="line">		atomicAdd ( &amp;( private_histo [ buffer [i ]/<span class="number">4</span>) , <span class="number">1</span>) ;</span><br><span class="line">		i += stride ;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// wait for all other threads in the block to finish</span></span><br><span class="line">	__syncthreads () ;</span><br><span class="line">                                      </span><br><span class="line">                                      </span><br><span class="line">    <span class="keyword">if</span> ( threadIdx .x &lt; <span class="number">7</span>) </span><br><span class="line">    &#123;</span><br><span class="line">		atomicAdd (&amp;(histo[threadIdx.x]) , private_histo [ threadIdx .x] );</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-stream"><a class="markdownIt-Anchor" href="#2-stream"></a> 2. stream</h1>
<h2 id="21-序列化数据传输和计算"><a class="markdownIt-Anchor" href="#21-序列化数据传输和计算"></a> 2.1 序列化数据传输和计算</h2>
<p>以VecAddKernel()为例说明的cudaMemcpy序列化数据传输和GPU计算的示意图</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.3baiv4y21de0.png" alt="yaimage" /></p>
<p>一些CUDA设备允许同时执行kernel，同时在设备[périphérique]和主机[mémoire hôte]内存之间复制数据.具体做法</p>
<ul>
<li>Diviser les grands vecteurs en segments</li>
<li>叠加传输和计算相邻的段[ segments]</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.58g6pjdcvuc0.png" alt="yaimage" /></p>
<p>通过biais du pipeling的concurrence</p>
<ul>
<li>管道: 一种连接多个程序的方式，使得一个程序的输出可以作为另一个程序的输入</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.iuc263yr5fk.png" alt="yaimage" /></p>
<h2 id="22-cuda-stream"><a class="markdownIt-Anchor" href="#22-cuda-stream"></a> 2.2 CUDA stream</h2>
<h3 id="221-定义"><a class="markdownIt-Anchor" href="#221-定义"></a> 2.2.1 定义</h3>
<ol>
<li>
<p>Synchrone vs asynchrone:</p>
<ul>
<li>Synchrone：排队作业并等待其完成</li>
<li>Asynchrone：排队作业并立即返回</li>
<li>kernel的启动是异步[asynchrone]的，自动与主机重叠[overlap]</li>
</ul>
</li>
<li>
<p>stream</p>
<p>CUDA prend en charge[支持] l’exécution parallèle des kernels et de cudaMemcpy() avec des streams :</p>
<ul>
<li>每个流是设备上的一个操作队列（内核启动和cudaMemcpy()调用）
<ul>
<li>host将该作业放在队列中，并立即继续</li>
<li>当资源空闲时，device会从流中安排工作</li>
</ul>
</li>
<li>来自不同数据流的操作（任务）可以并行执行（任务并行）</li>
</ul>
</li>
</ol>
<h3 id="222-stream的执行顺序"><a class="markdownIt-Anchor" href="#222-stream的执行顺序"></a> 2.2.2 stream的执行顺序</h3>
<ol>
<li>
<p>一个steam</p>
<p>host上的代码发出的请求被放在队列[FIFO]中</p>
<ul>
<li>队列是由驱动器和设备异步读取和处理的</li>
<li>驱动程序确保队列中的操作被按顺序处理</li>
<li>示意图：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.7avsadgiyvk0.png" alt="yaimage" /></li>
</ul>
</li>
<li>
<p>多个streams</p>
<p>CUDA允许host线程查询并与单个队列(即stream)同步，示意图</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.163h4uww44w0.png" alt="yaimage" /></p>
</li>
</ol>
<h3 id="223-代码"><a class="markdownIt-Anchor" href="#223-代码"></a> 2.2.3 代码</h3>
<p>先申明stream变量 : <code>cudaStream_t stream</code></p>
<ul>
<li>
<p>申请stream : <code>cudaStreamCreate (&amp; stream )</code></p>
</li>
<li>
<p>毁掉stream: <code>cudaStreamDestroy ( stream )</code></p>
</li>
</ul>
<p>stream是kernel函数的第4个参数：<code>kernel &lt;&lt;&lt; blocks , threads , smem , stream &gt;&gt;&gt;() </code>, smem: shared memory,用于指定每个 CUDA 核的共享内存大小</p>
<p>stream的传递[异步拷贝:在调用它时会立即返回，而数据拷贝操作可能在后台进行]：<code>cudaMemcpyAsync ( dst , src , size , dir , stream )</code>, dir: cudaMemcpyHostToDevice/cudaMemcpyDeviceToHost/cudaMemcpyDeviceToDevice</p>
<p>默认：除非另有说明，所有调用都放在默认流中，通常称为“stream 0”, 他有特殊的同步规则: 与所有流同步:stream 0中的操作不能<em>重叠</em>其他流，比如说</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cudaStream_t stream1 ;</span><br><span class="line">cudaStreamCreate (&amp; stream1 ) ;</span><br><span class="line">foo &lt;&lt;&lt; blocks , threads &gt;&gt;&gt;() ; <span class="comment">// Stream par defaut</span></span><br><span class="line">foo &lt;&lt;&lt; blocks , threads ,<span class="number">0</span> , stream1 &gt;&gt;&gt;() ; <span class="comment">// pas de concurrence</span></span><br><span class="line">cudaStreamDestroy ( stream1 );</span><br></pre></td></tr></table></figure>
<p>特例：stream avec drapeau non-bloquant à l’allocation <code>cudaStreamCreateWithFlags (&amp; stream , cudaStreamNonBlocking )</code>,这种处理需要</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cudaStream_t stream1 ;</span><br><span class="line">cudaStreamCreateWithFlags (&amp; stream1 , cudaStreamNonBlocking );</span><br><span class="line">foo &lt;&lt;&lt; blocks , threads &gt;&gt;&gt;() ; <span class="comment">// Stream par defaut</span></span><br><span class="line">foo &lt;&lt;&lt; blocks , threads ,<span class="number">0</span> , stream1 &gt;&gt;&gt;() ; <span class="comment">// Concurrence,天哎这不是没区别</span></span><br><span class="line">cudaStreamDestroy ( stream1 );</span><br></pre></td></tr></table></figure>
<p>一个host使用Multi-Stream的简单的例子1.0</p>
<p>说明：在下列情况下获得并发concurrence:</p>
<ol>
<li>
<p>传输是在非默认流中进行的</p>
</li>
<li>
<p>副本是异步的</p>
</li>
<li>
<p>每个方向一次只能转移一次</p>
</li>
<li>
<p>host的内存是pinned的</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cudaStream_t stream0 , stream1 ;</span><br><span class="line">cudaStreamCreate (&amp;stream0 );</span><br><span class="line">cudaStreamCreate (&amp;stream1 );</span><br><span class="line"><span class="type">float</span> *d_A0 , *d_B0 , * d_C0 ; <span class="comment">// device memory for stream 0</span></span><br><span class="line"><span class="type">float</span> *d_A1 , *d_B1 , * d_C1 ; <span class="comment">// device memory for stream 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// cudaMalloc () calls for d_A0 , d_B0 , d_C0 , d_A1 , d_B1 , d_C1 go here</span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i =<span class="number">0</span>; i&lt;n; i+= SegSize *<span class="number">2</span>) </span><br><span class="line">&#123;</span><br><span class="line">	cudaMemcpyAsync(d_A0,h_A+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream0 );</span><br><span class="line">	cudaMemcpyAsync(d_B0,h_B+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream0 );</span><br><span class="line">	vecAdd&lt;&lt;&lt;SegSize /<span class="number">256</span> , <span class="number">256</span> , <span class="number">0</span> , stream0&gt;&gt;&gt;(d_A0 , d_B0 ,d_C0) ;</span><br><span class="line">	cudaMemcpyAsync(h_C+i,d_C0,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>) ,cudaMemcpyDeviceToHost, stream0 );</span><br><span class="line"></span><br><span class="line">    cudaMemcpyAsync(d_A1,h_A+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream1 );</span><br><span class="line">	cudaMemcpyAsync(d_B1,h_B+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream1 );</span><br><span class="line">	vecAdd&lt;&lt;&lt;SegSize /<span class="number">256</span> , <span class="number">256</span> , <span class="number">0</span> , stream0&gt;&gt;&gt;(d_A1 , d_B1 ,d_C1) ;<span class="comment">//这里不太确定是不是写d_C1</span></span><br><span class="line">	cudaMemcpyAsync(d_C1,h_C+i+SegSize,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>) ,cudaMemcpyDeviceToHost, stream1);<span class="comment">//注意这行哈</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示意图</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230117/yaimage.70attstyb9s0.png" alt="yaimage" /></p>
<p>上面的向量加2.0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cudaStream_t stream0 , stream1 ;</span><br><span class="line">cudaStreamCreate (&amp;stream0 );</span><br><span class="line">cudaStreamCreate (&amp;stream1 );</span><br><span class="line"><span class="type">float</span> *d_A0 , *d_B0 , * d_C0 ; <span class="comment">// device memory for stream 0</span></span><br><span class="line"><span class="type">float</span> *d_A1 , *d_B1 , * d_C1 ; <span class="comment">// device memory for stream 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// cudaMalloc () calls for d_A0 , d_B0 , d_C0 , d_A1 , d_B1 , d_C1 go here</span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i =<span class="number">0</span>; i&lt;n; i+= SegSize *<span class="number">2</span>) </span><br><span class="line">&#123;</span><br><span class="line">	cudaMemcpyAsync(d_A0,h_A+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream0 );</span><br><span class="line">	cudaMemcpyAsync(d_B0,h_B+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream0 );</span><br><span class="line">	</span><br><span class="line">	cudaMemcpyAsync(d_A1,h_A+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream1 );</span><br><span class="line">	cudaMemcpyAsync(d_B1,h_B+i,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>),cudaMemcpyHostToDevice, stream1 );</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	vecAdd&lt;&lt;&lt;SegSize /<span class="number">256</span> , <span class="number">256</span> , <span class="number">0</span> , stream0&gt;&gt;&gt;(d_A0 , d_B0 ,d_C0) ;</span><br><span class="line">	vecAdd&lt;&lt;&lt;SegSize /<span class="number">256</span> , <span class="number">256</span> , <span class="number">0</span> , stream0&gt;&gt;&gt;(d_A1 , d_B1 ,d_C1) ;<span class="comment">//这里不太确定是不是写d_C1</span></span><br><span class="line"></span><br><span class="line">	cudaMemcpyAsync(h_C+i,d_C0,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>) ,cudaMemcpyDeviceToHost, stream0 );</span><br><span class="line">    cudaMemcpyAsync(d_C1,h_C+i+SegSize,SegSize*<span class="keyword">sizeof</span>(<span class="type">float</span>) ,cudaMemcpyDeviceToHost, stream1);<span class="comment">//注意这行哈</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="23-同步和cuda-event"><a class="markdownIt-Anchor" href="#23-同步和cuda-event"></a> 2.3 同步和CUDA event</h2>
<p>全部同步：将host给bloque直到所有的CUDA调用完成：<code>cudaDeviceSynchronize ()</code></p>
<p>将主机与特定的流同步:阻塞主机，直到流中发出的所有CUDA调用完成：<code>cudaStreamSynchronize ( stream )</code></p>
<p>使用event同步host或device</p>
<ul>
<li>create/destroy：<code>cudaEventCreate(&amp;event)</code>/ <code> cudaEventDestroy(&amp;event)</code></li>
<li>禁用同步以提高性能并避免同步问题:<code>cudaEventCreateWithFlags(&amp;event, cudaEventDisableTiming)</code></li>
<li><code>cudaEventRecord(&amp;event, stream)</code>
<ul>
<li>将event状态设置为未发生</li>
<li>把event放到流的等待队列里面</li>
<li>event状态被定义为当它到达流的开始时发生的</li>
</ul>
</li>
<li>如果发生事件，则返回CUDA_SUCCESS: <code>cudaEventQuery ( event )</code></li>
<li>阻塞host，直到流完成所有正在进行的调用: <code>cudaEventSynchronize ( event )</code></li>
<li><code>cudaStreamWaitEvent ( stream, event )</code>
<ul>
<li>阻塞流，直到事件发生</li>
<li>只在调用后阻止启动,不阻塞host</li>
</ul>
</li>
</ul>
<p>注意：需要申明 cudaEventSynchronize <strong>avant</strong> cudaEventRecord</p>
<h2 id="24-préfetching-de-données数据预取"><a class="markdownIt-Anchor" href="#24-préfetching-de-données数据预取"></a> 2.4 Préfetching de données/数据预取</h2>
<p>CUDA统一内存中的数据预取[Préfetching de données ]</p>
<ul>
<li>éviter les défauts de page</li>
<li>提供一种机制，通过建立数据定位来提高应用性能</li>
<li>用于将数据迁移到设备或主机，并在处理器开始使用数据之前将页表映射到处理器</li>
<li>当从单个处理器访问数据时最有用</li>
<li><code>__host__ cudaError_t cudaMemPrefetchAsync ( const void* devPtr, size_t count, int dstDevice, cudaStream_t stream = 0 )</code></li>
</ul>
<p>实例</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// data must’ve been allocated with cudaMallocManaged ( ( void **) &amp;data , N);</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">function</span> <span class="params">( <span class="type">int</span> * data , cudaStream_t stream )</span> </span><br><span class="line">&#123;</span><br><span class="line">    init (data , N) ;</span><br><span class="line">    cudaMemPrefetchAsync (data , N * <span class="keyword">sizeof</span> ( <span class="type">int</span>) , myGpuId , stream );</span><br><span class="line">    kernel &lt; &lt; &lt;... , stream &gt; &gt; &gt;(data , ...) ;</span><br><span class="line">    <span class="comment">// Prefetch to the host cudaStreamSynchronize ( stream );</span></span><br><span class="line">    cudaMemPrefetchAsync (data , N * <span class="keyword">sizeof</span> ( <span class="type">int</span>) , cudaCpuDeviceId , stream );</span><br><span class="line">    hostFunction (data , N) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>INDUR_CM1&amp;2</title>
    <url>/2022/11/12/INDUR_CM1%20&amp;%202/</url>
    <content><![CDATA[<h1 id="indur-informatique-durable_cm1-2"><a class="markdownIt-Anchor" href="#indur-informatique-durable_cm1-2"></a> INDUR - Informatique durable_CM1 &amp;2</h1>
<span id="more"></span>
<h2 id="cm1"><a class="markdownIt-Anchor" href="#cm1"></a> CM1</h2>
<h3 id="一些问题和介绍"><a class="markdownIt-Anchor" href="#一些问题和介绍"></a> 一些问题和介绍</h3>
<p><strong>Quels mots/concepts vous évoque[唤起] l’idée d’une informatique durable(ou responsable)?</strong></p>
<p>​	Energie:</p>
<ul>
<li>
<p>Conception logicielle–&gt;cycle de vie d’un logiciel</p>
</li>
<li>
<p>analyse de complecité–&gt;metro compatilite</p>
</li>
<li>
<p>utilisation a finalité de DD</p>
</li>
<li>
<p>matériel–&gt;ordinateurs de []/centre de données</p>
</li>
<li>
<p>Energie social</p>
</li>
</ul>
<p>​	Ethique</p>
<p><strong>Quelques problèmes d’intérêt?</strong></p>
<ul>
<li>
<p>design et informatique: le doomscrolling</p>
<p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0257728%E5%9C%A8%E8%AE%B2%E5%AF%BB%E6%89%BE%E4%B8%8E">https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0257728在讲寻找与</a> COVID 相关的新闻可能会破坏积极情绪这些</p>
</li>
<li>
<p>informatique verte</p>
<p>Une obligation sociétale</p>
<p><a href="https://www.legifrance.gouv.fr/codes/id/LEGIARTI000044330813/2022-09-01/">https://www.legifrance.gouv.fr/codes/id/LEGIARTI000044330813/2022-09-01/</a></p>
<p>讲说工程培训包括与数字服务的生态设计和数字清醒相关的模块。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.51ffg6w7src0.png" alt="yaimage" /></p>
</li>
</ul>
<p><strong>Analyse d’impact relative a la protection des données(AIPD)?</strong></p>
<p>-obligatoire pour les traitements susceptibles[高风险] d’engendrer des risques élevés</p>
<p>-Composé de 3 parties :</p>
<ul>
<li>Description détaillée du traitement mis en œuvre</li>
<li>Évaluation juridique de la nécessité et de la proportionnalité concernant les principes et droits fondamentaux</li>
<li>Étude technique des risques sur la sécurité des données (confidentialité[保密性], intégrité[完整性] et disponibilité[可用性]) et leurs impacts potentiels sur la vie privée</li>
</ul>
<p>-英语的：DPIA/PIA</p>
<h3 id="plan-du-cours"><a class="markdownIt-Anchor" href="#plan-du-cours"></a> <strong>Plan du cours</strong></h3>
<h4 id="plan-du-cours-2"><a class="markdownIt-Anchor" href="#plan-du-cours-2"></a> <strong>Plan du cours</strong></h4>
<p>informatique verte(9月)</p>
<ul>
<li>Identifier les principes de l’informatique verte et les leviers[杠杆?] associés</li>
<li>Enjeux[问题] et impacts directs et indirects</li>
<li>Consommation énergétique matérielle et logicielle</li>
<li>Sobriété[清醒] numérique</li>
</ul>
<p>-MOOC: impacts environnementaux du numérique</p>
<p>Règlementation et éthique(10月)</p>
<ul>
<li>Cadre juridique en matière[材料，物质] de traitement automatique de données</li>
<li>Ethique et responsabilité</li>
</ul>
<p><strong>11月7号早上考试!!!</strong></p>
<h4 id="objectifs-du-cours"><a class="markdownIt-Anchor" href="#objectifs-du-cours"></a> <strong>Objectifs du cours</strong></h4>
<p>-Savoir construire une analyse éthique et responsable des traitements automatiques de l’information (identification de l’impact de ces traitements, des biais[偏差] possibles, etc.)</p>
<p>-Savoir mettre en oeuvre un diagnostic de la consommation énergétique des applications informatiques</p>
<p>Développer une pensée rationnelle[理性], basée sur la littérature scientifique</p>
<h3 id="小组讨论"><a class="markdownIt-Anchor" href="#小组讨论"></a> 小组讨论</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.69gln3w9tzs0.png" alt="yaimage" /></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.plqkc26yoqo.png" alt="yaimage" /></p>
<h3 id="课后作业之后的安排"><a class="markdownIt-Anchor" href="#课后作业之后的安排"></a> 课后作业/之后的安排</h3>
<p>MOOC(<a href="https://lms.fun-mooc.fr/courses/course-v1:inria+41025+session01/info">https://lms.fun-mooc.fr/courses/course-v1:inria+41025+session01/info</a>)看完然后选主题写报告</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3eafuu5vn2g0.png" alt="yaimage" /></p>
<p>就是说是让咋搁教室去上MOOC的意思？</p>
<h2 id="cm2-impact-environnemental-et-éco-conception"><a class="markdownIt-Anchor" href="#cm2-impact-environnemental-et-éco-conception"></a> CM2: Impact environnemental et éco-conception</h2>
<p>是两个centrale paris的创业的厉害的年轻人来讲的</p>
<h3 id="présentation-des-enjeux"><a class="markdownIt-Anchor" href="#présentation-des-enjeux"></a> Présentation des enjeux</h3>
<p>Impact environnemental du numérique: beaucoup matériaux</p>
<p>La fabrication: Matériaux rares, manufacture, transport</p>
<p>90% 的 émissions vient de la fabrication</p>
<p>usages: les vidéos, divertissement</p>
<p>l’effet rebond: augmenter la capacité du réseau, diminuer la consommation d’électricité</p>
<h3 id="mesure-dune-application"><a class="markdownIt-Anchor" href="#mesure-dune-application"></a> Mesure d’une application</h3>
<p>pourquoi change-t-on de téléphone: mémoire saturée, batterie morte, incompatibilité de matériel, tout qui lague, marketing agressif(iPhone 14)</p>
<p>L’outil de mesure de <strong>BAM</strong>(7 axes): compatibilité, utilisation de la batterie, performance de l’app, taille de l’app</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>INDUR</category>
      </categories>
  </entry>
  <entry>
    <title>GPU_TDs</title>
    <url>/2023/01/30/GPU_TD/</url>
    <content><![CDATA[<h1 id="gpu_tds"><a class="markdownIt-Anchor" href="#gpu_tds"></a> GPU_TDs</h1>
<p>TD整理</p>
<span id="more"></span>
<h1 id="td1"><a class="markdownIt-Anchor" href="#td1"></a> TD1</h1>
<ol>
<li>
<p>编译cu文件<code>nvcc -o outputFile inputFile.c</code>+启动可执行文件<code>./outputFile</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">__device__ <span class="type">const</span> <span class="type">char</span> *STR = <span class="string">&quot;HELLO WORLD!&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> STR_LENGTH = <span class="number">12</span>;<span class="comment">//为什么不把这个也扔到device上==&gt;像int，float那种？</span></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">hello</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, STR[threadIdx.x % STR_LENGTH]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> num_threads = STR_LENGTH;</span><br><span class="line">	<span class="type">int</span> num_blocks = <span class="number">1</span>;</span><br><span class="line">	hello&lt;&lt;&lt;num_blocks,num_threads&gt;&gt;&gt;();</span><br><span class="line">	cudaDeviceSynchronize();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>显示GPU的各种属性</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> &#123;</span><br><span class="line">  <span class="type">int</span> deviceCount;</span><br><span class="line">  cudaGetDeviceCount(&amp;deviceCount);</span><br><span class="line">  <span class="type">int</span> device;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (device = <span class="number">0</span>; device &lt; deviceCount; ++device) &#123;</span><br><span class="line">    cudaDeviceProp deviceProp;</span><br><span class="line">    cudaGetDeviceProperties(&amp;deviceProp, device);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Device %d has compute capability %d.%d.\n&quot;</span>, device,</span><br><span class="line">           deviceProp.major, deviceProp.minor);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="td2-一维向量加"><a class="markdownIt-Anchor" href="#td2-一维向量加"></a> TD2: 一维向量加</h1>
<p>一维向量加</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">__global__</span><br><span class="line"><span class="type">void</span> <span class="title function_">vector_add</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//最关键的一行：index：第几块上的多少个线程</span></span><br><span class="line">	<span class="type">int</span> index = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">	c[index] = a[index] + b[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N (2048*2048)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> THREADS_PER_BLOCK 512</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	cudaEvent_t start, stop;</span><br><span class="line">	cudaEventCreate(&amp;start);</span><br><span class="line">	cudaEventCreate(&amp;stop);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *a, *b, *c;</span><br><span class="line">	<span class="type">int</span> *d_a, *d_b, *d_c;</span><br><span class="line">	<span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">int</span> );</span><br><span class="line"></span><br><span class="line">	<span class="comment">//给device上的变量申请内存</span></span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_a, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_b, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_c, size );</span><br><span class="line">	<span class="comment">//给host上的变量申请内存</span></span><br><span class="line">	a = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	b = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	c = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">	<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = b[i] = i;</span><br><span class="line">		c[i] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//记录时间</span></span><br><span class="line">	cudaEventRecord(start, <span class="number">0</span>);</span><br><span class="line">	<span class="comment">//把host上的向量copy到device上</span></span><br><span class="line">	cudaMemcpy( d_a, a, size, cudaMemcpyHostToDevice );</span><br><span class="line">	cudaMemcpy( d_b, b, size, cudaMemcpyHostToDevice );</span><br><span class="line"></span><br><span class="line">	cudaEventRecord(stop, <span class="number">0</span>);</span><br><span class="line">	cudaEventSynchronize(stop);</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//打印cudaMemcpy的时间</span></span><br><span class="line">	<span class="type">float</span> elapsedTime;</span><br><span class="line">	cudaEventElapsedTime(&amp;elapsedTime, start, stop);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Time to copy %3.1f ms\n&quot;</span>, elapsedTime);</span><br><span class="line"></span><br><span class="line">	cudaEventRecord(start, <span class="number">0</span>);</span><br><span class="line">	<span class="comment">//launch the kernel on the GPU </span></span><br><span class="line">	<span class="comment">//参数是：bloc数【一定是向上取整的整数】和bloc里面的线程数</span></span><br><span class="line">	vector_add&lt;&lt;&lt; (N + (THREADS_PER_BLOCK<span class="number">-1</span>)) / THREADS_PER_BLOCK, THREADS_PER_BLOCK &gt;&gt;&gt;( d_a, d_b, d_c );</span><br><span class="line"></span><br><span class="line">	<span class="comment">//把结果copy回来</span></span><br><span class="line">	cudaMemcpy( c, d_c, size, cudaMemcpyDeviceToHost );</span><br><span class="line"></span><br><span class="line">	cudaEventRecord(stop, <span class="number">0</span>);</span><br><span class="line">	cudaEventSynchronize(stop);</span><br><span class="line">	<span class="comment">////kernel+cudaMemcpy回来的时间</span></span><br><span class="line">	cudaEventElapsedTime(&amp;elapsedTime, start, stop);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Time to execute %3.1f ms\n&quot;</span>, elapsedTime);</span><br><span class="line">	cudaEventDestroy(start);</span><br><span class="line">	cudaEventDestroy(stop);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[0] = %d\n&quot;</span>,c[<span class="number">0</span>] );</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[%d] = %d\n&quot;</span>,N<span class="number">-1</span>, c[N<span class="number">-1</span>] );</span><br><span class="line"></span><br><span class="line">	<span class="comment">//清除缓存</span></span><br><span class="line">	<span class="built_in">free</span>(a);</span><br><span class="line">	<span class="built_in">free</span>(b);</span><br><span class="line">	<span class="built_in">free</span>(c);</span><br><span class="line">	cudaFree( d_a );</span><br><span class="line">	cudaFree( d_b );</span><br><span class="line">	cudaFree( d_c );</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="td3-kernel-multidimension"><a class="markdownIt-Anchor" href="#td3-kernel-multidimension"></a> TD3: kernel multidimension</h1>
<p>kernel multidimension</p>
<ol>
<li>
<p>Julia集</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bitmap_image.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIM 1000</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cuComplex</span> //负数的结构体--&gt;</span>C里面没有<span class="class"><span class="keyword">class</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">float</span>   r;</span><br><span class="line">    <span class="type">float</span>   i;</span><br><span class="line">    <span class="comment">//__device__:GPU执行，GPU使用</span></span><br><span class="line">    __device__ <span class="title function_">cuComplex</span><span class="params">( <span class="type">float</span> a, <span class="type">float</span> b )</span> : <span class="title function_">r</span><span class="params">(a)</span>, <span class="title function_">i</span><span class="params">(b)</span>  &#123;&#125;</span><br><span class="line">    __device__ <span class="type">float</span> <span class="title function_">magnitude2</span><span class="params">( <span class="type">void</span> )</span> &#123; <span class="keyword">return</span> r * r + i * i; &#125;</span><br><span class="line">    __device__ cuComplex operator*(<span class="type">const</span> cuComplex&amp; a)<span class="comment">//操作符重载是可以在结构体上的！</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> cuComplex(r*a.r - i*a.i, i*a.r + r*a.i);</span><br><span class="line">    &#125;</span><br><span class="line">    __device__ cuComplex operator+(<span class="type">const</span> cuComplex&amp; a) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> cuComplex(r+a.r, i+a.i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//因为在kernel里面被调用</span></span><br><span class="line">__device__ <span class="type">int</span> <span class="title function_">julia</span><span class="params">( <span class="type">int</span> x, <span class="type">int</span> y )</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="type">const</span> <span class="type">float</span> scale = <span class="number">1.5</span>;</span><br><span class="line">    <span class="type">float</span> jx = scale * (<span class="type">float</span>)(DIM/<span class="number">2</span> - x)/(DIM/<span class="number">2</span>);</span><br><span class="line">    <span class="type">float</span> jy = scale * (<span class="type">float</span>)(DIM/<span class="number">2</span> - y)/(DIM/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    cuComplex <span class="title function_">c</span><span class="params">(<span class="number">-0.8</span>, <span class="number">0.156</span>)</span>;</span><br><span class="line">    cuComplex <span class="title function_">a</span><span class="params">(jx, jy)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">200</span>; i++) </span><br><span class="line">    &#123;</span><br><span class="line">        a = a * a + c;</span><br><span class="line">        <span class="keyword">if</span> (a.magnitude2() &gt; <span class="number">1000</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">kernel</span><span class="params">( <span class="type">unsigned</span> <span class="type">char</span> *ptr )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x = threadIdx.x + blockIdx.x * blockDim.x;<span class="comment">//x是col</span></span><br><span class="line">    <span class="type">int</span> y = threadIdx.y + blockIdx.y * blockDim.y;<span class="comment">//y是row</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (x &lt; DIM &amp;&amp; y &lt; DIM)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> offset = x + y * DIM;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> juliaValue = julia( x, y );</span><br><span class="line">        ptr[offset*<span class="number">3</span> + <span class="number">0</span>] = <span class="number">255</span> * juliaValue;<span class="comment">//可以有渐变效果？</span></span><br><span class="line">        ptr[offset*<span class="number">3</span> + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        ptr[offset*<span class="number">3</span> + <span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;        </span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( <span class="type">void</span> )</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//create event</span></span><br><span class="line">    cudaEvent_t start, stop;</span><br><span class="line">	cudaEventCreate(&amp;start);</span><br><span class="line">    cudaEventCreate(&amp;stop);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> size = DIM*DIM*<span class="number">3</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> *h_ptr = (<span class="type">unsigned</span> <span class="type">char</span> *)<span class="built_in">malloc</span>(size);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> *d_ptr;</span><br><span class="line"></span><br><span class="line">    cudaMalloc((<span class="type">void</span>**)&amp;d_ptr, size);</span><br><span class="line">    </span><br><span class="line">    cudaEventRecord(start, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">//这里噢</span></span><br><span class="line">    dim3 <span class="title function_">DimGrid</span> <span class="params">( <span class="built_in">ceil</span>(DIM/<span class="number">16.0</span>) , <span class="built_in">ceil</span>(DIM/<span class="number">16.0</span>)  , <span class="number">1</span>)</span>;</span><br><span class="line">    dim3 <span class="title function_">DimBlock</span> <span class="params">( <span class="number">16</span> , <span class="number">16</span> , <span class="number">1</span>)</span>;</span><br><span class="line">    kernel&lt;&lt;&lt; DimGrid,DimBlock &gt;&gt;&gt;( d_ptr );</span><br><span class="line">    <span class="comment">//event来搞时间</span></span><br><span class="line">    cudaEventRecord(stop, <span class="number">0</span>);</span><br><span class="line">	cudaEventSynchronize(stop);</span><br><span class="line">	<span class="type">float</span> elapsedTime;</span><br><span class="line">	cudaEventElapsedTime(&amp;elapsedTime, start, stop);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Time to compute %3.1f ms\n&quot;</span>, elapsedTime);</span><br><span class="line"></span><br><span class="line">    cudaEventDestroy(start);</span><br><span class="line">    cudaEventDestroy(stop);</span><br><span class="line"></span><br><span class="line">    cudaMemcpy( h_ptr, d_ptr, size, cudaMemcpyDeviceToHost );</span><br><span class="line">    cudaFree(d_ptr);</span><br><span class="line">    </span><br><span class="line">	<span class="comment">// Write BMP image：非压缩图像格式，图像可以使用各种颜色深度，如1位，4位，8位和24位</span></span><br><span class="line">    <span class="comment">//在1位和4位深度中，图像是黑白或灰度图像，而在8位和24位深度中，图像是彩色图像。</span></span><br><span class="line">    bitmap_image <span class="title function_">img</span><span class="params">(DIM,DIM)</span>;</span><br><span class="line">    img.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = DIM<span class="number">-1</span>; y &gt;= <span class="number">0</span>; y--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> x = DIM<span class="number">-1</span>; x &gt;= <span class="number">0</span>; x--)</span><br><span class="line">		&#123;</span><br><span class="line">            <span class="type">int</span> offset = x + y * DIM;</span><br><span class="line">            img.set_pixel(x, y, h_ptr[offset*<span class="number">3</span>], h_ptr[offset*<span class="number">3</span>+<span class="number">1</span>], h_ptr[offset*<span class="number">3</span>+<span class="number">2</span>]);            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    img.save_image(<span class="string">&quot;test.bmp&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>矩阵乘法</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//都是只在main里面用的</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initMatrix</span><span class="params">(<span class="type">float</span> *m, <span class="type">int</span> numRows, <span class="type">int</span> numCols)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">computeMatrixMulCPU</span><span class="params">(<span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">float</span> *C, <span class="type">int</span> numARows, <span class="type">int</span> numAColumns, <span class="type">int</span> numBRows, <span class="type">int</span> numBColumns)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">compareMatrix</span><span class="params">(<span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">int</span> numRows, <span class="type">int</span> numColumns)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CREATE_CUDAEVENT cudaEvent_t start, stop; \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;start); \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;stop);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> START_CUDAEVENT cudaEventRecord(start, 0);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STOP_AND_PRINT_CUDAEVENT(txt) cudaEventRecord(stop, 0);\</span></span><br><span class="line"><span class="meta">cudaEventSynchronize(stop);\</span></span><br><span class="line"><span class="meta">&#123;float elapsedTime;\</span></span><br><span class="line"><span class="meta">cudaEventElapsedTime(&amp;elapsedTime, start, stop);\</span></span><br><span class="line"><span class="meta">printf(<span class="string">&quot;Time to %s %3.1f ms\n&quot;</span>, #txt, elapsedTime);&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ComputeC=A*B</span></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">sgemm</span><span class="params">(<span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">float</span> *C, <span class="type">int</span> numARows, <span class="type">int</span> numAColumns, <span class="type">int</span> numBRows, <span class="type">int</span> numBColumns)</span> &#123;</span><br><span class="line">    <span class="type">int</span> row = blockIdx.y * blockDim.y + threadIdx.y;</span><br><span class="line">    <span class="type">int</span> col = blockIdx.x * blockDim.x + threadIdx.x; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (row &lt; numARows &amp;&amp; col &lt; numBColumns) &#123;</span><br><span class="line">        <span class="type">float</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> ii = <span class="number">0</span>; ii &lt; numAColumns; ii++) </span><br><span class="line">        &#123;</span><br><span class="line">            sum += A[row * numAColumns + ii] * B[ii * numBColumns + col];</span><br><span class="line">        &#125;</span><br><span class="line">        C[row * numBColumns + col] = sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    CREATE_CUDAEVENT</span><br><span class="line"></span><br><span class="line">    <span class="comment">//这些是为了能在命令行输参数</span></span><br><span class="line">    <span class="comment">//调用：./matrix 10 30 30 40</span></span><br><span class="line">    <span class="type">int</span> numARows = atoi(argv[<span class="number">1</span>]); <span class="comment">// number of rows in the matrix A</span></span><br><span class="line">    <span class="type">int</span> numAColumns = atoi(argv[<span class="number">2</span>]); <span class="comment">// number of columns in the matrix A</span></span><br><span class="line">    <span class="type">int</span> numBRows = atoi(argv[<span class="number">3</span>]); <span class="comment">// number of rows in the matrix B</span></span><br><span class="line">    <span class="type">int</span> numBColumns = atoi(argv[<span class="number">4</span>]); <span class="comment">// number of columns in the matrix B</span></span><br><span class="line">    <span class="type">int</span> numCRows = numARows; <span class="comment">// number of rows in the matrix C</span></span><br><span class="line">    <span class="type">int</span> numCColumns = numBColumns; <span class="comment">// number of columns in the matrix C </span></span><br><span class="line">    assert(numAColumns == numBRows);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//host内存申请+初始化</span></span><br><span class="line">    <span class="type">float</span> *A = (<span class="type">float</span> *)<span class="built_in">malloc</span>(numARows*numAColumns*<span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    <span class="type">float</span> *B = (<span class="type">float</span> *)<span class="built_in">malloc</span>(numBRows*numBColumns*<span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    <span class="type">float</span> *C = (<span class="type">float</span> *)<span class="built_in">malloc</span>(numCRows*numCColumns*<span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    <span class="type">float</span> *hostC = (<span class="type">float</span> *)<span class="built_in">malloc</span>(numCRows*numCColumns*<span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    initMatrix(A, numARows, numAColumns);</span><br><span class="line">    initMatrix(B, numBRows, numBColumns);</span><br><span class="line"></span><br><span class="line">    START_CUDAEVENT</span><br><span class="line">    <span class="title function_">computeMatrixMulCPU</span><span class="params">(A, B, C, numARows, numAColumns, numBRows, numBColumns)</span>;</span><br><span class="line">    STOP_AND_PRINT_CUDAEVENT(compute CPU)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// CUDA申请device内存</span></span><br><span class="line">    <span class="type">float</span> *deviceA;</span><br><span class="line">    <span class="type">float</span> *deviceB;</span><br><span class="line">    <span class="type">float</span> *deviceC;</span><br><span class="line">    cudaMalloc((<span class="type">void</span> **)&amp;deviceA, numARows * numAColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    cudaMalloc((<span class="type">void</span> **)&amp;deviceB, numBRows * numBColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    cudaMalloc((<span class="type">void</span> **)&amp;deviceC, numCRows * numBColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line"></span><br><span class="line">    cudaMemcpy(deviceA, A, numARows * numAColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>), cudaMemcpyHostToDevice);</span><br><span class="line">    cudaMemcpy(deviceB, B, numBRows * numBColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>), cudaMemcpyHostToDevice);</span><br><span class="line">	<span class="comment">//这是什么神奇的用法：在 GPU 内存中将一段区域设置为特定的值。</span></span><br><span class="line">    cudaMemset(deviceC, <span class="number">0</span>, numCRows * numCColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这里的gridDim也很有意思噢，其实也就是16啦</span></span><br><span class="line">    dim3 <span class="title function_">blockDim</span><span class="params">(<span class="number">16</span>, <span class="number">16</span>)</span>;</span><br><span class="line">    dim3 <span class="title function_">gridDim</span><span class="params">(<span class="built_in">ceil</span>(((<span class="type">float</span>)numBColumns) / blockDim.x), <span class="built_in">ceil</span>(((<span class="type">float</span>)numARows) / blockDim.y))</span>;</span><br><span class="line">    START_CUDAEVENT</span><br><span class="line">    sgemm&lt;&lt;&lt;gridDim, blockDim&gt;&gt;&gt;(deviceA, deviceB, deviceC, numARows, numAColumns, numBRows, numBColumns);</span><br><span class="line">    STOP_AND_PRINT_CUDAEVENT(compute GPU)</span><br><span class="line"></span><br><span class="line">    cudaMemcpy(hostC, deviceC, numARows * numBColumns * <span class="keyword">sizeof</span>(<span class="type">float</span>), cudaMemcpyDeviceToHost);</span><br><span class="line">    <span class="comment">// END CUDA PART</span></span><br><span class="line"></span><br><span class="line">    compareMatrix(C, hostC, numCRows, numCColumns);</span><br><span class="line"></span><br><span class="line">    cudaFree(deviceA);</span><br><span class="line">    cudaFree(deviceB);</span><br><span class="line">    cudaFree(deviceC);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(A);</span><br><span class="line">    <span class="built_in">free</span>(B);</span><br><span class="line">    <span class="built_in">free</span>(C);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">initMatrix</span><span class="params">(<span class="type">float</span> *m, <span class="type">int</span> numRows, <span class="type">int</span> numCols)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;numRows; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>; j&lt;numCols; j++)&#123;</span><br><span class="line">            m[i*numCols+j] = <span class="built_in">sin</span>(i*numCols+j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">computeMatrixMulCPU</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">float</span> *C,</span></span><br><span class="line"><span class="params">    <span class="type">int</span> numARows, <span class="type">int</span> numAColumns,</span></span><br><span class="line"><span class="params">    <span class="type">int</span> numBRows, <span class="type">int</span> numBColumns</span></span><br><span class="line"><span class="params">)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">0</span>; row &lt; numARows; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> col = <span class="number">0</span>; col &lt; numBColumns; col++)</span><br><span class="line">        &#123;   </span><br><span class="line">            C[row * numBColumns + col] = <span class="number">0.0</span>;         </span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> n = <span class="number">0</span>; n &lt; numAColumns; n++)</span><br><span class="line">            &#123;</span><br><span class="line">                C[row * numBColumns + col] += A[row * numAColumns + n] * B[n * numBColumns + col];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">compareMatrix</span><span class="params">(<span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">int</span> numRows, <span class="type">int</span> numColumns)</span>&#123;</span><br><span class="line">    <span class="type">float</span> sum = <span class="number">0.0</span>;</span><br><span class="line">    <span class="type">float</span> max = <span class="number">0.0</span>;</span><br><span class="line">    <span class="type">float</span> min = <span class="number">10.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">0</span>; row &lt; numRows; row++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> col = <span class="number">0</span>; col &lt; numColumns; col++)&#123;    </span><br><span class="line">            <span class="type">float</span> diff = A[row*numColumns+col] - B[row*numColumns+col];</span><br><span class="line">            <span class="keyword">if</span> (diff &gt; max) max = diff;</span><br><span class="line">            <span class="keyword">if</span> (diff &lt; min) min = diff;</span><br><span class="line">            sum += diff;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;mean: &quot;</span> &lt;&lt; sum / (numRows*numColumns) &lt;&lt; <span class="string">&quot; max: &quot;</span> &lt;&lt; max &lt;&lt; <span class="string">&quot; min: &quot;</span> &lt;&lt; min &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="td4-__shared__"><a class="markdownIt-Anchor" href="#td4-__shared__"></a> TD4: <code>__shared__</code></h1>
<ol>
<li>
<p>utiliser des synchronisation</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bitmap_image.hpp&quot;</span></span></span><br><span class="line">   </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIM 1024</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926535897932f</span></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">kernel</span><span class="params">( <span class="type">unsigned</span> <span class="type">char</span> *ptr )</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// map from threadIdx/BlockIdx to pixel position</span></span><br><span class="line">    <span class="type">int</span> x = threadIdx.x + blockIdx.x * blockDim.x;</span><br><span class="line">    <span class="type">int</span> y = threadIdx.y + blockIdx.y * blockDim.y;</span><br><span class="line">    <span class="comment">//我们最常见的是x+y*witdth</span></span><br><span class="line">    <span class="comment">//这里的blockDim和gridDim在干啥哦</span></span><br><span class="line">    <span class="comment">//所以是blockDim.x * gridDim.x=width吗？？？？为什么？？？</span></span><br><span class="line">    <span class="comment">//是的！！！！！！</span></span><br><span class="line">    <span class="comment">//blockDim.x: 线程块的大小，gridDim.x: 整个网格的分块情况</span></span><br><span class="line">    <span class="type">int</span> offset = x + y * blockDim.x * gridDim.x;</span><br><span class="line"></span><br><span class="line">    __shared__ <span class="type">float</span> shared[<span class="number">16</span>][<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// now calculate the value at that position</span></span><br><span class="line">    <span class="type">const</span> <span class="type">float</span> period = <span class="number">128.0f</span>;</span><br><span class="line"></span><br><span class="line">    shared[threadIdx.x][threadIdx.y] =</span><br><span class="line">            <span class="number">255</span> * (sinf(x*<span class="number">2.0f</span>*PI/ period) + <span class="number">1.0f</span>) *</span><br><span class="line">                  (sinf(y*<span class="number">2.0f</span>*PI/ period) + <span class="number">1.0f</span>) / <span class="number">4.0f</span>;</span><br><span class="line">    __syncthreads ();<span class="comment">//确保块中的每个线程在__syncthreads()之前完成了它的指令</span></span><br><span class="line"></span><br><span class="line">    ptr[offset*<span class="number">3</span> + <span class="number">0</span>] = shared[<span class="number">15</span>-threadIdx.x][<span class="number">15</span>-threadIdx.y];</span><br><span class="line">    ptr[offset*<span class="number">3</span> + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    ptr[offset*<span class="number">3</span> + <span class="number">2</span>] = <span class="number">255</span>;</span><br><span class="line">     __syncthreads ();</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( <span class="type">void</span> )</span> </span><br><span class="line">&#123;</span><br><span class="line">   <span class="type">int</span> size = DIM*DIM*<span class="number">3</span>*<span class="keyword">sizeof</span>(<span class="type">unsigned</span> <span class="type">char</span>);</span><br><span class="line">   <span class="type">unsigned</span> <span class="type">char</span> *h_ptr = (<span class="type">unsigned</span> <span class="type">char</span> *)<span class="built_in">malloc</span>(size);</span><br><span class="line">   <span class="type">unsigned</span> <span class="type">char</span> *d_ptr;</span><br><span class="line">   </span><br><span class="line">   cudaMalloc( (<span class="type">void</span>**)&amp;d_ptr, size );</span><br><span class="line"></span><br><span class="line">   <span class="comment">//这里的dim3只传了x，y，意思是z取默认值1</span></span><br><span class="line">   dim3   <span class="title function_">grids</span><span class="params">(DIM/<span class="number">16</span>,DIM/<span class="number">16</span>)</span>;</span><br><span class="line">   dim3   <span class="title function_">threads</span><span class="params">(<span class="number">16</span>,<span class="number">16</span>)</span>;</span><br><span class="line">   kernel&lt;&lt;&lt;grids,threads&gt;&gt;&gt;( d_ptr );</span><br><span class="line">   </span><br><span class="line">   cudaMemcpy( h_ptr, d_ptr, size, cudaMemcpyDeviceToHost );</span><br><span class="line">   </span><br><span class="line">   bitmap_image <span class="title function_">img</span><span class="params">(DIM,DIM)</span>;</span><br><span class="line">   img.clear();</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> y = DIM<span class="number">-1</span>; y &gt;= <span class="number">0</span>; y--)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> x = DIM<span class="number">-1</span>; x &gt;= <span class="number">0</span>; x--)</span><br><span class="line">	&#123;</span><br><span class="line">           <span class="type">int</span> offset = x + y * DIM;</span><br><span class="line">           img.set_pixel(x, y, h_ptr[offset*<span class="number">3</span>], h_ptr[offset*<span class="number">3</span>+<span class="number">1</span>], h_ptr[offset*<span class="number">3</span>+<span class="number">2</span>]);            </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   img.save_image(<span class="string">&quot;test.bmp&quot;</span>);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Stencil 1D</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 4000000</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RADIUS 5</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> THREADS_PER_BLOCK 512</span></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">stencil_1d</span><span class="params">(<span class="type">int</span> n, <span class="type">double</span> *in, <span class="type">double</span> *out)</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">//__shared__ 做用在bloc上，可以在同一个block里面的线程里面共享</span></span><br><span class="line"> __shared__ <span class="type">double</span> tmp[THREADS_PER_BLOCK + <span class="number">2</span>*RADIUS];</span><br><span class="line"> <span class="type">int</span> gindex = threadIdx.x + blockIdx.x * blockDim.x;</span><br><span class="line"> <span class="type">int</span> lindex = threadIdx.x + RADIUS;<span class="comment">//？？？？？？？</span></span><br><span class="line">    </span><br><span class="line"> <span class="keyword">if</span>( gindex &lt; n )</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="comment">//加载tmp--&gt;感觉用shared的话在代码上重点就在这里+下面计算用shared而不是in</span></span><br><span class="line">   tmp[lindex] = in[gindex];</span><br><span class="line">   __syncthreads();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//如果在边界上</span></span><br><span class="line">  <span class="keyword">if</span>( gindex &lt; RADIUS || gindex &gt;= (n - RADIUS) ) </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//out[i] = i*11</span></span><br><span class="line">    out[gindex] = (<span class="type">double</span>) gindex * ((<span class="type">double</span>)RADIUS*<span class="number">2</span> + <span class="number">1</span>) ;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//不在边界往两边做累加</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123; </span><br><span class="line">    <span class="type">double</span> result = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="type">int</span> i = gindex-(RADIUS); i &lt;= gindex+(RADIUS); i++ ) </span><br><span class="line">    &#123;</span><br><span class="line">      result += tmp[i];</span><br><span class="line">    &#125; </span><br><span class="line">    out[gindex] = result;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">double</span> *in, *out;</span><br><span class="line">  <span class="type">double</span> *d_in, *d_out;</span><br><span class="line">  <span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">double</span> );</span><br><span class="line"></span><br><span class="line">  cudaMalloc( (<span class="type">void</span> **) &amp;d_in, size );</span><br><span class="line">  cudaMalloc( (<span class="type">void</span> **) &amp;d_out, size );</span><br><span class="line">  in = (<span class="type">double</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">  out = (<span class="type">double</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">  &#123;</span><br><span class="line">    in[i] = (<span class="type">double</span>) i;</span><br><span class="line">    out[i] = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  cudaMemcpy( d_in, in, size, cudaMemcpyHostToDevice );</span><br><span class="line">  <span class="comment">//这里吧d_out顺手初始化了0了</span></span><br><span class="line">  cudaMemset( d_out, <span class="number">0</span>, size );</span><br><span class="line"></span><br><span class="line">  <span class="comment">//这里不是一维的vec，干嘛要用dim3来处理--&gt;可以滴</span></span><br><span class="line">  dim3 <span class="title function_">threads</span><span class="params">( THREADS_PER_BLOCK, <span class="number">1</span>, <span class="number">1</span>)</span>;</span><br><span class="line">  dim3 <span class="title function_">blocks</span><span class="params">( N / THREADS_PER_BLOCK+<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span>;</span><br><span class="line">  <span class="comment">//时间</span></span><br><span class="line">  cudaEvent_t start, stop;</span><br><span class="line">  cudaEventCreate( &amp;start );</span><br><span class="line">  cudaEventCreate( &amp;stop );</span><br><span class="line">  cudaEventRecord( start, <span class="number">0</span> );</span><br><span class="line">  <span class="comment">//kernel</span></span><br><span class="line">  stencil_1d&lt;&lt;&lt; blocks, threads &gt;&gt;&gt;( N, d_in, d_out );</span><br><span class="line">  <span class="comment">//天呐！</span></span><br><span class="line">  cudaDeviceSynchronize();</span><br><span class="line">  <span class="comment">//时间</span></span><br><span class="line">  cudaEventRecord( stop, <span class="number">0</span> );</span><br><span class="line">  cudaEventSynchronize( stop );</span><br><span class="line">  <span class="type">float</span> elapsedTime;</span><br><span class="line">  cudaEventElapsedTime( &amp;elapsedTime, start, stop );</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Total time for %d elements was %f ms\n&quot;</span>, N, elapsedTime );</span><br><span class="line">  <span class="comment">//把结果粘回来</span></span><br><span class="line">  cudaMemcpy( out, d_out, size, cudaMemcpyDeviceToHost );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span>( in[i]*((<span class="type">double</span>)RADIUS*<span class="number">2</span>+<span class="number">1</span>) != out[i] ) <span class="comment">//要保证in[i]*11==out[i]，什么毛病</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;error in element %d in = %f out %f\n&quot;</span>,i,in[i],out[i] );</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;FAIL\n&quot;</span>);</span><br><span class="line">      <span class="keyword">goto</span> end;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;PASS\n&quot;</span>);</span><br><span class="line">  end;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">free</span>(in);</span><br><span class="line">  <span class="built_in">free</span>(out);</span><br><span class="line">  cudaFree( d_in );</span><br><span class="line">  cudaFree( d_out );</span><br><span class="line"></span><br><span class="line">  cudaDeviceReset();</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>矩阵乘avec tuile</p>
<p>只展示kernel部分</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> TILE_WIDTH 16</span></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">sgemm</span><span class="params">(<span class="type">float</span> *A, <span class="type">float</span> *B, <span class="type">float</span> *C, <span class="type">int</span> numARows, <span class="type">int</span> numAColumns, <span class="type">int</span> numBRows, <span class="type">int</span> numBColumns)</span> </span><br><span class="line">&#123;</span><br><span class="line">    __shared__ <span class="type">float</span> ds_M[TILE_WIDTH][TILE_WIDTH];</span><br><span class="line">    __shared__ <span class="type">float</span> ds_N[TILE_WIDTH][TILE_WIDTH];</span><br><span class="line">    <span class="type">int</span> bx = blockIdx.x, by = blockIdx.y, tx = threadIdx.x, ty = threadIdx.y;</span><br><span class="line">    <span class="comment">//平时我们这里by乘的应该是blockDim，但在这里都是16，也行</span></span><br><span class="line">    <span class="type">int</span> row = by * TILE_WIDTH + ty, col = bx * TILE_WIDTH + tx;</span><br><span class="line">    <span class="type">float</span> Pvalue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> m = <span class="number">0</span>; m &lt; (numAColumns - <span class="number">1</span>) / TILE_WIDTH + <span class="number">1</span>; ++m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//给共享内存ds_M赋值</span></span><br><span class="line">        <span class="keyword">if</span> (row &lt; numARows &amp;&amp; m * TILE_WIDTH + tx &lt; numAColumns)</span><br><span class="line">            <span class="comment">//又出现了，这个奇怪的下标</span></span><br><span class="line">            ds_M[ty][tx] = A[row * numAColumns + m * TILE_WIDTH + tx];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ds_M[ty][tx] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (col &lt; numBColumns &amp;&amp; m * TILE_WIDTH + ty &lt; numBRows)</span><br><span class="line">            <span class="comment">//奇怪下标*2</span></span><br><span class="line">            ds_N[ty][tx] = B[(m * TILE_WIDTH + ty) * numBColumns + col];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ds_N[ty][tx] = <span class="number">0</span>;</span><br><span class="line">        __syncthreads();</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//用共享内存来计算</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; TILE_WIDTH; ++k)</span><br><span class="line">            Pvalue += ds_M[ty][k] * ds_N[k][tx];</span><br><span class="line">        __syncthreads();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//赋值</span></span><br><span class="line">    <span class="keyword">if</span> (row &lt; numARows &amp;&amp; col &lt; numBColumns)</span><br><span class="line">        C[row * numBColumns + col] = Pvalue;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*int row = blockIdx.y * blockDim.y + threadIdx.y;</span></span><br><span class="line"><span class="comment">    int col = blockIdx.x * blockDim.x + threadIdx.x; </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    if (row &lt; numARows &amp;&amp; col &lt; numBColumns) &#123;</span></span><br><span class="line"><span class="comment">        float sum = 0;</span></span><br><span class="line"><span class="comment">        for (int ii = 0; ii &lt; numAColumns; ii++) &#123;</span></span><br><span class="line"><span class="comment">            sum += A[row * numAColumns + ii] * B[ii * numBColumns + col];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        C[row * numBColumns + col] = sum;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="td5-内存"><a class="markdownIt-Anchor" href="#td5-内存"></a> TD5: 内存</h1>
<p>fixed/pinned: <code>cudaHostAlloc((void **) &amp;h_ap, size, cudaHostAllocDefault);</code></p>
<p>unified: <code>cudaMallocManaged( (void **) &amp;a_um, size );</code>,这个不用cudaMemcpy，但有在kernel后面+<code>cudaDeviceSynchronize();</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CREATE_CUDAEVENT cudaEvent_t start, stop; \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;start); \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;stop);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> START_CUDAEVENT cudaEventRecord(start, 0);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STOP_AND_PRINT_CUDAEVENT(txt) cudaEventRecord(stop, 0);\</span></span><br><span class="line"><span class="meta">cudaEventSynchronize(stop);\</span></span><br><span class="line"><span class="meta">&#123;float elapsedTime;\</span></span><br><span class="line"><span class="meta">cudaEventElapsedTime(&amp;elapsedTime, start, stop);\</span></span><br><span class="line"><span class="meta">printf(<span class="string">&quot;Time to %s %3.1f ms\n&quot;</span>, #txt, elapsedTime);&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">vector_add</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> index = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">	c[index] = a[index] + b[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">vector_add_UM</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> index = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">	c[index] = a[index] + b[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N (2048*2048)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> THREADS_PER_BLOCK 512</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	CREATE_CUDAEVENT;</span><br><span class="line">	<span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">int</span> );</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&gt;&gt;&gt; Results for MemCopy\n&quot;</span>);</span><br><span class="line">	<span class="type">int</span> *h_a, *h_b, *h_c;</span><br><span class="line">	<span class="type">int</span> *d_a, *d_b, *d_c;</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	h_a = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	h_b = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	h_c = (<span class="type">int</span> *)<span class="built_in">malloc</span>( size );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] host allocation)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">for</span><span class="params">( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span></span><br><span class="line">	&#123;</span><br><span class="line">		h_a[i] = h_b[i] = i;</span><br><span class="line">		h_c[i] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] Initialize)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMalloc</span><span class="params">( (<span class="type">void</span> **) &amp;d_a, size )</span>;</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_b, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_c, size );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] device allocation)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( d_a, h_a, size, cudaMemcpyHostToDevice )</span>;</span><br><span class="line">	cudaMemcpy( d_b, h_b, size, cudaMemcpyHostToDevice );	</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] MemCopy Host to Device)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	vector_add&lt;&lt;&lt; (N + (THREADS_PER_BLOCK<span class="number">-1</span>)) / THREADS_PER_BLOCK, THREADS_PER_BLOCK &gt;&gt;&gt;( d_a, d_b, d_c );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] execution)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( h_c, d_c, size, cudaMemcpyDeviceToHost )</span>;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Classical] MemCopy Device to Host)</span><br><span class="line"></span><br><span class="line">	<span class="built_in">free</span>(h_a);</span><br><span class="line">	<span class="built_in">free</span>(h_b);</span><br><span class="line">	<span class="built_in">free</span>(h_c);</span><br><span class="line">	cudaFree( d_a );</span><br><span class="line">	cudaFree( d_b );</span><br><span class="line">	cudaFree( d_c );</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//pinned memory：cudaHostAlloc</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&gt;&gt;&gt; Results for Pinned Memory\n&quot;</span>);</span><br><span class="line">	<span class="type">int</span> *h_ap, *h_bp, *h_cp;</span><br><span class="line">	<span class="type">int</span> *d_ap, *d_bp, *d_cp;</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaHostAlloc</span><span class="params">((<span class="type">void</span> **) &amp;h_ap, size, cudaHostAllocDefault)</span>;</span><br><span class="line">	cudaHostAlloc((<span class="type">void</span> **) &amp;h_bp, size, cudaHostAllocDefault);</span><br><span class="line">	cudaHostAlloc((<span class="type">void</span> **) &amp;h_cp, size, cudaHostAllocDefault);</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] host allocation)</span><br><span class="line">	</span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">for</span><span class="params">( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span></span><br><span class="line">	&#123;</span><br><span class="line">		h_ap[i] = h_bp[i] = i;</span><br><span class="line">		h_cp[i] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] initialize)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMalloc</span><span class="params">( (<span class="type">void</span> **) &amp;d_ap, size )</span>;</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_bp, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_cp, size );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] device allocation)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( d_ap, h_ap, size, cudaMemcpyHostToDevice )</span>;</span><br><span class="line">	cudaMemcpy( d_bp, h_bp, size, cudaMemcpyHostToDevice );	</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] MemCopy Host to Device)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	vector_add&lt;&lt;&lt; (N + (THREADS_PER_BLOCK<span class="number">-1</span>)) / THREADS_PER_BLOCK, THREADS_PER_BLOCK &gt;&gt;&gt;( d_ap, d_bp, d_cp );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] execution)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( h_cp, d_cp, size, cudaMemcpyDeviceToHost )</span>;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Pinned] MemCopy Device to Host)</span><br><span class="line"></span><br><span class="line">	cudaFreeHost(h_ap);</span><br><span class="line">	cudaFreeHost(h_bp);</span><br><span class="line">	cudaFreeHost(h_cp);</span><br><span class="line">	cudaFree( d_ap );</span><br><span class="line">	cudaFree( d_bp );</span><br><span class="line">	cudaFree( d_cp );</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Unified Memory：cudaMallocManaged</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&gt;&gt;&gt; Results for Unified Memory\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> *a_um, *b_um, *c_um;	</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMallocManaged</span><span class="params">( (<span class="type">void</span> **) &amp;a_um, size )</span>;</span><br><span class="line">	cudaMallocManaged( (<span class="type">void</span> **) &amp;b_um, size );</span><br><span class="line">	cudaMallocManaged( (<span class="type">void</span> **) &amp;c_um, size );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Unified Memory] memory allocation)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">for</span><span class="params">( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span></span><br><span class="line">	&#123;</span><br><span class="line">		a_um[i] = b_um[i] = i;</span><br><span class="line">		c_um[i] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Unified Memory] initialize)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">STOP_AND_PRINT_CUDAEVENT</span><span class="params">([Unified Memory] MemCopy Host to Device)</span></span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	vector_add_UM&lt;&lt;&lt; <span class="params">(N + (THREADS_PER_BLOCK<span class="number">-1</span>))</span> / THREADS_PER_BLOCK, THREADS_PER_BLOCK &gt;&gt;&gt;<span class="params">( a_um, b_um, c_um )</span>;</span><br><span class="line">	cudaDeviceSynchronize();</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT([Unified Memory] execution)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">STOP_AND_PRINT_CUDAEVENT</span><span class="params">([Unified Memory] MemCopy Device to Host)</span></span><br><span class="line"></span><br><span class="line">	<span class="title function_">cudaFree</span><span class="params">( a_um )</span>;</span><br><span class="line">	cudaFree( b_um );</span><br><span class="line">	cudaFree( c_um );</span><br><span class="line"></span><br><span class="line">	cudaEventDestroy(start);</span><br><span class="line">	cudaEventDestroy(stop);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h1 id="td6-coalesced"><a class="markdownIt-Anchor" href="#td6-coalesced"></a> TD6: coalesced</h1>
<p>代码中涉及到的一些概念</p>
<ul>
<li>Offset表示在内存中的偏移量，它指定了访问数据的起始位置</li>
<li>“Stride” 指的是在访问内存时，每次跨过的字节数。在 CUDA 程序中，当访问一维数组时，如果每次访问相邻元素，则 stride 为 1。当访问二维数组时，如果在行之间跨越，则 stride 是该行的字节数。</li>
<li>“Bandwidth” 指的是单位时间内能够访问的数据量。在 CUDA 中，它主要是指 GPU 和 CPU 之间的数据传输速率，包括从 CPU 到 GPU 的数据传输和从 GPU 到 CPU 的数据传输。</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// Convenience function for checking CUDA runtime API results</span></span><br><span class="line"> <span class="comment">// can be wrapped around any runtime API call. No-op in release builds.</span></span><br><span class="line"> <span class="keyword">inline</span></span><br><span class="line"> cudaError_t <span class="title function_">checkCuda</span><span class="params">(cudaError_t result)</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="meta">#<span class="keyword">if</span> defined(DEBUG) || defined(_DEBUG)</span></span><br><span class="line">   <span class="keyword">if</span> (result != cudaSuccess) &#123;</span><br><span class="line">     <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;CUDA Runtime Error: %s\n&quot;</span>, cudaGetErrorString(result));</span><br><span class="line">     assert(result == cudaSuccess);</span><br><span class="line">   &#125;</span><br><span class="line"> <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> template &lt;typename T&gt;</span><br><span class="line"> __global__ <span class="type">void</span> <span class="title function_">offset</span><span class="params">(T* a, <span class="type">int</span> s)</span></span><br><span class="line"> &#123;</span><br><span class="line">   <span class="type">int</span> i = blockDim.x * blockIdx.x + threadIdx.x + s;</span><br><span class="line">   a[i] = a[i] + <span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> template &lt;typename T&gt;</span><br><span class="line"> __global__ <span class="type">void</span> <span class="title function_">stride</span><span class="params">(T* a, <span class="type">int</span> s)</span></span><br><span class="line"> &#123;</span><br><span class="line">   <span class="type">int</span> i = (blockDim.x * blockIdx.x + threadIdx.x) * s;</span><br><span class="line">   a[i] = a[i] + <span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> template &lt;typename T&gt;</span><br><span class="line"> <span class="type">void</span> <span class="title function_">runTest</span><span class="params">(<span class="type">int</span> deviceId, <span class="type">int</span> nMB)</span></span><br><span class="line"> &#123;</span><br><span class="line">   <span class="type">int</span> blockSize = <span class="number">256</span>;</span><br><span class="line">   <span class="type">float</span> ms;</span><br><span class="line"> </span><br><span class="line">   T *d_a;</span><br><span class="line">   cudaEvent_t startEvent, stopEvent;</span><br><span class="line">     </span><br><span class="line">   <span class="type">int</span> n = nMB*<span class="number">1024</span>*<span class="number">1024</span>/<span class="keyword">sizeof</span>(T);</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// NB:  d_a(33*nMB) for stride case</span></span><br><span class="line">   checkCuda( cudaMalloc(&amp;d_a, n * <span class="number">33</span> * <span class="keyword">sizeof</span>(T)) );</span><br><span class="line"> </span><br><span class="line">   checkCuda( cudaEventCreate(&amp;startEvent) );</span><br><span class="line">   checkCuda( cudaEventCreate(&amp;stopEvent) );</span><br><span class="line"> </span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;Offset, Bandwidth (GB/s):\n&quot;</span>);</span><br><span class="line">   </span><br><span class="line">   offset&lt;&lt;&lt;n/blockSize, blockSize&gt;&gt;&gt;(d_a, <span class="number">0</span>); <span class="comment">// warm up</span></span><br><span class="line"> </span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">32</span>; i++)</span><br><span class="line">   &#123;</span><br><span class="line">     checkCuda( cudaMemset(d_a, <span class="number">0</span>, n * <span class="number">33</span> * <span class="keyword">sizeof</span>(T)) );</span><br><span class="line"> </span><br><span class="line">     checkCuda( cudaEventRecord(startEvent,<span class="number">0</span>) );</span><br><span class="line">     offset&lt;&lt;&lt;<span class="built_in">ceil</span>((<span class="type">float</span>)n/blockSize), blockSize&gt;&gt;&gt;(d_a, i);</span><br><span class="line">     checkCuda( cudaEventRecord(stopEvent,<span class="number">0</span>) );</span><br><span class="line">     checkCuda( cudaEventSynchronize(stopEvent) );</span><br><span class="line"> </span><br><span class="line">     checkCuda( cudaEventElapsedTime(&amp;ms, startEvent, stopEvent) );</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;%d, %f\n&quot;</span>, i, <span class="number">2</span>*nMB/ms);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;Stride, Bandwidth (GB/s):\n&quot;</span>);</span><br><span class="line"> </span><br><span class="line">   stride&lt;&lt;&lt;n/blockSize, blockSize&gt;&gt;&gt;(d_a, <span class="number">1</span>); <span class="comment">// warm up</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">32</span>; i++) </span><br><span class="line">   &#123;</span><br><span class="line">     checkCuda( cudaMemset(d_a, <span class="number">0</span>, n * <span class="number">33</span> * <span class="keyword">sizeof</span>(T)) );</span><br><span class="line"> </span><br><span class="line">     checkCuda( cudaEventRecord(startEvent,<span class="number">0</span>) );</span><br><span class="line">     stride&lt;&lt;&lt;n/blockSize, blockSize&gt;&gt;&gt;(d_a, i);</span><br><span class="line">     checkCuda( cudaEventRecord(stopEvent,<span class="number">0</span>) );</span><br><span class="line">     checkCuda( cudaEventSynchronize(stopEvent) );</span><br><span class="line"> </span><br><span class="line">     checkCuda( cudaEventElapsedTime(&amp;ms, startEvent, stopEvent) );</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;%d, %f\n&quot;</span>, i, <span class="number">2</span>*nMB/ms);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   checkCuda( cudaEventDestroy(startEvent) );</span><br><span class="line">   checkCuda( cudaEventDestroy(stopEvent) );</span><br><span class="line">   cudaFree(d_a);</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span><br><span class="line"> &#123;</span><br><span class="line">   <span class="type">int</span> nMB = <span class="number">8</span>;</span><br><span class="line">   <span class="type">int</span> deviceId = <span class="number">0</span>;</span><br><span class="line">   <span class="type">bool</span> bFp64 = <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; argc; i++) &#123;    </span><br><span class="line">     <span class="keyword">if</span> (!<span class="built_in">strncmp</span>(argv[i], <span class="string">&quot;dev=&quot;</span>, <span class="number">4</span>))</span><br><span class="line">       deviceId = atoi((<span class="type">char</span>*)(&amp;argv[i][<span class="number">4</span>]));</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[i], <span class="string">&quot;fp64&quot;</span>))</span><br><span class="line">       bFp64 = <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   cudaDeviceProp prop;</span><br><span class="line">   </span><br><span class="line">   checkCuda( cudaSetDevice(deviceId));</span><br><span class="line">   checkCuda( cudaGetDeviceProperties(&amp;prop, deviceId) );</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;Device: %s\n&quot;</span>, prop.name);</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;Transfer size (MB): %d\n&quot;</span>, nMB);</span><br><span class="line">   </span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;%s Precision\n&quot;</span>, bFp64 ? <span class="string">&quot;Double&quot;</span> : <span class="string">&quot;Single&quot;</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> (bFp64) runTest&lt;<span class="type">double</span>&gt;(deviceId, nMB);</span><br><span class="line">   <span class="keyword">else</span>       runTest&lt;<span class="type">float</span>&gt;(deviceId, nMB);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>虽然但是，这个程序哪里内存合并了T-T</p>
<h1 id="td9-算法"><a class="markdownIt-Anchor" href="#td9-算法"></a> TD9: 算法</h1>
<p>只写Kernel</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">__global__ <span class="type">void</span> <span class="title function_">dot</span><span class="params">( <span class="type">double</span> *a, <span class="type">double</span> *b, <span class="type">double</span> *c )</span> </span><br><span class="line">&#123;</span><br><span class="line">    __shared__ <span class="type">double</span> cache[threadsPerBlock];</span><br><span class="line">    <span class="type">int</span> tid = threadIdx.x + blockIdx.x * blockDim.x;</span><br><span class="line">    <span class="type">int</span> cacheIndex = threadIdx.x;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Pre-computation of a[i]*b[i] with segments of blockDim.x * gridDim.x values</span></span><br><span class="line">    <span class="type">double</span>   temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (tid &lt; N) </span><br><span class="line">    &#123;</span><br><span class="line">        temp += a[tid] * b[tid];</span><br><span class="line">        tid += blockDim.x * gridDim.x;</span><br><span class="line">    &#125;</span><br><span class="line">    cache[cacheIndex] = temp;</span><br><span class="line">    __syncthreads();</span><br><span class="line"></span><br><span class="line">    tid = threadIdx.x + blockIdx.x * blockDim.x;    </span><br><span class="line">    <span class="keyword">for</span> ( <span class="type">int</span> stride = <span class="number">1</span>; stride &lt;= blockDim.x ; stride *= <span class="number">2</span>)</span><br><span class="line">    &#123;	</span><br><span class="line">        __syncthreads () ;<span class="comment">//对吗？</span></span><br><span class="line">    	<span class="keyword">if</span> ( threadIdx.x % stride == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	cache[<span class="number">2</span>*threadIdx.x] = cache[<span class="number">2</span>*threadIdx.x] + cache[<span class="number">2</span>*threadIdx.x+stride];</span><br><span class="line">    	&#125;      </span><br><span class="line">    &#125;</span><br><span class="line">    c[blockIdx.x]=cache[threadsPerBlock<span class="number">-1</span>];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h1 id="td10-hist"><a class="markdownIt-Anchor" href="#td10-hist"></a> TD10: hist</h1>
<p>原子操作<code>atomicAdd</code>和<code>__shared__</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;text.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NB_ASCII_CHAR 128</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> threadsPerBlock = <span class="number">256</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> BlockNumber = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">histo_kernel</span><span class="params">( <span class="type">char</span> *buffer , <span class="type">long</span> size , <span class="type">int</span> *histo )</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = threadIdx . x + blockIdx . x * blockDim . x ;</span><br><span class="line">	<span class="comment">// stride表示总的线程数[是的，kernel这里一维]</span></span><br><span class="line">	<span class="type">int</span> stride = blockDim.x * gridDim.x ;</span><br><span class="line">	<span class="comment">// All threads handle blockDim . x * gridDim . x</span></span><br><span class="line">	<span class="comment">// consecutive elements</span></span><br><span class="line">	<span class="keyword">while</span> ( i &lt; size ) </span><br><span class="line">    &#123;</span><br><span class="line">        atomicAdd (&amp;(histo[buffer[i]]) , <span class="number">1</span>) ;</span><br><span class="line">        i += stride ;<span class="comment">//？？？，这在干嘛救命，直接去下一个bloc的这个位置？</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">histo_kernel_shared</span><span class="params">( <span class="type">char</span> *buffer , <span class="type">long</span> size , <span class="type">int</span> *histo)</span></span><br><span class="line">&#123;</span><br><span class="line">	__shared__  <span class="type">unsigned</span> <span class="type">int</span> histo_private[NB_ASCII_CHAR];</span><br><span class="line">    <span class="comment">//给shared赋值/反正都是0的意思？</span></span><br><span class="line">	<span class="keyword">if</span> ( threadIdx.x &lt; NB_ASCII_CHAR) histo_private[threadIdx.x] = <span class="number">0</span>;</span><br><span class="line">	__syncthreads () ;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i = threadIdx.x + blockIdx.x * blockDim.x ;</span><br><span class="line">	<span class="comment">//同样的这里</span></span><br><span class="line">	<span class="type">int</span> stride = blockDim.x * gridDim.x ;</span><br><span class="line">	<span class="keyword">while</span> ( i &lt; size )</span><br><span class="line">    &#123;</span><br><span class="line">    	atomicAdd ( &amp;( histo_private[buffer[i]]) , <span class="number">1</span>) ;</span><br><span class="line">    	i += stride ;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// wait for all other threads in the block to finish</span></span><br><span class="line">	__syncthreads () ;</span><br><span class="line">	<span class="keyword">if</span> ( threadIdx.x &lt; NB_ASCII_CHAR)</span><br><span class="line">    &#123;</span><br><span class="line">		atomicAdd (&amp;( histo [ threadIdx.x ]) , histo_private[ threadIdx.x] ) ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( <span class="type">void</span> )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">strlen</span>(h_str);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;len:%d\n&quot;</span>, len);</span><br><span class="line">    <span class="type">int</span> size = len*<span class="keyword">sizeof</span>(<span class="type">char</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> *d_str;</span><br><span class="line">    <span class="type">int</span> *h_histo, *d_histo;</span><br><span class="line"></span><br><span class="line">    cudaEvent_t start, stop;</span><br><span class="line">    cudaEventCreate( &amp;start );</span><br><span class="line">    cudaEventCreate( &amp;stop );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// GPU computation </span></span><br><span class="line">    h_histo = (<span class="type">int</span>*)<span class="built_in">malloc</span>( len*<span class="keyword">sizeof</span>(<span class="type">int</span>) );</span><br><span class="line">    cudaMalloc( (<span class="type">void</span>**)&amp;d_str, len*<span class="keyword">sizeof</span>(<span class="type">char</span>) );</span><br><span class="line">    cudaMalloc( (<span class="type">void</span>**)&amp;d_histo, len*<span class="keyword">sizeof</span>(<span class="type">int</span>) );</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    cudaEventRecord( start, <span class="number">0</span> );</span><br><span class="line">    cudaMemcpy( d_str, h_str, len*<span class="keyword">sizeof</span>(<span class="type">char</span>), cudaMemcpyHostToDevice );</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    histo_kernel_shared&lt;&lt;&lt;BlockNumber,threadsPerBlock&gt;&gt;&gt;( d_str, size, d_histo );</span><br><span class="line"></span><br><span class="line">    cudaMemcpy( h_histo, d_histo, NB_ASCII_CHAR*<span class="keyword">sizeof</span>(<span class="type">int</span>), cudaMemcpyDeviceToHost );</span><br><span class="line"> </span><br><span class="line">    cudaEventRecord( stop, <span class="number">0</span> );</span><br><span class="line">    cudaEventSynchronize( stop );</span><br><span class="line">    <span class="type">float</span> elapsedTime;</span><br><span class="line">    cudaEventElapsedTime( &amp;elapsedTime, start, stop );</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Total time for  GPU computation with shared memory was %f ms\n&quot;</span>, elapsedTime );</span><br><span class="line"></span><br><span class="line"><span class="comment">// for (int bean = 0; bean &lt; NB_ASCII_CHAR; bean++) &#123;</span></span><br><span class="line"><span class="comment">//         std::cout &lt;&lt; (char) bean &lt;&lt; &quot; : &quot; &lt;&lt; h_histo[bean] &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"></span><br><span class="line">    cudaFree(d_histo);</span><br><span class="line">    cudaFree(d_str);</span><br><span class="line">    <span class="built_in">free</span>(h_histo);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// GPU computation with shared memory</span></span><br><span class="line"></span><br><span class="line">    h_histo = (<span class="type">int</span>*)<span class="built_in">malloc</span>( len*<span class="keyword">sizeof</span>(<span class="type">int</span>) );</span><br><span class="line"></span><br><span class="line">    cudaMalloc( (<span class="type">void</span>**)&amp;d_str, len*<span class="keyword">sizeof</span>(<span class="type">char</span>) );</span><br><span class="line">    cudaMalloc( (<span class="type">void</span>**)&amp;d_histo, len*<span class="keyword">sizeof</span>(<span class="type">int</span>) );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cudaEventRecord( start, <span class="number">0</span> );</span><br><span class="line">    cudaMemcpy( d_str, h_str, len*<span class="keyword">sizeof</span>(<span class="type">char</span>), cudaMemcpyHostToDevice );</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    histo_kernel&lt;&lt;&lt;BlockNumber,threadsPerBlock&gt;&gt;&gt;( d_str, size, d_histo );</span><br><span class="line"></span><br><span class="line">    cudaMemcpy( h_histo, d_histo, NB_ASCII_CHAR*<span class="keyword">sizeof</span>(<span class="type">int</span>), cudaMemcpyDeviceToHost );</span><br><span class="line"> </span><br><span class="line">    cudaEventRecord( stop, <span class="number">0</span> );</span><br><span class="line">    cudaEventSynchronize( stop );</span><br><span class="line">    cudaEventElapsedTime( &amp;elapsedTime, start, stop );</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Total time for naive GPU computation was %f ms\n&quot;</span>, elapsedTime );</span><br><span class="line"></span><br><span class="line"><span class="comment">// for (int bean = 0; bean &lt; NB_ASCII_CHAR; bean++) &#123;</span></span><br><span class="line"><span class="comment">//         std::cout &lt;&lt; (char) bean &lt;&lt; &quot; : &quot; &lt;&lt; h_histo[bean] &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line">    cudaFree(d_histo);</span><br><span class="line">    cudaFree(d_str);</span><br><span class="line">    <span class="built_in">free</span>(h_histo);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// CPU computation</span></span><br><span class="line">    </span><br><span class="line">    cudaEventRecord( start, <span class="number">0</span> );</span><br><span class="line"></span><br><span class="line">    u_int histo[NB_ASCII_CHAR] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">            histo[h_str[i]]++;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">// for (int bean = 0; bean &lt; NB_ASCII_CHAR; bean++) &#123;</span></span><br><span class="line">    <span class="comment">//     std::cout &lt;&lt; (char) bean &lt;&lt; &quot; : &quot; &lt;&lt; histo[bean] &lt;&lt; std::endl;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    cudaEventRecord( stop, <span class="number">0</span> );</span><br><span class="line">    cudaEventSynchronize( stop );</span><br><span class="line">    cudaEventElapsedTime( &amp;elapsedTime, start, stop );</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Total time for CPU computation was %f ms\n&quot;</span>, elapsedTime );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="td11-stream"><a class="markdownIt-Anchor" href="#td11-stream"></a> TD11: stream</h1>
<ol>
<li>default stream指的就是我们最常见的cudaMalloc+cudaMemcpy</li>
<li>stream里面
<ul>
<li>void，没有写global这些</li>
<li>申请创建stream: <code>cudaStream_t stream1; + cudaStreamCreate (&amp; stream1 ) ;</code></li>
<li>粘过去：
<ul>
<li><code>cudaMemcpyAsync( d_a1 , a +i , SEGMENT_SIZE * sizeof ( int ), cudaMemcpyHostToDevice, stream1 ) ;</code></li>
<li><code>cudaMemcpyAsync( d_a2 , a +i + SEGMENT_SIZE , SEGMENT_SIZE * sizeof ( int ),cudaMemcpyHostToDevice,  stream2 ) ;</code></li>
</ul>
</li>
<li>调kernel：<code>vector_add&lt;&lt;&lt;SEGMENT_SIZE/THREADS_PER_BLOCK, THREADS_PER_BLOCK,0,stream1&gt;&gt;&gt;( d_a1, d_b1, d_c1);</code></li>
<li>粘回来：
<ul>
<li><code>cudaMemcpyAsync( c + i, d_c1, SEGMENT_SIZE * sizeof ( int ) , cudaMemcpyDeviceToHost,stream1 ) ;</code></li>
<li><code>cudaMemcpyAsync(  c +i + SEGMENT_SIZE ,d_c2 , SEGMENT_SIZE * sizeof ( int ) , cudaMemcpyDeviceToHost,stream2 ) ;</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N (2048*2048)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> THREADS_PER_BLOCK 512</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NB_STREAMS 4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SEGMENT_SIZE (1024*128)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CREATE_CUDAEVENT cudaEvent_t start, stop; \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;start); \</span></span><br><span class="line"><span class="meta">cudaEventCreate(&amp;stop);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> START_CUDAEVENT cudaEventRecord(start, 0);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STOP_AND_PRINT_CUDAEVENT(txt) cudaEventRecord(stop, 0);\</span></span><br><span class="line"><span class="meta">cudaEventSynchronize(stop);\</span></span><br><span class="line"><span class="meta">&#123;float elapsedTime;\</span></span><br><span class="line"><span class="meta">cudaEventElapsedTime(&amp;elapsedTime, start, stop);\</span></span><br><span class="line"><span class="meta">printf(<span class="string">&quot;Time to %s %3.1f ms\n&quot;</span>, #txt, elapsedTime);&#125;</span></span><br><span class="line"></span><br><span class="line">__global__ <span class="type">void</span> <span class="title function_">vector_add</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> index = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">	c[index] = a[index] + b[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">stream_addition</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">/*&lt; Add your code here, you can use the kernel without change it &gt;*/</span></span><br><span class="line"><span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">int</span> )/NB_STREAMS;</span><br><span class="line"></span><br><span class="line">cudaStream_t stream1 , stream2 , stream3, stream4;</span><br><span class="line">cudaStreamCreate (&amp; stream1 ) ;</span><br><span class="line">cudaStreamCreate (&amp; stream2 ) ;</span><br><span class="line">cudaStreamCreate (&amp; stream3 ) ;</span><br><span class="line">cudaStreamCreate (&amp; stream4 ) ;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *d_a1, *d_b1, *d_c1;</span><br><span class="line"><span class="type">int</span> *d_a2, *d_b2, *d_c2;</span><br><span class="line"><span class="type">int</span> *d_a3, *d_b3, *d_c3;</span><br><span class="line"><span class="type">int</span> *d_a4, *d_b4, *d_c4;</span><br><span class="line"></span><br><span class="line">cudaMalloc( &amp;d_a1, size );</span><br><span class="line">cudaMalloc( &amp;d_b1, size );</span><br><span class="line">cudaMalloc( &amp;d_c1, size );</span><br><span class="line"></span><br><span class="line">cudaMalloc( &amp;d_a2, size );</span><br><span class="line">cudaMalloc( &amp;d_b2, size );</span><br><span class="line">cudaMalloc( &amp;d_c2, size );</span><br><span class="line"></span><br><span class="line">cudaMalloc( &amp;d_a3, size );</span><br><span class="line">cudaMalloc( &amp;d_b3, size );</span><br><span class="line">cudaMalloc( &amp;d_c3, size );</span><br><span class="line"></span><br><span class="line">cudaMalloc( &amp;d_a4, size );</span><br><span class="line">cudaMalloc( &amp;d_b4, size );</span><br><span class="line">cudaMalloc( &amp;d_c4, size );</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ( <span class="type">int</span> i =<span class="number">0</span>; i &lt; N ; i += SEGMENT_SIZE *NB_STREAMS) &#123;</span><br><span class="line">cudaMemcpyAsync( d_a1 , a +i , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ), cudaMemcpyHostToDevice, stream1 ) ;</span><br><span class="line">cudaMemcpyAsync( d_b1 , b +i , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ), cudaMemcpyHostToDevice, stream1 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync( d_a2 , a +i + SEGMENT_SIZE , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ),cudaMemcpyHostToDevice,  stream2 ) ;</span><br><span class="line">cudaMemcpyAsync( d_b2 , b +i + SEGMENT_SIZE, SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyHostToDevice, stream2 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync( d_a3 , a +i + <span class="number">2</span>*SEGMENT_SIZE, SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyHostToDevice, stream3 ) ;</span><br><span class="line">cudaMemcpyAsync( d_b3 , b +i + <span class="number">2</span>* SEGMENT_SIZE, SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyHostToDevice, stream3 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync( d_a4 , a +i + <span class="number">3</span>*SEGMENT_SIZE , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyHostToDevice, stream4 ) ;</span><br><span class="line">cudaMemcpyAsync( d_b4 , b +i + <span class="number">3</span>*SEGMENT_SIZE , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyHostToDevice, stream4 ) ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vector_add&lt;&lt;&lt;SEGMENT_SIZE/THREADS_PER_BLOCK, THREADS_PER_BLOCK,<span class="number">0</span>,stream1&gt;&gt;&gt;( d_a1, d_b1, d_c1);</span><br><span class="line">vector_add&lt;&lt;&lt;SEGMENT_SIZE/THREADS_PER_BLOCK, THREADS_PER_BLOCK,<span class="number">0</span>,stream2&gt;&gt;&gt;( d_a2, d_b2, d_c2);</span><br><span class="line">vector_add&lt;&lt;&lt;SEGMENT_SIZE/THREADS_PER_BLOCK, THREADS_PER_BLOCK,<span class="number">0</span>,stream3&gt;&gt;&gt;( d_a3, d_b3, d_c3);</span><br><span class="line">vector_add&lt;&lt;&lt;SEGMENT_SIZE/THREADS_PER_BLOCK, THREADS_PER_BLOCK,<span class="number">0</span>,stream4&gt;&gt;&gt;( d_a4, d_b4, d_c4);</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync( c + i, d_c1, SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) , cudaMemcpyDeviceToHost,stream1 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync(  c +i + SEGMENT_SIZE ,d_c2 , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) , cudaMemcpyDeviceToHost,stream2 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync(  c +i + <span class="number">2</span>*SEGMENT_SIZE, d_c3 , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyDeviceToHost, stream3 ) ;</span><br><span class="line"></span><br><span class="line">cudaMemcpyAsync(  c +i + <span class="number">3</span>*SEGMENT_SIZE ,d_c4 , SEGMENT_SIZE * <span class="keyword">sizeof</span> ( <span class="type">int</span> ) ,cudaMemcpyDeviceToHost, stream4 ) ;</span><br><span class="line"></span><br><span class="line">cudaFree( d_a1 );</span><br><span class="line">cudaFree( d_b1 );</span><br><span class="line">cudaFree( d_c1 );</span><br><span class="line"></span><br><span class="line">cudaFree( d_a2 );</span><br><span class="line">cudaFree( d_b2 );</span><br><span class="line">cudaFree( d_c2 );</span><br><span class="line"></span><br><span class="line">cudaFree( d_a3 );</span><br><span class="line">cudaFree( d_b3 );</span><br><span class="line">cudaFree( d_c3 );</span><br><span class="line"></span><br><span class="line">cudaFree( d_a4 );</span><br><span class="line">cudaFree( d_b4 );</span><br><span class="line">cudaFree( d_c4 );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">addition</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b, <span class="type">int</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">	CREATE_CUDAEVENT</span><br><span class="line">	<span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">int</span> );</span><br><span class="line">	<span class="type">int</span> *d_a, *d_b, *d_c;	</span><br><span class="line"></span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_a, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_b, size );</span><br><span class="line">	cudaMalloc( (<span class="type">void</span> **) &amp;d_c, size );</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( d_a, a, size, cudaMemcpyHostToDevice )</span>;</span><br><span class="line">	cudaMemcpy( d_b, b, size, cudaMemcpyHostToDevice );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT(<span class="built_in">memcpy</span> h2d)</span><br><span class="line">	</span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	vector_add&lt;&lt;&lt; (N + (THREADS_PER_BLOCK<span class="number">-1</span>)) / THREADS_PER_BLOCK, THREADS_PER_BLOCK &gt;&gt;&gt;( d_a, d_b, d_c );</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT(computation)</span><br><span class="line"></span><br><span class="line">	START_CUDAEVENT</span><br><span class="line">	<span class="title function_">cudaMemcpy</span><span class="params">( c, d_c, size, cudaMemcpyDeviceToHost )</span>;</span><br><span class="line">	STOP_AND_PRINT_CUDAEVENT(<span class="built_in">memcpy</span> d2h)	</span><br><span class="line"></span><br><span class="line">	<span class="comment">/* clean up */</span></span><br><span class="line">	cudaFree( d_a );</span><br><span class="line">	cudaFree( d_b );</span><br><span class="line">	cudaFree( d_c );</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> *a, *b, *c;</span><br><span class="line">	<span class="type">int</span> size = N * <span class="keyword">sizeof</span>( <span class="type">int</span> );</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/* Pinned memory */</span></span><br><span class="line">	cudaHostAlloc((<span class="type">void</span> **) &amp;a, size, cudaHostAllocDefault);</span><br><span class="line">	cudaHostAlloc((<span class="type">void</span> **) &amp;b, size, cudaHostAllocDefault);</span><br><span class="line">	cudaHostAlloc((<span class="type">void</span> **) &amp;c, size, cudaHostAllocDefault);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = b[i] = i;</span><br><span class="line">		c[i] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Addition with default stream\n&quot;</span>);</span><br><span class="line">	addition(a, b, c);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[0] = %d\n&quot;</span>,c[<span class="number">0</span>] );</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[%d] = %d\n&quot;</span>,N<span class="number">-1</span>, c[N<span class="number">-1</span>] );</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>( <span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++ )</span><br><span class="line">	&#123;	c[i] = <span class="number">0</span>; 	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*&lt; Add a call to your function with streams &gt;*/</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Addition with streams\n&quot;</span>);</span><br><span class="line">	stream_addition(a, b, c);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[0] = %d\n&quot;</span>,c[<span class="number">0</span>] );</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[%d] = %d\n&quot;</span>, N<span class="number">-1</span>, c[N<span class="number">-1</span>] );</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[%d] = %d\n&quot;</span>, N/<span class="number">4</span><span class="number">-1</span>, c[N/<span class="number">4</span><span class="number">-1</span>] );</span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">&quot;c[%d] = %d\n&quot;</span>, <span class="number">6</span>, c[<span class="number">6</span>] );</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	cudaFreeHost(a);</span><br><span class="line">	cudaFreeHost(b);</span><br><span class="line">	cudaFreeHost(c);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>GPU</category>
      </categories>
  </entry>
  <entry>
    <title>HASK_入门学习</title>
    <url>/2022/09/01/HASK/</url>
    <content><![CDATA[<h1 id="centrehask_入门学习centre"><a class="markdownIt-Anchor" href="#centrehask_入门学习centre"></a> <centre>HASK_入门学习<centre></h1>
<p>B站：<a href="https://www.bilibili.com/video/BV16F411j7Zq?p=8&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8">https://www.bilibili.com/video/BV16F411j7Zq?p=8&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8</a></p>
<span id="more"></span>
<h1 id="p1"><a class="markdownIt-Anchor" href="#p1"></a> P1</h1>
<h2 id="简单算术运算"><a class="markdownIt-Anchor" href="#简单算术运算"></a> 简单算术运算</h2>
<p>cmd+ghci进入环境，可以直接使用命令行进行简单的数学计算</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.ota585cmtz4.png" alt="yaimage" /></p>
<h2 id="haskell的自定义函数"><a class="markdownIt-Anchor" href="#haskell的自定义函数"></a> Haskell的自定义函数</h2>
<h3 id="结构"><a class="markdownIt-Anchor" href="#结构"></a> 结构</h3>
<p>函数名+输出参数+等号+表达式（可以调用函数/别的或者自己）</p>
<h3 id="运行"><a class="markdownIt-Anchor" href="#运行"></a> 运行</h3>
<p>文件以.hs结尾保存</p>
<p>cmd进入桌面：cd Desktop</p>
<p>ghci</p>
<p>:l + 文件名</p>
<p>输入函数名和参数，回车即可运行。</p>
<h1 id="p2"><a class="markdownIt-Anchor" href="#p2"></a> P2</h1>
<h2 id="列表"><a class="markdownIt-Anchor" href="#列表"></a> 列表</h2>
<h3 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h3>
<p>用中括号定义，只能包含单一元素类型(但可以嵌套：列表元素是列表)</p>
<p>字符串，用双引号定义，其实是字符列表</p>
<h3 id="常用操作"><a class="markdownIt-Anchor" href="#常用操作"></a> 常用操作</h3>
<h4 id="拼接"><a class="markdownIt-Anchor" href="#拼接"></a> 拼接</h4>
<p>++</p>
<p>[1,2,3]++[4,5] --&gt; [1,2,3,4,5]</p>
<p>“hello”++“haskell”–&gt;“hellohaskell”</p>
<p>单个元素的拼接可以使用冒号</p>
<p>6：[3,4,5] --&gt; [6,3,4,5]</p>
<p>2:[] --&gt;[2]</p>
<p>2:3:4:[]–&gt;[2,3,4]</p>
<h4 id="获取元素"><a class="markdownIt-Anchor" href="#获取元素"></a> 获取元素</h4>
<p>!!</p>
<p>“haskell world” !! 1 --&gt;‘a’</p>
<h4 id="比较"><a class="markdownIt-Anchor" href="#比较"></a> 比较</h4>
<p>可以直接用 &gt;(如果相等则比较下一个位置),&lt;,==</p>
<h4 id="列表乘"><a class="markdownIt-Anchor" href="#列表乘"></a> 列表乘</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4axszmx5gvo0.png" alt="yaimage" /></p>
<h3 id="常用函数"><a class="markdownIt-Anchor" href="#常用函数"></a> 常用函数</h3>
<p>let lst = [1,2,3,4]</p>
<p>head,last,tail（第一个元素之后的元素）,init（最后一个函数之前的元素）,length,null,reverse</p>
<p>take+n+列表：获取前n个元素//0返回空</p>
<p>drop+n+列表：删除前n个元素</p>
<p>4+‘elem’+列表：判断4是否在列表中</p>
<p>minimum,maximum,sum,product(累乘)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.6ruo8d9fkg00.png" alt="yaimage" /></p>
<h3 id="range"><a class="markdownIt-Anchor" href="#range"></a> Range</h3>
<p>直接…</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.5yszh2s7ii00.png" alt="yaimage" /></p>
<p>cycle表示无限循环，take+cycle组合使用</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4w8u8gvngo40.png" alt="yaimage" /></p>
<p><strong>take的是长度</strong></p>
<p>take 5(repeat ‘a’) 等价于 replicate 5 ‘a’</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.gsvpfy6efqg.png" alt="yaimage" /></p>
<p>也可以用列表的形式实现</p>
<p>[2*x|x&lt;-[1…10]]</p>
<p>[x|x&lt;[1…100], x <code>mod</code>13 == 0]</p>
<h3 id="例题"><a class="markdownIt-Anchor" href="#例题"></a> 例题</h3>
<p>注释：单行–，多行{-多行注释-}</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.6svsl3cpcwk0.png" alt="yaimage" /></p>
<p>|表示对a进行说明，a&lt;-str表示a取自字符串str（想成在遍历）</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.ided7jn2svk.png" alt="yaimage" /></p>
<p>_&lt;-str表示取自字符串str,都把它搞成1</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1f5vtp7bcjb4.png" alt="yaimage" /></p>
<p>x &lt;- xs,odd x表示只获取xs中的奇数</p>
<h2 id="元组"><a class="markdownIt-Anchor" href="#元组"></a> 元组</h2>
<p>()表示，可以包含多种元素，不同长度的元组是不同的数据类型</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[(1,2),(8,9,10),(4,5)]会报错</span><br></pre></td></tr></table></figure>
<p>函数：fst返回第一个元素，snd返回第二个元素，<strong>但只用于长度为2的元组</strong>（？？？？？？）</p>
<h2 id="zip函数"><a class="markdownIt-Anchor" href="#zip函数"></a> ZIP函数</h2>
<p>接收两个列表进行元素配对压缩为新列表，新列表的元素为元组</p>
<figure class="highlight plaintext"><figcaption><span>[1..]['A',''B,'C']```-->[(1,'A'),(2,'B'),(3,'C')]</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## 例题</span><br><span class="line"></span><br><span class="line">10以内可组成直角三角形的三条边的组合</span><br><span class="line"></span><br><span class="line">```haskell</span><br><span class="line">fun = [(a,b,c)|a&lt;-[1..10],b&lt;-[1..10],c&lt;-[1..10],a^2+b^2 == c^2]</span><br><span class="line">--&gt;fun = [(a,b,c)|a&lt;-[1..b],b&lt;-[1..c],c&lt;-[1..10],a^2+b^2 == c^2]--可以避免重复</span><br></pre></td></tr></table></figure>
<h2 id="p3类型-类型变量-类型类"><a class="markdownIt-Anchor" href="#p3类型-类型变量-类型类"></a> P3：类型、类型变量、类型类</h2>
<h3 id="type"><a class="markdownIt-Anchor" href="#type"></a> TYPE</h3>
<p>使用:t查看</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.nz1x5nv7onk.png" alt="yaimage" /></p>
<h3 id="类型变量"><a class="markdownIt-Anchor" href="#类型变量"></a> 类型变量</h3>
<p>比如说head啊fst啊这些函数返回值（的类型）是不一定的，所以head和fst函数就是类型变量</p>
<h3 id="类型类"><a class="markdownIt-Anchor" href="#类型类"></a> 类型类</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.re8cgbp6my8.png" alt="yaimage" /></p>
<p>没懂啊啊啊啊啊啊啊啊啊啊</p>
<h1 id="p4-模式匹配"><a class="markdownIt-Anchor" href="#p4-模式匹配"></a> P4 模式匹配</h1>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.449ujnh6ejg0.png" alt="yaimage" /></p>
<p>输入5之外都是“holiday&quot;</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.5uce2881a780.png" alt="yaimage" /></p>
<p>阶乘</p>
<p>不写：：那排能运行吗？–&gt;不能</p>
<h1 id="p5-where-let-case"><a class="markdownIt-Anchor" href="#p5-where-let-case"></a> P5：|、where、let、case</h1>
<p><strong>|</strong>：管道，单竖线，感觉有点像if</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1rjj5m5zilsw.png" alt="yaimage" /></p>
<p><strong>where</strong></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220901213638563.png" alt="image-20220901213638563" /></p>
<p><strong>let</strong></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220901213758843.png" alt="image-20220901213758843" /></p>
<p>有点像where</p>
<p><strong>case</strong></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220901214026003.png" alt="image-20220901214026003" /></p>
<p>switch吧</p>
<p>听不懂了不听了</p>
<h1 id="p7-递归-排序-高阶函数"><a class="markdownIt-Anchor" href="#p7-递归-排序-高阶函数"></a> P7: 递归、排序、高阶函数</h1>
<h2 id="递归"><a class="markdownIt-Anchor" href="#递归"></a> 递归</h2>
<p>fibonacci</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">fibonacci</span> :: <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">fibonacii</span> <span class="number">0</span> = <span class="number">0</span></span><br><span class="line"><span class="title">fibonacii</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="title">fibonacii</span> n = fibonacii (n-<span class="number">1</span>) + fibonacii (n-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>重写replicate</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">replicate</span> :: i -&gt; a -&gt; [a]</span><br><span class="line"><span class="title">replicate</span> n x <span class="keyword">if</span> n &lt;=<span class="number">0</span> = [] </span><br><span class="line">			  <span class="keyword">else</span> = x:replicate (n-<span class="number">1</span>) x</span><br></pre></td></tr></table></figure>
<p>重写take</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">take</span> :: i -&gt; [a] -&gt; a</span><br><span class="line"><span class="title">take</span> n _ [] = []</span><br><span class="line"><span class="title">take</span> n (x:xs) = x : take $ (n-<span class="number">1</span>) xs</span><br></pre></td></tr></table></figure>
<p>重写reverse</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">reverse</span> :: [a] -&gt; a</span><br><span class="line"><span class="title">reverse</span> [] = []</span><br><span class="line"><span class="title">reverse</span> (x:xs) = reverse xs ++ [x]</span><br></pre></td></tr></table></figure>
<p>重写zip</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">zip</span> :: [a] -&gt; [b] -&gt; [(a,b)]</span><br><span class="line"><span class="title">zip</span> _ [] = []</span><br><span class="line"><span class="title">zip</span> [] _ = []</span><br><span class="line"><span class="title">zip</span> (x:xs) (y:ys) = (x,y) : zip xs ys</span><br></pre></td></tr></table></figure>
<p>重写elem</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">elem</span> :: a -&gt; [a] -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">elem</span> a [] = <span class="type">False</span></span><br><span class="line"><span class="title">elem</span> a (x:xs) = <span class="keyword">if</span> a == x <span class="keyword">then</span> <span class="type">True</span></span><br><span class="line">				<span class="keyword">else</span> = elem a xs</span><br></pre></td></tr></table></figure>
<h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2>
<p>快排</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">qs</span> :: [a] -&gt; [a]</span><br><span class="line"><span class="title">qs</span> [] = []</span><br><span class="line"><span class="title">qs</span> [x] = [x]</span><br><span class="line"><span class="title">qs</span> (x:xs) = </span><br><span class="line">	<span class="keyword">let</span> smallS = qs [a| a&lt;-xs,a&lt;x]</span><br><span class="line">		bigS = qs [a| a&lt;-xs,a&gt;x]</span><br><span class="line">	<span class="keyword">in</span> smallS ++ [x] ++ bigS</span><br></pre></td></tr></table></figure>
<h3 id="高阶函数"><a class="markdownIt-Anchor" href="#高阶函数"></a> 高阶函数</h3>
<p>Haskell函数的参数可以是函数，返回值也可以是函数。</p>
<p>Haskell的每个参数都只接受一个参数。</p>
<p>空格类似一个操作符，具有最高优先级。</p>
<p>关于max的理解</p>
<ol>
<li>
<p>a-&gt;(a-&gt;a): 接收一个参数，返回一个函数，返回的这个函数<strong>再</strong>接收一个参数，并返回一个参数</p>
</li>
<li>
<p>部分应用的函数，博主用了个很有意思的理解</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.yjinpx2rnhs.png" alt="yaimage" /></p>
</li>
</ol>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">compareWith3</span> x = compare <span class="number">3</span> x </span><br><span class="line"><span class="comment">--也可以简写成：</span></span><br><span class="line"><span class="title">compareWith3</span> = compare <span class="number">3</span><span class="comment">--因为compare本身返回值就是一个需要一个参数的函数</span></span><br><span class="line"></span><br><span class="line"><span class="title">divBy10</span> :: a -&gt; a</span><br><span class="line"><span class="title">divBy10</span> = (/<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">isUpperCase</span> :: <span class="type">Char</span> -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isUpperCase</span> = (`elem` [&#x27;<span class="type">A&#x27;</span>..&#x27;<span class="type">Z&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="title">apllyTwice</span> :: (a-&gt;a)-&gt;a-&gt;a</span><br><span class="line"><span class="title">apllyTwice</span> f x = f (f x)</span><br><span class="line"></span><br><span class="line"><span class="comment">--重写zipWith</span></span><br><span class="line"><span class="title">zipWith</span> :: (a-&gt;b-&gt;c) -&gt; [a] -&gt; [b] -&gt;[c]</span><br><span class="line"><span class="title">zipWith</span> _ [] _ = []</span><br><span class="line"><span class="title">zipWith</span> _ _ [] = []</span><br><span class="line"><span class="title">zipWith</span> f (x:xs) (y:ys) = f x y : zipWith f xs ys</span><br><span class="line"></span><br><span class="line"><span class="comment">--重写flip函数</span></span><br><span class="line"><span class="title">flip</span> :: (a-&gt;b-&gt;c) -&gt; (b-&gt;a-&gt;c)</span><br><span class="line"><span class="title">flip</span> g x y = g y x</span><br></pre></td></tr></table></figure>
<h1 id="p8lambdafoldmapfilter"><a class="markdownIt-Anchor" href="#p8lambdafoldmapfilter"></a> P8:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">λ</span></span></span></span>,$,fold,map,filter</h1>
<h2 id=""><a class="markdownIt-Anchor" href="#"></a> $</h2>
<p>有最低的优先级，代替括号</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">map</span> ($ <span class="number">9</span>) [(<span class="number">1</span>+),(<span class="number">2</span>*),(<span class="number">2</span>-),sqrt]</span><br><span class="line"><span class="title">sum</span>.replicate <span class="number">4</span>.max <span class="number">6</span> $ <span class="number">7</span></span><br></pre></td></tr></table></figure>
<h2 id="lambda"><a class="markdownIt-Anchor" href="#lambda"></a> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">λ</span></span></span></span></h2>
<p>lambda 匿名函数：(\ 参数 -&gt; 函数体)</p>
<p>例 : map (\a -&gt; a+1) [1…6]</p>
<h2 id="fold"><a class="markdownIt-Anchor" href="#fold"></a> fold</h2>
<p>foldl + 函数 + <strong>初始值</strong> + 列表元素</p>
<p>–区别在于函数中的参数顺序foldl 是先初始值，再列表元素，foldr则相反</p>
<p>比如sum的改写，i是0，a是列表元素</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">foldl</span> (\i a -&gt;i+a) <span class="number">0</span> [<span class="number">1</span>..<span class="number">3</span>]</span><br><span class="line"><span class="comment">--foldl (+) 0 [1..3]</span></span><br><span class="line"><span class="comment">--foldl (+) [1..3]--列表的第一个元素当做初始值</span></span><br><span class="line"><span class="title">foldl</span> (\a i -&gt;i+a) <span class="number">0</span> [<span class="number">1</span>..<span class="number">3</span>]</span><br><span class="line"><span class="comment">--foldr (+) 0 [1..3]</span></span><br><span class="line"><span class="comment">--foldr (+) [1..3]--列表的最后一个元素当做初始值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--重写elem</span></span><br><span class="line"><span class="title">elem</span> y= foldl (\i x -&gt; (x == y) || i) <span class="type">False</span><span class="comment">--没写参数(列表ys)是因为,返回值是个需要参数的函数</span></span><br></pre></td></tr></table></figure>
<h2 id="map"><a class="markdownIt-Anchor" href="#map"></a> map</h2>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">map</span> :: (a-&gt;b)-&gt;[a]-&gt;[b]</span><br><span class="line"><span class="title">map</span> _ [] = []</span><br><span class="line"><span class="title">map</span> f (x:xs) = f x : map f xs</span><br></pre></td></tr></table></figure>
<h2 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> filter</h2>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">filter</span>:: (a-&gt;<span class="type">Bool</span>)-&gt;[a]-&gt;[a]</span><br><span class="line"><span class="title">filter</span> _ [] = []</span><br><span class="line"><span class="title">filter</span> p (x:xs) = <span class="keyword">if</span> p x <span class="keyword">then</span> x : filter p xs</span><br><span class="line">				  <span class="keyword">else</span> = filter p xs</span><br></pre></td></tr></table></figure>
<p>用filter改写qs</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">qs</span> :: [a] -&gt; [a]</span><br><span class="line"><span class="title">qs</span> [] = []</span><br><span class="line"><span class="title">qs</span> [x] = [x]</span><br><span class="line"><span class="title">qs</span> (x:xs) = </span><br><span class="line">	<span class="keyword">let</span> smallS = qs (filter (&lt;x) xs)</span><br><span class="line">		bigS = qs (filter (&gt;x) xs)</span><br><span class="line">	<span class="keyword">in</span> smallS ++ [x] ++ bigS</span><br></pre></td></tr></table></figure>
<h2 id="takewhile"><a class="markdownIt-Anchor" href="#takewhile"></a> takeWhile</h2>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">--从给定列表的元素第一个开始，直到Flase</span></span><br><span class="line"><span class="title">takeWhile</span> :: (a-&gt;<span class="type">Bool</span>) -&gt; [a] -&gt;[a]</span><br><span class="line"></span><br><span class="line"><span class="comment">--考拉兹猜想：对于每个正整数，如果奇数*3+1，如果偶数除2，最终都能得到1</span></span><br><span class="line"><span class="title">collatz</span> :: a -&gt; [a]</span><br><span class="line"><span class="title">collatz</span> <span class="number">1</span> = [<span class="number">1</span>]</span><br><span class="line"><span class="title">collatz</span> n = <span class="keyword">if</span> odd n <span class="keyword">then</span> n:collatz (n*<span class="number">3</span>+<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">else</span> n:collatz (div n <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h1 id="p1011类型类自定义"><a class="markdownIt-Anchor" href="#p1011类型类自定义"></a> P10&amp;11：类型类自定义</h1>
<h2 id="定义类型"><a class="markdownIt-Anchor" href="#定义类型"></a> 定义类型</h2>
<p>data关键字 类型名(首字母大写) = 值构造器[可以与类型名相同或者不同，首字母大写]</p>
<p>值构造器：接收几个value作为参数，生成一个新的value</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Point</span> = <span class="type">Point</span> <span class="type">Float</span> <span class="type">Float</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Shape</span> = <span class="type">Circle</span> <span class="type">Point</span> <span class="type">Float</span>| <span class="type">Rectangle</span> <span class="type">Point</span> <span class="type">Point</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br><span class="line"></span><br><span class="line"><span class="title">surface</span> :: <span class="type">Shape</span> -&gt; <span class="type">Float</span></span><br><span class="line"><span class="title">surface</span> (<span class="type">Circle</span> _ r) = pi * r * <span class="number">2</span></span><br><span class="line"><span class="title">surface</span> (<span class="type">Rectangle</span> <span class="type">Point</span>(x1 y1) <span class="type">Point</span>(x2 y2)) = abs (x2-x1) * abs (y2-y1)</span><br><span class="line"></span><br><span class="line"><span class="comment">--用map构造一系列Circle</span></span><br><span class="line"><span class="title">map</span> (<span class="type">Circle</span> <span class="number">10</span> <span class="number">10</span>) [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br></pre></td></tr></table></figure>
<p><strong>类型递归</strong></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Ls</span> a = <span class="type">Empty</span> | <span class="type">Cons</span> a (<span class="type">Ls</span> <span class="title">a</span>) <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ABR</span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Tree</span> a = <span class="type">EmptyNode</span> | <span class="type">Node</span> a (<span class="type">Tree</span> <span class="title">a</span>) (<span class="type">Tree</span> <span class="title">a</span>) <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br><span class="line"></span><br><span class="line"><span class="title">insertNode</span> :: a -&gt; <span class="type">Tree</span> a -&gt; <span class="type">Tree</span> a</span><br><span class="line"><span class="title">insertNode</span> x <span class="type">EmptyNode</span> = singleton x</span><br><span class="line"><span class="title">insertNode</span> x (<span class="type">Node</span> a left right)</span><br><span class="line">	|x == a = <span class="type">Node</span> x left right</span><br><span class="line">	|x &lt; a = <span class="type">Node</span> x (insertNode x left) right</span><br><span class="line">	|x &gt; a = <span class="type">Node</span> x left (insertNode x right)</span><br><span class="line">	</span><br><span class="line"><span class="title">elemNode</span> :: a -&gt; <span class="type">Tree</span> a -&gt; <span class="type">Boll</span></span><br><span class="line"><span class="title">elemNode</span> x <span class="type">EmptyNode</span> = <span class="type">False</span></span><br><span class="line"><span class="title">elemNode</span> x (<span class="type">Node</span> a left right)</span><br><span class="line">	|x == a = <span class="type">True</span></span><br><span class="line">	|x &lt; a = elemNode x left</span><br><span class="line">	|x &gt; a = elemNode x right	</span><br></pre></td></tr></table></figure>
<p>也可以用大括号的形式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">data Person = Person &#123;name::String,age::Int,height::Float&#125; deriving Show</span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>类型构造器：接收几个类型作为参数，生成一个新的类型，例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Str::[Char]</span><br><span class="line">data Vector a = Vector a a a deriving Show</span><br><span class="line"></span><br><span class="line">scalarM :: Vector t -&gt; Vector t -&gt; t</span><br><span class="line">scalarM (Vector i j k) (Vector l m n) = i*l + j * m + k * n</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>deriving: 把构造的类搞成别的类型类的实例，就比如说上面的Person可以deriving(Eq) 然后去编它=的这样</p>
</li>
<li>
<p>类型同义词</p>
<p>type AssocListe k v = [(k,v)]</p>
<p>有点像说在自命名一个数据类型</p>
</li>
<li>
<p>Either a b</p>
</li>
</ol>
<h2 id="class"><a class="markdownIt-Anchor" href="#class"></a> class</h2>
<p>类型类定义了函数或者类型声明，类型类的实例可以使用这些函数</p>
<p>比如说haskell自带的Eq类里面就有定义==和/=的说明，instance Eq Int就是Eq类的一个实例，表示两个int类型可以进行比较。也可以对自定义的类型进行说明，比如</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Signal</span> = <span class="type">R</span> | <span class="type">Y</span> | <span class="type">G</span></span></span><br><span class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Eq</span> <span class="type">Signal</span> <span class="keyword">where</span></span></span><br><span class="line">	(==) <span class="type">R</span> <span class="type">R</span> = <span class="type">True</span></span><br><span class="line">	(==) <span class="type">Y</span> <span class="type">Y</span> = <span class="type">True</span></span><br><span class="line">	(==) <span class="type">G</span> <span class="type">G</span> = <span class="type">True</span></span><br><span class="line">	(==) _ _ = <span class="type">Flase</span></span><br><span class="line"><span class="class">	</span></span><br><span class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Show</span> <span class="type">Signal</span> <span class="keyword">where</span></span></span><br><span class="line">	show <span class="type">R</span> = <span class="string">&quot;Red&quot;</span></span><br><span class="line">	show <span class="type">Y</span> = <span class="string">&quot;Yellow&quot;</span></span><br><span class="line">	show <span class="type">G</span> = <span class="string">&quot;Green&quot;</span>	</span><br></pre></td></tr></table></figure>
<h3 id="yesorno"><a class="markdownIt-Anchor" href="#yesorno"></a> YesOrNo</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.hj9os9mose0.png" alt="yaimage" /></p>
<h3 id="functor"><a class="markdownIt-Anchor" href="#functor"></a> Functor</h3>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">Functor</span> f <span class="keyword">where</span></span></span><br><span class="line">	fmap :: (a-&gt;b)-&gt; f a -&gt; f b</span><br><span class="line"><span class="comment">--列表作为实例时，fmap与map相同</span></span><br><span class="line"><span class="title">fmap</span> :: (a-&gt;b) -&gt; [a] -&gt;[b]</span><br><span class="line"><span class="comment">--Maybe作为实例时</span></span><br><span class="line"><span class="title">fmap</span> :: (a-&gt;b) -&gt; <span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> b</span><br><span class="line"><span class="title">fmap</span> _ <span class="type">Nothing</span> = <span class="type">Nothing</span></span><br><span class="line"><span class="title">fmap</span> f (<span class="type">Just</span> a) = <span class="type">Just</span> (f a)</span><br></pre></td></tr></table></figure>
<h1 id="p12io"><a class="markdownIt-Anchor" href="#p12io"></a> P12：IO</h1>
<p>putStrLn, putChar, putLine(换行输出):: String -&gt; IO ()</p>
<p>print :接收任何一个实例的值，返回一个IO操作 = puStrLn.show</p>
<p>getLine：获取用户在终端中输入的一行</p>
<p>getChar：获取用户在终端中输入的一个字符</p>
<p>多个IO操作可以用do绑定，用return不返回</p>
<p>sequence接收IO操作的列表</p>
<p>ls &lt;- sequence [getLine,getLine,getLine]</p>
]]></content>
      <categories>
        <category>学习区</category>
        <category>暑假的乱七八糟</category>
      </categories>
      <tags>
        <tag>haskell</tag>
      </tags>
  </entry>
  <entry>
    <title>INDUR_DS</title>
    <url>/2022/11/12/INDUR_DS/</url>
    <content><![CDATA[<h1 id="indur_ds"><a class="markdownIt-Anchor" href="#indur_ds"></a> INDUR_DS</h1>
<p>introduction，mooc，dpi et éthique.</p>
<span id="more"></span>
<h2 id="0-introduction"><a class="markdownIt-Anchor" href="#0-introduction"></a> 0. Introduction</h2>
<p>plan</p>
<p>informatique verte(9月)</p>
<ul>
<li>Identifier les principes de l’informatique verte et les leviers[杠杆?] associés</li>
<li>Enjeux[问题] et impacts directs et indirects</li>
<li>Consommation énergétique matérielle et logicielle</li>
<li>Sobriété[清醒] numérique</li>
</ul>
<p>-MOOC: impacts environnementaux du numérique</p>
<p>Règlementation et éthique(10月)</p>
<ul>
<li>Cadre juridique en matière[材料，物质] de traitement automatique de données</li>
<li>Ethique et responsabilité</li>
</ul>
<p>objectifs</p>
<p>-Savoir construire une analyse éthique et responsable des traitements automatiques de l’information (identification de l’impact de ces traitements, des biais[偏差] possibles, etc.)</p>
<p>-Savoir mettre en oeuvre un diagnostic de la consommation énergétique des applications informatiques</p>
<p>-Développer une pensée rationnelle[理性], basée sur la littérature scientifique</p>
<h2 id="1-informatique-verte"><a class="markdownIt-Anchor" href="#1-informatique-verte"></a> 1. Informatique verte</h2>
<h3 id="11-mooc"><a class="markdownIt-Anchor" href="#11-mooc"></a> 1.1 MOOC</h3>
<p>数字技术与环境的关系</p>
<p>一些观点</p>
<ol>
<li>
<p>数字不虚拟，有物理现实：光纤电缆，终端、云计算与数据中心[关于网络的另一端]–&gt;数据中心对环境的影响：2015 年，数字占全球温室气体排放量的 4%，而航空占 2.5%。在这 4% 中，有 25% 与数据中心相关联。数据中心的用电量约占全球用电量的 3%。</p>
</li>
<li>
<p>数字化没有成功转型，只是在叠加[使用电子设备的同时也没有减少对树木的砍伐，石油的使用]且数字化的那些设备不可再生</p>
</li>
<li>
<p>La sobriété numérique[数字清醒]：<strong>La sobriété</strong> consiste à faire décroître voire disparaître des usages, des valeurs ou des comportements. Elle ne nécessite pas le développement de nouvelles techniques ou technologies. Elle se rapporte au suffisant relativement aux besoins et aux enjeux d’équilibre écologique et d’équité. On pourrait parler de « faire moins avec moins ».</p>
</li>
<li>
<p>电子设备的ACV(analyse de cycle de vie)：分析ACV的4个步骤：</p>
<ul>
<li>Objectifs et champ de l’étude：研究的目标和研究结果的用途</li>
<li>Inventaire du cycle de vie：核心，分解特定功能单元生命周期中涉及的生产、转换或者消费阶段。</li>
<li>Évaluation des impacts environnementaux</li>
<li>Interprétation et mise en forme des résultats</li>
</ul>
</li>
<li>
<p>除了数字设备对环境的影响外，数字服务对环境也会造成影响。[数字服务：services numériques ，包括nos applications, logiciels de messagerie, interface de streaming。数字服务由一组软件、硬件、网络和基础设施以及由各种参与者（人力资源）（出版商、设计师、架构师、网络和服务运营商、互联网接入供应商、用户、 ETC）。这种通过数字服务进行的衔接使得满足一个或多个需求成为可能。数字服务不是软件，由一组人力、材料和软件资源组成]–&gt;比如说通信功能，这个功能背后需要很多基础建设和人力维护。</p>
</li>
</ol>
<h2 id="2-droit-et-propriété-intellectuelle法律和知识产权"><a class="markdownIt-Anchor" href="#2-droit-et-propriété-intellectuelle法律和知识产权"></a> 2. Droit et propriété intellectuelle[法律和知识产权]</h2>
<p>网站：<a href="http://CNIL.fr">CNIL.fr</a></p>
<ol>
<li>
<p>Les données personnelles：个人数据</p>
</li>
<li>
<p>Règlement général sur la protection des données (RGPD)</p>
<ul>
<li>Augmentation des sanctions financières (jusqu’à 4% du chiffre d’affaire pour les entreprises)  增加经济处罚（对公司而言，最高为营业额的4%）</li>
<li>Pour certains traitements (fonction publique + données sensibles), nécessité d’avoir un DPO (Data Protection Officer)对于某些处理业务（公共服务+敏感数据），需要有一个DPO（数据保护官）</li>
<li>Introduit droit à l’effacement, droit à la portabilité des données personnelles, etc. 引入了删除权、个人数据的可移植性权利等。</li>
<li>RGPD 45: Transferts fondés sur une décision d’adéquation 基于充分性决定的转让</li>
<li>RGPD 46: Transferts moyennant des garanties appropriées 受适当保障的转让</li>
<li>RGPD 47: Règles d’entreprise contraignantes 具有约束力的公司规则</li>
</ul>
</li>
<li>
<p>两条可能用到的法律</p>
<ul>
<li>
<p>« L’informatique doit être au service de chaque citoyen. Son développement doit s’opérer dans le cadre de la coopération internationale. Elle ne doit porter atteinte ni à l’identité humaine, ni aux droits de l’homme, ni à la vie privée, ni aux libertés individuelles ou publiques. »<br />
Article 1er de la loi relative à l’informatique, aux fichiers et aux libertés du 6 janvier 1978, consolidée au 6 août 2004</p>
<p>&quot;信息技术必须为每个公民服务。其发展必须在国际合作的框架内进行。它不得侵犯人类身份、人权、隐私或个人或公共自由。1978年1月6日关于信息技术、文件和自由的法律第1条，于2004年8月6日合并</p>
</li>
<li>
<p>« La communication au public par voie électronique est libre. L’exercice de cette liberté ne peut être limité que dans la mesure requise, d’une part, par le respect de la dignité de la personne humaine, de la liberté et de la propriété d’autrui, du caractère pluraliste de l’expression des courants de pensée et d’opinion et, d’autre part, par la sauvegarde de l’ordre public, par les besoins de la défense nationale, par les exigences de service public, par les contraintes techniques inhérentes aux moyens de communication, ainsi que par la nécessité, pour les services audiovisuels, de développer la production audiovisuelle. »<br />
Article 1er de la loi pour la Confiance dans l’Economie Numérique du 21 juin 2004</p>
<p>“通过电子手段向公众传播是免费的。这种自由的行使只能受到限制，一方面要尊重人的尊严、他人的自由和财产，以及思想和意见表达的多元化，另一方面要维护公共秩序、国防的需要、公共服务的要求、通信手段固有的技术限制，以及视听服务发展视听制作的需要。”<br />
2004年6月21日的《数字经济信心法》第1条</p>
</li>
</ul>
</li>
<li>
<p>上课做pre的一些课题</p>
<p>Propriété intellectuelle: 知识产权<br />
Droit d’auteur: 作者的权利<br />
Droit des créations numériques - Licences: 数字创作法 - 许可证<br />
Brevet (et brevet logiciel) : 许可证(和知识产权许可证)<br />
Droit des marques : 商标权<br />
Droit du traitement de l’information: 信息处理法<br />
Droit des données personnelles et sécurité : 个人数据和安全法<br />
Droit du commerce électronique : 电子商业法<br />
Questions diverses et actualités:  各类问题和实际情况</p>
<p>What is public domain?<br />
What differences between copyright, trademark, registered trademark? 版权、商标、注册商标之间有什么区别？<br />
Do you know that the use of ® for an unregistered trademark is a criminal offense in some countries?  你知道在某些国家，将®用于未注册的商标是一种刑事犯罪吗？</p>
<p>How multimedia/numerical creations are protected against piracy? 如何保护多媒体/数字作品不被盗用？<br />
What laws do you have to respect to process personal data? 在处理个人数据时，你必须遵守哪些法律？<br />
How software licenses may restrict the end-user rights? 软件许可证如何限制终端用户的权利？</p>
</li>
<li>
<p>最后面提到的一些法律</p>
<p>▪Loi 78-17 du 6 janvier 1978 relative à l’informatique, aux fichiers et aux libertés : instauration de la CNIL</p>
<p>1978年1月6日关于信息技术、文件和自由的第78-17号法律：建立CNIL</p>
<p>▪Loi 88-19 du 5 janvier 1988, relative à la fraude informatique</p>
<p>1988年1月5日关于计算机欺诈的第88-19号法律</p>
<p>▪Loi 98-536 du 1er juillet 1998, concernant la protection juridique des bases de données</p>
<p>1998年7月1日关于数据库法律保护的第98-536号法律</p>
<p>▪Loi 2004-801 du 6 août 2004 relative à la protection des personnes physiques à l’égard des traitements de données à caractère personnel : remaniement de la loi « Informatique et Libertés » pour suivre la <strong>directive</strong> <strong>européenne</strong> de 1995 sur le sujet</p>
<p>2004年8月6日关于在处理个人数据方面保护个人的第2004-801号法律：重新修订 &quot;信息与自由 &quot;法，以遵循1995年关于该主题的欧洲指令。</p>
<p>▪Loi 2004-575 du 21 juin 2004 pour la Confiance dans l’Economie Numérique</p>
<p>2004年6月21日关于数字经济信心的第2004-575号法律</p>
<p>▪Loi 2006-961 du 1er août 2006 relative au Droit d’Auteur et aux Droits Voisins dans la Société de l’Information</p>
<p>2006年8月1日关于信息社会版权和邻接权的第2006-961号法律</p>
<p>▪Loi 2009-669 du 12 juin 2009 favorisant la diffusion et la protection de la création sur internet</p>
<p>2009年6月12日第2009-669号法律，促进互联网上创作的传播和保护</p>
<ul>
<li>
<p>Ou loi HADOPI</p>
</li>
<li>
<p>Complétée par la loi 2009-1311 du 28 octobre 2009 relative à la protection pénale de la propriété littéraire et artistique sur internet</p>
<p>经2009年10月28日第2009-1311号法律补充，关于对互联网上文学和艺术财产的刑事保护</p>
</li>
</ul>
<p>▪Loi 2011-267 du 14 mars 2011 d’orientation et de programmation pour la performance de la sécurité intérieure</p>
<p>2011年3月14日第2011-267号法律，关于内部安全性能的定位和方案设计</p>
<p>Règlement (UE) 2016/679 du Parlement européen et du Conseil du 27 avril 2016 (RGPD) 2016年4月27日欧洲议会和理事会的（欧盟）2016/679号条例（RGPD）</p>
<ul>
<li>
<p>Adapté dans la loi française via la loi relative à la protection des données personnelles promulguée le 20 juin 2018</p>
<p>通过2018年6月20日颁布的个人数据保护法改编为法国法律</p>
</li>
</ul>
</li>
</ol>
<h2 id="3-intelligence-artificielle-éthique"><a class="markdownIt-Anchor" href="#3-intelligence-artificielle-éthique"></a> 3. intelligence artificielle &amp; éthique</h2>
<h3 id="31-一些点"><a class="markdownIt-Anchor" href="#31-一些点"></a> 3.1 一些点</h3>
<ol>
<li>
<p>les émotions sur l’intelligence artificielle: peur, angoisse, espoir, 恐惧、焦虑、希望</p>
</li>
<li>
<p>为什么要讲牛顿那两个定律和拉格朗日的三个点</p>
</li>
<li>
<p>Peut-on faire confiance à l’IA ? (Ikigai) --&gt;用这个自我认知的方法来分析我们对IA信心</p>
<ul>
<li>
<p>savoir</p>
<p>l’IA élargit[扩大] les connaissances？ --&gt; oblitère[泯灭]</p>
</li>
<li>
<p>vouloir</p>
<p>I’IA peut orienter[引导] les désirs? --&gt; manipuler[操纵]</p>
</li>
<li>
<p>devoir</p>
<p>l’IA peut faire évoluer[发展，演化] les règles de vie --&gt; dé-socialiser</p>
</li>
<li>
<p>pouvoir</p>
<p>l’IA aide à la décision[帮助决策] --&gt; conditionne ?</p>
</li>
</ul>
</li>
</ol>
<h3 id="32-一些与ai和léthique的具体例子"><a class="markdownIt-Anchor" href="#32-一些与ai和léthique的具体例子"></a> 3.2 一些与AI和l’éthique的具体例子</h3>
<h4 id="321-le-véhicule-à-conduite-automatisée-自动驾驶技术"><a class="markdownIt-Anchor" href="#321-le-véhicule-à-conduite-automatisée-自动驾驶技术"></a> 3.2.1 Le véhicule à conduite automatisée: 自动驾驶技术</h4>
<ol>
<li>Le bénéfice social attendu[预期的社会效益]: la sécurité routière[95% des  accidents sont dus à une  erreur humaine], une mobilité accessible[无障碍交通, à des personnes en incapacité de conduire], impact sur l’environnement[fluidité et  contrôle du trafic]</li>
<li>L’apport de l’IA: analyse des alentours du véhicule, détection obstacle et stratégie d’évitement[车辆周围环境分析: 、障碍物检测和避让策略]</li>
<li>Les tensions: vide juridique &gt; responsabilité des<br />
véhicules autonomes[自动驾驶汽车的法律真空&gt;责任], comprendre l’intention des autres acteurs[了解其他参与者的意图], vu leur diversité comment seront traitées les situations non apprises[鉴于他们的多样性，如何处理未学到的情况:conditions météo, luminosité, réflexions]</li>
</ol>
<h4 id="322-la-parole-des-agents-conversationnels-会话代理的声音"><a class="markdownIt-Anchor" href="#322-la-parole-des-agents-conversationnels-会话代理的声音"></a> 3.2.2 La parole des agents conversationnels: 会话代理的声音</h4>
<h4 id="323-la-reconnaissance-comportementale-行为识别"><a class="markdownIt-Anchor" href="#323-la-reconnaissance-comportementale-行为识别"></a> 3.2.3 La reconnaissance comportementale: 行为识别</h4>
<h4 id="324-larmée-des-engins-soldats-士兵的军队"><a class="markdownIt-Anchor" href="#324-larmée-des-engins-soldats-士兵的军队"></a> 3.2.4 L’armée des engins soldats: 士兵的军队</h4>
<h3 id="33-démarche-de-réflexion反思过程"><a class="markdownIt-Anchor" href="#33-démarche-de-réflexion反思过程"></a> 3.3 démarche de réflexion[反思过程]</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221104/yaimage.6b1exrmsb140.png" alt="yaimage" /></p>
<p>rationalisme：理性主义，empirisme：经验主义</p>
<h4 id="331-éthiques"><a class="markdownIt-Anchor" href="#331-éthiques"></a> 3.3.1 éthiques</h4>
<h5 id="principes-éthiques-occidentaux"><a class="markdownIt-Anchor" href="#principes-éthiques-occidentaux"></a> Principes éthiques occidentaux</h5>
<ol>
<li>
<p>Aristote: 亚里士多德</p>
<p>384 &gt; 322 avant notre ère，penseur occidental le plus complet</p>
<p>L’éthique est un champ de la science qui doit permettre à l’homme de vivre une vie meilleure</p>
<p>伦理学是一个科学领域，应该使人过上更好的生活</p>
<p>• La vertu éthique est toujours un équilibre entre deux excès: 伦理美德总是在两种过度之间取得平衡<br />
• L’éthique doit toujours être en recherche du Bien (épanouissement)：向善的过程<br />
• Le but d’Aristote n’est pas de savoir ce qu’est la vertu éthique, mais de montrer comment être vertueux: 亚里士多德的目的不是要知道什么是伦理美德，而是要说明如何成为示范如何做一个有道德的人</p>
<p>• Il distingue les vertus intellectuelles (produits de la formation reçue)  et les vertus morales (produits de l’habitude): 他区分了智力上的美德（所受训练的产物)和德行(习惯的产物)</p>
</li>
<li>
<p>Spinoza</p>
<p>1632 &gt; 1677, cartésianisme (Leibniz et Descartes)[笛卡尔主义(莱布尼茨和笛卡尔)?], L’Ethique selon l’ordre géométrique[按照几何学的顺序伦理学]</p>
<p>• Quel type de connaissance humaine mérite notre confiance?: par opinion et ouï-dire (empirisme) 凭意见和道听途说（经验主义）, par raisonnement (rationalisme) 通过推理(理性主义), par science intuitive (essence des choses) 靠直觉科学（事物的本质）</p>
</li>
<li>
<p>Schopenhauer[叔本华]</p>
<p>1788 &gt; 1860, un des plus grands “influenceurs”,Le fondement de la morale</p>
<p>Notre époque a normalisé un “bonheur” qui se réduit à un plaisir illusoire. Comme la propagande mesure ce bonheur à l’aune du succès et de la compétition, l’être humain retombe encore et toujours dans la souffrance de l’insatisfaction, qui nous pousse à remettre en cause ce qui est pourtant suffisant et juste. La prétention du “savoir-être” affichée sur les réseaux sociaux a banni les sentiments négatifs, donc ceux qui rappellent la douleur, la nostalgie et l’absurdité de l’existence. Ce refus déstructure</p>
<p>我们的时代已经使一种 &quot;幸福 &quot;正常化，它被简化为一种虚幻的快乐。当宣传用成功和竞争的尺度来衡量这种幸福时，人类一次又一次地陷入不满意的痛苦之中，这促使我们质疑什么才是充分和正确的。在社交网络上展示的 &quot;知道如何做人 &quot;的伪装已经驱逐了负面情绪，即那些让我们想起痛苦、怀旧和生存的荒谬的情绪。这种拒绝破坏了</p>
</li>
</ol>
<h5 id="principes-éthiques-dailleurs"><a class="markdownIt-Anchor" href="#principes-éthiques-dailleurs"></a> Principes éthiques d’ailleurs</h5>
<ol>
<li>
<p>Confucius</p>
<p>551 &gt; 479 avant notre ère, concilie des principes moraux et les faiblesses des humains[调和了道德原则和人性的弱点], Les Entretiens [论语]constituent les enseignements de Confucius, ils ont été rassemblés pendant 2 générations de disciples</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221104/yaimage.3nwcejp61c80.png" alt="yaimage" /></p>
<p>与社会相连的éthique：</p>
<ul>
<li>敬重：避免侮辱</li>
<li>宽容：调和倾听</li>
<li>诚信：产生信任</li>
<li>勤奋：确保成功</li>
<li>慷慨：允许人们提出</li>
</ul>
</li>
<li>
<p>Lao Tseu</p>
<p>Livre de la voie et de la vertu[道德经]</p>
<p>Une éthique individuelle en société[社会中的个人道德]</p>
<p>L’homme d’une vertu supérieure :</p>
<ul>
<li>
<p>S’il fait des largesses, il excelle à montrer de l’humanité.</p>
<p>如果他给予，他擅长展示人性</p>
</li>
<li>
<p>S’il parle, il excelle à pratiquer la vérité.</p>
<p>如果他说话，他擅长于实践真理</p>
</li>
<li>
<p>S’il gouverne, il excelle à procurer la paix.</p>
<p>如果他执政，他擅长于带来和平</p>
</li>
<li>
<p>S’il agit, il excelle à montrer de la capacité.</p>
<p>如果他演戏，他擅长表现能力</p>
</li>
<li>
<p>S’il se meut, il excelle à se conformer aux temps.</p>
<p>如果他的动作，他擅长的是与时俱进。</p>
</li>
</ul>
</li>
</ol>
<h5 id="léthique-aujourdhui"><a class="markdownIt-Anchor" href="#léthique-aujourdhui"></a> L’éthique aujourd’hui</h5>
<p>• éthique &gt; principes universels: 普遍原则<br />
• morale &gt; principes contextuels: 背景原则<br />
• éthique &gt; rapports de soi à soi: 自身对自身<br />
• morale &gt; rapports de soi aux autres: 自己对他人<br />
Les deux se confondent souvent</p>
<ol>
<li>
<p>Ethique des anciens</p>
<p>Ethique maximaliste</p>
<blockquote>
<p>rechercher une vie vertueuse[有德行的生活]<br />
• Aristote &gt; tout un art de vivre, y compris en société: 整个生活的艺术，包括在社会中的艺术<br />
• Kant &gt; devoirs moraux envers autrui et soi-même: 对他人和自己的道德义务</p>
</blockquote>
<p>Ethique minimaliste</p>
<blockquote>
<p>se réduit à “ne pas nuire à autrui” : 简化为 “不伤害他人”</p>
<p>John Stuart Mill &gt; pas de crime sans victime : 没有无受害人的犯罪</p>
</blockquote>
</li>
<li>
<p>Ethique moderne</p>
<p>Si l’éthique des anciens est celle des vertus à avoir soi-même,<br />
l’éthique moderne la formule en devoirs (vis-à-vis des autres)<br />
… même si c’est au détriment de soi-même ?如果说古人的伦理学是拥有自己的美德，现代伦理学将其表述为（对他人的）义务</p>
<p>• la non-nuisance: 无害<br />
• l’impartialité：诚实<br />
• l’égale considération：平等<br />
• la justice：公正，不是向善</p>
</li>
</ol>
<h4 id="332-science"><a class="markdownIt-Anchor" href="#332-science"></a> 3.3.2 science</h4>
<ol>
<li>
<p>empirisme &amp; rationalisme</p>
<p><strong>L’empirisme</strong> se réfère à une démarche inductive qui dérive une loi générale à partir d’observations 经验主义指的是一种归纳法，从观察中得出一般规律<br />
<strong>Le rationalisme</strong> s’appuie sur une doctrine : la vérité a un caractère manifeste (d’évidence) 理性主义建立在一个学说上：真理是显而易见的（不言而喻）</p>
<p>Deux conclusions majeures: 1. Pour faire partie de la science tout énoncé doit être falsifiable[要成为科学的一部分，任何陈述都必须是可被证实的] 2. Ni observation, ni raison ne peut, à elle seule, être source de la connaissance[单纯的观察和理性都不能成为知识的来源, 但是L’IA bouscule[推翻] cette affirmation–&gt;咋推翻了的？]</p>
</li>
<li>
<p>science naturelle &amp; science artificielle</p>
<p><strong>science naturelle:</strong> Une science naturelle est un corpus de connaissances sur une réalité naturelle constitutive de notre monde, objets ou phénomènes (physique, biologique, etc). Ces connaissances portent sur :[关于构成我们世界、物体或现象（物理、生物等）的自然现实的知识体系。这些知识涉及]<br />
• les caractéristiques de cette réalité 这个现实的特点<br />
• son fonctionnement interne 他的内部运作<br />
• son comportement externe, ses interactions 它的外部行为和相互作用</p>
<p><strong>science artificielle</strong>：Une science artificielle est un corpus de connaissances sur une réalité qui a été synthétisée par des êtres humains. Ces connaissances sont : [人工科学是一个关于现实的知识体系，是由人类合成的]<br />
• ses caractéristiques résultent de sa conception, conditionnée par des critères et contraintes: 它的特点源于它的设计。以标准和约束为条件<br />
• son fonctionnement interne résulte de sa conception:其内部功能源于其设计<br />
• elle est forgée dans un but précis, donc pour un comportement souhaité, donc connu: 它是为某一特定目的而锻造的，因此是为所需的希望的，因此也是已知的行为</p>
</li>
<li>
<p>intelligence artificielle</p>
<p>une intelligence artificielle construit une décision à partir d’un univers des relations entre toutes les données qui conditionnent cette décision. [人工智能从所有数据之间的关系宇宙中构建一个决策，这些数据是这个决策的条件]</p>
<p>Cette démarche :<br />
• s’appuie sur l’identification des données qui peuvent affecter le comportement de la réalité étudiée [是基于对可能影响所研究的现实行为的数据的识别]<br />
• ne s’appuie pas sur une connaissance préalable du comportement de la réalité étudiée[并非基于对所研究的现实行为的事先了解]<br />
• construit, par affinages successifs un modèle de la réalité étudiée qui se comporte comme elle[通过连续的细化，构建了一个所研究的现实模型，该模型的行为方式是这样的]</p>
</li>
<li>
<p>cerveau humain vs  intelligence artificielle</p>
<ol>
<li>
<p>L‘IA se comporte comme moi &gt; consciente ?[人工智能有意识吗]</p>
<p>Mais les théories neuro-scientifiques de « structure causale » concluent que la réplication n’est pas un fonctionnement suffisant pour générer une conscience</p>
<p>在神经科学领域， &quot;因果结构 &quot;理论得出结论，复制并不是产生意识的充分功能</p>
<p>Pour d’autres, la conscience étant une notion subjective (pas de théorie sousjacente), il n’est pas possible de conclure sur l’IA</p>
<p>对其他领域来说，由于意识是一个主观的概念（没有基础理论），所以不可能对人工智能下结论</p>
</li>
<li>
<p>L’efficacité du cerveau reste inégalée[无可比拟]<br />
• dans sa rapidité d’apprentissage: l’IA de l’entreprise DeeMind a dû accumuler 900h de jeu pour atteindre un niveau acquis en 2h par un humain<br />
• l’apprentissage humain est social: c’est-à-dire se transmet : nous sommes des « homo docens », la transmission est au fondement de la socialisation<br />
• l’apprentissage humain est long: la plasticité cérébrale dure 20 ans : le cerveau se modèle, cette plasticité est stimulée par l’éducation<br />
• le cerveau humain a la faculté d’abstraction[La modélisation建模,La conceptualisation概念化,L’innovation de rupture颠覆式创新]</p>
</li>
</ol>
</li>
</ol>
<h4 id="333-éthique-science"><a class="markdownIt-Anchor" href="#333-éthique-science"></a> 3.3.3 éthique &amp; science</h4>
<ol>
<li>
<p>Éthique scientifique</p>
<p>Éthique scientifique … du « chercheur » probité, honnêteté, sincérité, transparence</p>
<p>感觉倾向于描述科学家的道德：正直、诚实、真诚、透明这些</p>
</li>
<li>
<p>Ethique de la science</p>
<ul>
<li>
<p>En science naturelle</p>
</li>
<li>
<p>En science de l’artificiel</p>
<p>Pionnière[护理学] bio-éthique ：la bienfaisance[恩惠], non-malfaisance[非盈利性], l’autonomie[自主性], la justice. Il s’agit nécessairement de faire le bien. 向善的</p>
</li>
</ul>
</li>
<li>
<p>une éthique du numérique</p>
<p>une éthique du numérique: le numérique n’est pas destiné à faire le bien, mais pour répondre à un besoin concret, le numérique traite de l’information</p>
<p>数字的目的不是为了做好事，而是为了满足具体的需要,数字技术处理的是信息</p>
<ol>
<li>
<p>une éthique des  données</p>
<p>Différentes perceptions des données<br />
• aux USA, la donnée est un produit commercial<br />
• en Asie, la donnée est un élément de pouvoir[权力的一个要素]<br />
• en Europe, la donnée est sacralisée[神圣的] et protégée des convoitises–&gt;RGPD</p>
</li>
<li>
<p>une éthique du  traitement des données</p>
<p>• contrôle humain (respect de l’autonomie humaine) 人的控制（尊重人的自主性）<br />
• la conformité (au CdC), la robustesse technique (qualité) et la sécurité (résistance aux intrusions) 遵守（对CoP）、技术稳健性（质量）和安全性（对入侵的抵抗）<br />
• protection de la vie privée dans l’exploitation des données (RGPD) 数据利用中的隐私保护 (RGPD)<br />
• la loyauté et transparence des algorithmes (traçabilité, explicabilité, communication) 算法的公平性和透明度（可追溯性、可解释性、沟通性）<br />
• justice, équité et non-discrimination des résultats 公正、公平和不歧视的结果<br />
• bien-être sociétal utilisateur et environnemental 用户和环境的社会福利<br />
• responsabilité et redevabilité 责任与问责</p>
</li>
<li>
<p>une éthique limitée du traitement des données</p>
<p>Les 3 lois de la robotique[机器人的3大法则]<br />
• Loi 1 : Un robot ne peut pas porter atteinte à un être humain ni, en restant passif, permettre qu’un être humain soit exposé à un danger. 机器人不得伤害人类，或通过保持被动，使人类处于危险之中<br />
• Loi 2 : Un robot doit obéir aux ordres donnés par un être humain, sauf si contradiction avec la Loi 1. 机器人必须服从人类发出的命令，除非这些命令与法则1相抵触<br />
• Loi 3 : Un robot doit protéger son existence, sauf si contradiction avec la Loi 1 ou la Loi . 机器人必须保护其存在，除非它与法律1或法律2相冲突</p>
</li>
</ol>
<p>P33不想看了</p>
</li>
<li>
<p>problèmes éthiques propres à l’intelligence artificielle</p>
<ul>
<li>adopter de nouvelles règles d’usage des données: qui sont en grand nombre, très diversifiées, qui, directement ou non, décrivent nos vies 为数据的使用制定新的规则：这些数据数量众多，高度多样化，直接或间接地描述了我们的生活</li>
<li>adapter la protection des droits et des libertés: aux groupes d’individus … et non plus aux individus seuls, identifier la responsabilité en cas de dérive ou biais 对权利和自由的保护进行调整：针对个人群体…而不再是针对个人，在出现偏移或偏见的情况下确定责任</li>
<li>lever l’opacité du fonctionnement de l’algorithme: souhaitée par le souci de la PI des entreprises financeurs 消除算法操作的不透明性：资助公司的知识产权问题所希望的</li>
<li>conséquences sociétales des champs d’application 适用领域的社会后果</li>
</ul>
</li>
<li>
<p>une éthique générale du développement de l’IA</p>
<p>​	10个原则</p>
<ol>
<li>Principe de bien-être<br />
• améliorer les conditions de vie, santé et conditions de travail<br />
• permettre d’exercer ses capacités physiques et intellectuelles<br />
• ne doit pas augmenter le stress, l’anxiété, le harcèlement</li>
<li>Principe du respect de l’autonomie<br />
• permettre à chacun de réaliser sa propre conception de la vie<br />
• éviter les dépendances par une confusion entre IA et humains<br />
• ne doit pas mettre en œuvre des mécanismes de surveillance,<br />
d’évaluation ou d’incitation contraignants</li>
<li>Principe de protection de l’intimité et la vie privée<br />
• protéger des espaces d’intimité non surveillés<br />
• protéger l’intimité de la pensée et des émotions<br />
• pas de profil personnalisé pour influencer le comportement<br />
• avoir un contrôle étendu sur ses données personnelles</li>
<li>Principe de solidarité • favoriser les relations humaines et réduire l’isolement<br />
• favoriser le travail collaboratif<br />
• ne pas simuler des comportements cruels par des robots</li>
<li>Principe de participation démocratique • une IA qui peut affecter la qualité de vie des personnes doit<br />
être intelligible et justifiable<br />
• le code des algorithmes doit être accessible aux autorités<br />
• la découverte d’effets non prévus doit être signalée</li>
<li>Principe d’équité<br />
• ne pas créer de discriminations sociales, religieuses, ethniques…<br />
• éliminer les relations de domination fondées sur la richesse, le<br />
pouvoir, la connaissance<br />
• bénéficier économiquement à tous</li>
<li>Principe d’inclusion de la diversité<br />
• ne pas induire l’uniformisation ou la normalisation<br />
• respecter les multiples expressions de toutes les diversités<br />
• pour chaque catégorie de service, une offre d’IA diversifiée</li>
<li>Principe de prudence<br />
• restreindre la diffusion d’IA pouvant présenter un danger<br />
• satisfaire des critères de fiabilité, sécurité intégrité… testés<br />
• prévenir des risques d’usage néfaste des données et de l’IA</li>
<li>Principe de responsabilité<br />
• seuls des êtres humains peuvent être tenus pour responsables<br />
• une décision qui affecte la vie doit être prise par une personne</li>
<li>Principe de développement soutenable<br />
• efficacité énergétique des infrastructures des IA<br />
• filière de maintenance, réparation et recyclage<br />
• lutter contre le gaspillage des ressources naturelles</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>INDUR</category>
      </categories>
  </entry>
  <entry>
    <title>INDUR_Pres</title>
    <url>/2022/11/12/INDUR_Pres/</url>
    <content><![CDATA[<h1 id="indur_pres"><a class="markdownIt-Anchor" href="#indur_pres"></a> INDUR_Pres</h1>
<p>关于indur的期末整理,以此纪念几乎每节课都有的pre==</p>
<span id="more"></span>
<h2 id="1-objets-connectés"><a class="markdownIt-Anchor" href="#1-objets-connectés"></a> 1. Objets connectés</h2>
<p>不是我说，真的完全找不到也完完全全记不得讲了啥了</p>
<h2 id="2-vers-leco-conception"><a class="markdownIt-Anchor" href="#2-vers-leco-conception"></a> 2. Vers L’Eco-Conception</h2>
<p>讨论Option SI与的环境关系，使用了analyse cycle de vie的方法探究SI如何向Eco-Conception发展。从avant，pendant和apres三个方面说的。</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaimage.3px7hgjgvb40.png" alt="yaimage" style="zoom:50%;" />
<p>做了海报然后就说了个介绍，然后还是安然给我写的TAT</p>
<h2 id="3-nom-de-domaine"><a class="markdownIt-Anchor" href="#3-nom-de-domaine"></a> 3. Nom de Domaine</h2>
<h3 id="31-课上讲的-droit-et-propriété-intellectuelle"><a class="markdownIt-Anchor" href="#31-课上讲的-droit-et-propriété-intellectuelle"></a> 3.1 课上讲的: Droit et propriété intellectuelle</h3>
<ul>
<li>Droit d’autre</li>
<li>Licences</li>
<li>Open Source, Libre, Mesures de protection(DRM)</li>
<li>Licences Creative Common</li>
<li>musique libres, etc</li>
<li>Droits des marques: R加圈，TM</li>
<li>Droit des nom de domaine-Applc</li>
</ul>
<p>Instances de contrôle: HADOPI (ARCOM)[法国视听和数字通信监管局], CNIL</p>
<p>Droits des marques: R加圈，TM-Droit des norme de domaine-Apple</p>
<p>®代表 “注册”，这意味着该商标已经注册, 它已达到相关商标局的要求。这时注册程序已经完成。</p>
<p>符号<sup>TM</sup>商标是指商标的名称。通常是在商标未经注册而使用，或已注册但未注册的情况下贴上。</p>
<p>使用&quot;©&quot;原则上意味着有关作品已在官方版权登记册上登记。然而，在法国，没有这样的登记。</p>
<p>Données personnelles - anonymisation[匿名]</p>
<p>Loi Informatique et 1978</p>
<p>RGPD 2018</p>
<p>Neutralité du néseau (accessililité)</p>
<p>privacy Droit vie privée en ligne</p>
<ul>
<li>
<p>Voitures autonomes:</p>
</li>
<li>
<p>Quelle protection sur une oeuvre crée par une IA? Sur du code crée par une IA?</p>
</li>
<li>
<p>Qui est propriétaire d’un modele étallisant du diag médieal</p>
</li>
</ul>
<h3 id="32-pre"><a class="markdownIt-Anchor" href="#32-pre"></a> 3.2 pre</h3>
<p>查了超级多，但就讲了一点点的域名投资的东西。</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaDroit-des-nom-de-domaine.3ainplq0e9m0.png" alt="yaDroit-des-nom-de-domaine" style="zoom:50%;" />
<p>L’investissement dans un nom de domaine consiste à enregistrer un nom de domaine en fonction de votre propre jugement du marché, à attendre qu’il prenne de la valeur, puis à le vendre pour la différence de prix, qui peut-etre ganer beaucoup.Par exemple, <a href="http://cars.com">cars.com</a>, qui a été enregistré gratuitement en 1994[mile neuf cent quatre-vignt-sixze] par Tim Lee, un étudiant de Washington, puis racheté par Gannett pour avrion 1,8 milliard de dollars en 2015[deux mile qunzi]</p>
<h2 id="4transfert-des-données-personnelles-hors-ue"><a class="markdownIt-Anchor" href="#4transfert-des-données-personnelles-hors-ue"></a> 4.Transfert des données  personnelles hors UE</h2>
<p>讲的是欧洲数据传输上一些法律的保护。</p>
<p><a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX:62018CJ0311">欧盟-美国隐私盾</a>的充分性决定于2016 年 7 月 12 日通过，允许将数据免费传输给在美国获得隐私盾认证的公司。在<a href="https://eur-lex.europa.eu/legal-content/en/TXT/?uri=CELEX:62018CJ0311">2020 年 7 月 16 日的判决 </a>（C-311/18 案）中，欧盟法院宣布充分性决定无效。因此，欧盟-美国隐私护盾不再是将个人数据从欧盟传输到美国的有效机制。2022 年 3 月 25 日，欧盟委员会和美国宣布原则上就新的<a href="https://ec.europa.eu/commission/presscorner/detail/en/ip_22_2087">跨大西洋数据隐私框架</a>达成一致。</p>
<ol>
<li>GDPR</li>
<li>European Commission and United States Joint Statement on Trans-Atlantic Data Privacy Framework</li>
</ol>
<p>基于奥地利律师、隐私活动家Max Schrems诉Facebook系列案件，宣布被称为“隐私盾”（Privacy Shield）的欧盟-美国数据传输协议无效。这一裁决引发数据隐私保护领域和数据传输业务的巨大震荡，将导致包括亚马逊、花旗集团、Facebook、谷歌、微软、华为、汇丰、毕马威等在内的5300余家依赖于“隐私盾”协议的公司被迫停止将欧盟境内的个人数据传输至美国，或在美国的服务器上存贮欧盟个人数据。</p>
<p><strong>数据经过外国公司提供的cookies处理即构成跨国数据传输。<strong>欧盟数据保护监管局和奥地利数据保护机构均认为，经过cookies处理后，数据就被传输到了美国。<strong>跨国数据传输必须采取额外措施以保证数据得到与欧盟同等水平保护</strong>，而仅仅是签订格式条款合同等,或存在美国当局基于美国法律访问这些个人数据的可能性，就不能认为数据得到了有效保护。基于此，未来的国际数据传输也会受到影响，即</strong>接收方不必对数据传输合法性承担责任。</strong></p>
<p>再次，无论是欧盟数据保护局还是奥地利数据保护机构，<strong>二者均未对涉案主体处以罚款</strong>，而是采取措施禁止相关跨境数据传输行为。</p>
<p>只能说完全看不懂，然后我讲的部分就是上面说的那个厉害的奥地利的律师说隐私盾不安全，谷歌facebook这些仍然在侵犯欧洲公民的隐私，然后有个新的框架。</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaimage.6dbtusbqtv00.png" alt="yaimage" style="zoom:50%;" />
<p>Je vais présenter le nouveau cadre sur Transfert des données personnelles hors UE, qui s’appelle Trans-Atlantic Data Privacy Framework.En juillet 2020, un avocat autrichien, M.Schrems a poursuivi des entreprises telles que Facebook Google Microsoft pour avoir violé la  vie privée des données des citoyens européens,démontré les faiblesses du RGPD.Après deux ans d’efforts de la part de plusieurs gouvernements, le 25 mars de cette année, la présidente Von Der Leyen et le président Biden se sont mis d’accord sur un nouveau cadre de transmission, le  Trans-Atlantic Data Privacy Framework. Alors, quelle est la différence avec le nouveau cadre ?Tout d’abord, Les citoyens européens pourront déposer une plainte auprès du Civil Liberties Protection Officer de la communauté du renseignement américaine.<br />
Ensuite, Les personnes auront la possibilité de faire appel de la décision du Civil Liberties Protection Officer devant la Data Protection Review Court nouvellement créée.<br />
Au total, dans le cadre du RGPD, auparavant, les questions relatives à la vie privée des données personnelles ne pouvaient être soumises qu’à l’Ombudsman, qui fait partie du gouvernement américain, dans le cadre des nouvelles règles, les décisions de l’Ombudsman et même l’Ombudsman peuvent faire l’objet d’un appel, ce qui peut garantir davantage la sécurité des transferts de données.</p>
<h2 id="5-reconnaissance-faciale"><a class="markdownIt-Anchor" href="#5-reconnaissance-faciale"></a> 5. Reconnaissance faciale</h2>
<p>将中国技术的未来和伦理上可能的问题，就很随意的说了很少很少的一点点</p>
<p>三个例子：面容解锁，可口可乐，麦当劳</p>
<p>人脸识别的未来：1.身份识别上，可以简化任何需要验证身份的场景，比如支付，考试；2.表情识别上，可以使我们的管理更高效，比如麦当劳分析顾客表情优化自身管理；也可能可以使我们的社会更安全，比如通过识别可以做疲劳驾驶的警报器，使运输更安全</p>
<p>Je vais vous présente l’avenir de la reconnaissance faciale : 1. en ce qui concerne la reconnaissance de l’identité, elle peut simplifier tout cas de figure nécessitant une vérification de l’identité, comme les paiements ou les contrôle des aéroports; 2. en ce qui concerne la reconnaissance de l’expression, elle peut rendre notre gestion plus efficace, comme McDonald’s qui analyse l’expression des clients pour optimiser sa propre gestion ; elle peut également rendre notre société plus sûre, comme la reconnaissance peut déclencher des alarmes de fatigue au volant pour rendre le transport plus sûr.</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>INDUR</category>
      </categories>
  </entry>
  <entry>
    <title>INDUR_MOOC</title>
    <url>/2022/09/16/INDUR_MOOC/</url>
    <content><![CDATA[<h1 id="mooc"><a class="markdownIt-Anchor" href="#mooc"></a> MOOC</h1>
<p>课上要求看的MOOC</p>
<ul>
<li>Partie1: Introduction: Les impacts environnementaux du numérique</li>
<li>Partie2: Des équipements non renouvelables</li>
<li>Des services numériques très matériels</li>
</ul>
<span id="more"></span>
<h2 id="partie1-introduction-les-impacts-environnementaux-du-numérique"><a class="markdownIt-Anchor" href="#partie1-introduction-les-impacts-environnementaux-du-numérique"></a> Partie1: Introduction: Les impacts environnementaux du numérique</h2>
<h3 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h3>
<p>Le numérique et l’environnement: le numérique nous offre une formidable capacité de collecter, stocker et traiter ces données. Et cela nous aide à comprendre notre impact sur l’environnement. Alors, que sait-on de l’impact environnemental de l’homme sur le climat ? Et que nous disent ces indicateurs sur l’impact environnemental du numérique ? Ensuite, nous vous proposons de vous familiariser avec des outils mathématiques et informatiques essentiels pour comprendre et analyser les indicateurs.</p>
<p>数字技术与环境：数字技术帮助收集数据，有助于我们更好的了解环境。那么，我们对人类对气候的环境影响了解多少？这些指标告诉我们数字技术对环境的影响是什么？要学会使用计算机工具对这些指标进行分析。</p>
<h3 id="que-pensez-vous-du-numérique"><a class="markdownIt-Anchor" href="#que-pensez-vous-du-numérique"></a> Que pensez-vous du numérique ?</h3>
<p>1.A l’heure où les problèmes environnementaux sont pointés du doigt, quel est l’impact du numérique sur l’environnement ? Là aussi, les avis divergent également : pour certains, le numérique est LA solution, pour d’autres, il ne ferait qu’aggraver le problème. Et vous qu’en pensez-vous ?</p>
<p>-我觉得数字化对环境还是好的。数据的分析可以更直观发现问题并且提出有效的措施。</p>
<p>2.Indiquez quelques mots que vous associez spontanément[自发的] aux impacts environnementaux du numérique.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3bp3h6d1p7u0.png" alt="yaimage" /></p>
<h3 id="numérique-et-prise-de-conscience意识-écologique生态-petite-histoire"><a class="markdownIt-Anchor" href="#numérique-et-prise-de-conscience意识-écologique生态-petite-histoire"></a> Numérique et prise de conscience[意识] écologique[生态] : petite histoire</h3>
<p>建模等计算方式更好的模拟和预测环境，并给出更好的解决方法</p>
<p>IPCC悖论：数字化越成功，发现的问题就越多？观察的越多，</p>
<p>环境足迹</p>
<p>数字化没有成功转型，只是在叠加[使用电子设备的同时也没有减少对树木的砍伐，石油的使用]</p>
<h4 id="fiche-concept-概念表"><a class="markdownIt-Anchor" href="#fiche-concept-概念表"></a> Fiche concept: 概念表</h4>
<p>数字不虚拟，有物理现实：光纤电缆</p>
<p>终端、云计算与数据中心[关于网络的另一端]–&gt;数据中心对环境的影响：2015 年，数字占全球温室气体排放量的 4%，而航空占 2.5%。在这 4% 中，有 25% 与数据中心相关联。数据中心的用电量约占全球用电量的 3%。</p>
<p>建模、数值模拟与环境</p>
<h3 id="quels-indicateurs指标-pour-évaluer-lempreinte足迹-numérique"><a class="markdownIt-Anchor" href="#quels-indicateurs指标-pour-évaluer-lempreinte足迹-numérique"></a> Quels indicateurs[指标] pour évaluer l’empreinte[足迹] numérique ?</h3>
<ol>
<li>L’effet de serre[温室效应] provoque le réchauffement[变暖] de la plantet–&gt;OUI，没有的话地球在15°左右</li>
<li>Les activités humaines produisent-elles des gaz a effet de serre?–&gt;OUI</li>
<li>Afin de comparer les effets sur le réchauffement global des différents gaz a effet de serre, les scientifiques ont choisi un gaz de référence. Lequel?–&gt;CO2</li>
<li>A ce jour, quel est approximativement le réchauffement global généré par les activités humaines depuis la révolution industrielle[1850-1900]?–&gt;+1°C，每10年+0.2°C</li>
<li>Si ces émissions continuent a la vitesse actuelle, quand atteindrons-nous un réchauffement de +1.5°C depuis le début de la révolution industrielle?–&gt;2030到2052</li>
<li>Quelle est la consommation électrique mondiale liée aux usages numériques?–&gt;10%,每年增加6%，每12年翻一番</li>
</ol>
<h4 id="fiche-concept"><a class="markdownIt-Anchor" href="#fiche-concept"></a> Fiche concept:</h4>
<p><strong>Indicateur</strong>: est la traduction chiffrée d’un phénomène ou d’un concept.</p>
<p><strong>Indicateurs environnementaux</strong>: Les indicateurs peuvent être classés en fonction de l’enjeu écologique auquel ils correspondent. Par exemple le ministère de l’écologie a sélectionné 22 indicateurs essentiels pour suivre 4 enjeux écologiques majeurs : le changement climatique, la perte de biodiversité, la raréfaction des ressources et la multiplication des risques sanitaires environnementaux</p>
<p>生态部选择了 22 项基本指标来监测 4 大生态挑战：气候变化、生物多样性丧失、资源稀缺和环境健康风险倍增</p>
<p><strong>Deux indicateurs environnementaux simples</strong>: Émissions de gaz à effet de serre et Empreinte en eau</p>
<p>Un exemple d’indicateur environnemental synthétique : l’Empreinte Écologique (EE)</p>
<p>以国家为单位计算，生产+进口-出口</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.21m9ugsu8x6o.png" alt="yaimage" /></p>
<p>数字设备：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2oqalgwh12e0.png" alt="yaimage" /></p>
<p><strong>L’empreinte environnementale du numérique mondial</strong>[数字环境足迹]：2019全球340亿台设备, 2.23亿吨。法国：6.31亿台设备，700万吨，数字消费占法国电力的8.3%</p>
<h3 id="eco-avertis-lire-et-questionner-les-indicateurs"><a class="markdownIt-Anchor" href="#eco-avertis-lire-et-questionner-les-indicateurs"></a> Eco-avertis : Lire et questionner les indicateurs</h3>
<h4 id="êtes-vous-victime-du-biais-exponentiel指数偏差"><a class="markdownIt-Anchor" href="#êtes-vous-victime-du-biais-exponentiel指数偏差"></a> Êtes-vous victime du biais exponentiel[指数偏差]?</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3udsw92u0vk0.png" alt="yaimage" /></p>
<h5 id="quel-lien-peut-on-faire-entre-performance-environnementale-et-usage-dinternet"><a class="markdownIt-Anchor" href="#quel-lien-peut-on-faire-entre-performance-environnementale-et-usage-dinternet"></a> Quel lien peut-on faire entre performance environnementale et usage d’Internet ?</h5>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.23u0ezcwiwm.png" alt="yaimage" /></p>
<p>横坐标：互联网使用人口，纵坐标：碳足迹</p>
<h4 id="la-sobriété-numérique数字清醒"><a class="markdownIt-Anchor" href="#la-sobriété-numérique数字清醒"></a> La sobriété numérique[数字清醒]</h4>
<p><strong>La sobriété</strong> consiste à faire décroître voire disparaître des usages, des valeurs ou des comportements. Elle ne nécessite pas le développement de nouvelles techniques ou technologies. Elle se rapporte au suffisant relativement aux besoins et aux enjeux d’équilibre écologique et d’équité. On pourrait parler de « faire moins avec moins ».</p>
<p>减少甚至消除用途、价值观或行为。它不需要开发新技术或新技术。它涉及与生态平衡和公平的需求和问题有关的充分条件。我们可以谈论“事半功倍”。</p>
<h3 id="conclusion"><a class="markdownIt-Anchor" href="#conclusion"></a> Conclusion</h3>
<p>全球变暖，环境衡量指标，数字行业的增长极其负面影响</p>
<h2 id="partie2-des-équipements-non-renouvelables"><a class="markdownIt-Anchor" href="#partie2-des-équipements-non-renouvelables"></a> Partie2: Des équipements non renouvelables</h2>
<p>数字化的背后的设备是不可再生的</p>
<p>Pour démarrer : Combien possédez-vous d’équipements connectés ?</p>
<h3 id="lempreinte-environnementale-des-équipements-numériques"><a class="markdownIt-Anchor" href="#lempreinte-environnementale-des-équipements-numériques"></a> L’empreinte environnementale des équipements numériques</h3>
<p><strong>Vie et mort d’un smartphone</strong>：手机制造需要贵金属，开采和制造手机会污染水土流失污染环境，废弃手机不可回收再次造成污染</p>
<p>Cycle de vie d’un smartphone</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.37ptxknpqj80.png" alt="yaimage" /></p>
<p>对环境污染的排序：Production &gt; Usage[电力消耗] &gt; Transport &gt; Traitement de fin de vie</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.44d3iroe17s0.png" alt="yaimage" /></p>
<h4 id="fiche-concept-2"><a class="markdownIt-Anchor" href="#fiche-concept-2"></a> Fiche concept</h4>
<p><strong>ACV</strong>: analyse de cycle de vie,  est une méthode d’<strong>évaluation quantifiée des impacts environnementaux</strong> d’un produit (qui peut être un bien ou un service). 具有多标准和多步骤的特点：</p>
<ul>
<li><strong>Multicritère</strong> : différentes catégories d’impacts environnementaux sont étudiées (potentiel de réchauffement climatique, épuisement des ressources abiotiques, création d’ozone photochimique, pollution de l’eau, de l’air, des sols, toxicité humaine, perte de biodiversité…). Ces impacts relèvent de différentes échelles spatiales (du local au global) et temporelles (du court terme au long terme).</li>
<li><strong>Multi-étapes</strong> : les différentes phases du cycle de vie sont prises en compte (extraction des matières premières, fabrication, transport, usage, fin de vie). 分下面4个主要步骤进行：
<ol>
<li>Objectifs et champ de l’étude：研究的目标和研究结果的用途</li>
<li>Inventaire du cycle de vie：核心，分解特定功能单元生命周期中涉及的生产、转换或者消费阶段。</li>
<li>Évaluation des impacts environnementaux</li>
<li>Interprétation et mise en forme des résultats</li>
</ol>
</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.cvs594ikem8.png" alt="yaimage" /></p>
<h3 id="pourrons-nous-continuer-longtemps-à-fabriquer-des-équipements-informatiques"><a class="markdownIt-Anchor" href="#pourrons-nous-continuer-longtemps-à-fabriquer-des-équipements-informatiques"></a> Pourrons-nous continuer longtemps à fabriquer des équipements informatiques ?</h3>
<p>Mais fabriquer toujours plus se heurte aux limites de notre planète：不可再生资源，无限可回收的不现实[热力学第二定律和技术限制]</p>
<p>–&gt; si le numérique pèse sur l’épuisement des ressources ou si finalement 数字化会让资源枯竭吗</p>
<p>一些问题：</p>
<p>-Combien de smartphones ont été vendus dans le monde en 2019?–&gt;1.4 milliard d’unités.</p>
<p>-Combien y a-t-il d’éléments différents dans un smartphone?–&gt;plus de 50</p>
<p>-Ou t</p>
<p>-Pour quelles raisons utilise-t-on l’or[黄金] dans un smartphone?–&gt;Conductibilité, Ne rouille[生锈] pas</p>
<p>-Ou trouve-t-on du tantale dans un smartphone?–&gt;Dans les condensateurs[电容器].</p>
<p>-Pour quelles raisons utilise-t-on du tantale dans un smartphone?–&gt;Il est extrement résistant et il permet la miniaturisation</p>
<p>-Ou trouve-t-on de l’indium dans un smartphone?–&gt;Dans le film transparent[透明膜] qui recouvre l’écran.</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220909073101956.png" alt="image-20220909073101956" /></p>
<h4 id="fiche-conceptdeee"><a class="markdownIt-Anchor" href="#fiche-conceptdeee"></a> Fiche concept：DEEE</h4>
<p>Quels métaux dans les smartphones ? 稀土金属，集成电路需要半导体[硅]</p>
<p>DEEE：废物，废弃的电气和电子设备，它们包括来自使用电源插座、电池或蓄电池的设备的所有废物，以及它们的所有组件和与之相关的消耗品。</p>
<p>Depuis 2018 en France, les EEE sont classés en 7 catégories d’équipements (échanges thermiques, écrans, lampes, gros électroménager, petit électroménager, informatique) avec un objectif de traçage et de suivi.</p>
<p>法国将 EEE 分为 7 类设备（换热器、屏幕、灯具、大型家用电器、小型家用电器、IT）。</p>
<p>DEEE的处理：La prise en charge des équipements collectés mène à plusieurs voies possibles : la préparation à la réutilisation (environ 2% en France en 2019) ; le recyclage (environ 75%) ; la valorisation énergétique (environ 10%) ; l’élimination c’est-à-dire mise en décharge et enfouissement, ou incinération sans récupération d’énergie (environ 14%). 准备再利用（2019 年在法国约为 2%）；回收（约 75%）；能量回收（约 10%）；处置，即填埋和填埋，或没有能量回收的焚烧（约 14%）。</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220909074234061.png" alt="image-20220909074234061" /></p>
<p>实际上，只有 75% 的收集到的 WEEE 被注入到真正的 WEEE 回收系统中（这个数字根据设备的类型而变化很大）。考虑到法国的回收率（50%），这最终仅代表 WEEE 产生量的 38%（充其量）。回收的6个阶段：拆解，碎成小块，磁铁对铁元素进行电磁分离，光学分选分离电子卡，涡流分离有色金属，浮选或光学分离塑料。</p>
<p>限制：回收率低，回收的过程耗费能量，危害环境</p>
<h4 id="éco-consommateur-recycler-nest-pas-gagner"><a class="markdownIt-Anchor" href="#éco-consommateur-recycler-nest-pas-gagner"></a> Éco-consommateur : Recycler n’est pas gagner !</h4>
<p>[未完]</p>
<h2 id="partie3-des-services-numériques-très-matériels"><a class="markdownIt-Anchor" href="#partie3-des-services-numériques-très-matériels"></a> Partie3: Des services numériques très matériels</h2>
<p>除了数字设备对环境的影响外，数字服务对环境也会造成影响</p>
<p>数字服务：services numériques ，包括nos applications, logiciels de messagerie, interface de streaming</p>
<h3 id="quelle-est-la-part-du-numérique-qui-a-le-plus-dimpact-environnemental"><a class="markdownIt-Anchor" href="#quelle-est-la-part-du-numérique-qui-a-le-plus-dimpact-environnemental"></a> Quelle est la part du numérique qui a le plus d’impact environnemental ?</h3>
<p>Communication numérique: Le déploiement d’internet et des réseaux télécoms est à l’origine de nouveaux modes de communication. La communication virtuelle est l’un des services les plus répandus. En quelques clics, nous pouvons faire passer des messages quasi instantanément à l’autre bout du monde.</p>
<p>数字通信：互联网和电信网络的部署导致了新的通信模式。虚拟通信是最广泛的服务之一。只需点击几下，我们就可以几乎立即向世界的另一端发送信息。</p>
<p>petite sondage：</p>
<p>-Combien de mails recevez-vous en moyenne par jour?–&gt;Une personne reçoit en moyenne 39 mails par jour, avant d’arriver dans votre boîte mail, le mail parcourt en moyenne 1500km</p>
<p>-Mais nous sommes loin d’être seuls sur la planète. Selon vous, combien de mails transitent par minute dans le monde?–&gt;190 millions</p>
<p>Toujours plus d’outils de communication: Dans les années 90, le SMS était limité à 160 caractères et le mail était envoyé uniquement depuis un ordinateur. 30 ans après, nos modes de communication ont bien changé. Nous avons multiplié nos outils et nous sommes passés de quelques caractères écrits à des centaines de photos et de vidéos envoyées quasi instantanément depuis nos mobiles. Alors, tout cela est-il virtuel? Cela n’q t’il pas d’impacts? Pas si simple…</p>
<p>越来越多的通信工具：在20世纪90年代，短信被限制在160个字符以内，电子邮件只能从电脑上发送。30年后，我们的沟通方式已经改变。我们的工具成倍增加，从几个书面字符到几百张照片和视频，几乎瞬间从我们的手机上发送。那么，这一切都是虚拟的吗？它没有影响吗？没有那么简单…</p>
<p>看到这里也并没有对标题[对环境影响最大的数字化部分是什么]做出回答嘛</p>
<h3 id="les-services-numériques-sont-ils-virtuels"><a class="markdownIt-Anchor" href="#les-services-numériques-sont-ils-virtuels"></a> Les services numériques sont-ils virtuels ?</h3>
<p>应用程序：在云服务器无法自己运行，背后一个完整的生态系统，包括一系列基础设施建设[电话，电缆，无线网络，手机信号塔，数据中心]</p>
<p>数字服务背后的一切：硬件；网络：海底电缆，光纤，路由器；数据中心：机器外处理，消耗电力，发热，发电机，备用电池；</p>
<p>数据越多，基础设施越多，基础设施越多，数据越多。</p>
<p>自动播放。占据。</p>
<h4 id="le-voyage-dun-mail"><a class="markdownIt-Anchor" href="#le-voyage-dun-mail"></a> Le voyage d’un mail</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.35oa1e1ckxo0.png" alt="yaimage" /></p>
<p>Ce n’est pas magique, c’est technologique!<br />
L’envoi d’un mail nécessite une infrastructure[基础设施] complexe qui dépend des terminaux utilisés, des services de messagerie employés aussi bien par l’émetteur[发射器] que par le récepteur.<br />
Ici le schéma technologique est relativement simple. Mais si Bob avait mis en copie une dizaine d’amis, c’est comme si 10 messages étaient partis individuellement : chaque message va transiter par son propre serveur de réception, vers un récepteur différent. De quoi augmenter rapidement la complexité du schéma ! Idem pour les pièces jointes qui seront stockées autant de fois que nécessaire !<br />
Bref, même si tout cela se produit en seulement quelques secondes !<br />
Ce n’est pas magique !</p>
<h4 id="fiche-concept-quest-ce-quun-service-numérique"><a class="markdownIt-Anchor" href="#fiche-concept-quest-ce-quun-service-numérique"></a> Fiche concept: Qu’est-ce qu’un service numérique?</h4>
<p>Le service numérique désigne l’ensemble des ressources humaines, logicielles et matérielles nécessaire à la mise à disposition d’un service.</p>
<p>数字服务指定提供服务所需的所有人力、软件和物质资源。例如，提供电子邮件服务、在 Youtube 上观看视频、高性能计算的实现、加密货币金融交易的实现、网页的显示……行业标准ITU L. 1410将数字服务引入为使用数字设备和/或电信网络为一个或多个用户提供价值。</p>
<p>Ainsi, le service numérique est constitué d’un ensemble de logiciels, matériels, réseaux et infrastructures, et d’autres services numériques opérés par des acteurs.</p>
<p>因此，数字服务由一组软件、硬件、网络和基础设施以及由各种参与者（人力资源）（出版商、设计师、架构师、网络和服务运营商、互联网接入供应商、用户、 ETC）。这种通过数字服务进行的衔接使得满足一个或多个需求成为可能。</p>
<p>数字服务不是软件，由一组人力、材料和软件资源组成.</p>
<p>**Le cycle de vie d’un service numérique: **设计–&gt;生产–&gt;部署–&gt;使用–&gt;维护–&gt;报废</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4b6rk3g5iu00.png" alt="yaimage" /></p>
<p>**Les acteurs engagés dans le déploiement d’un service numérique: ** 用户，服务操作者，开发，架构，主机，网络运营商</p>
<h4 id="comment-et-pourquoi-accumule-t-on-autant-de-données"><a class="markdownIt-Anchor" href="#comment-et-pourquoi-accumule-t-on-autant-de-données"></a> Comment et pourquoi accumule-t-on autant de données ?</h4>
<p>数据的堆积：人类产生的 90% 的数据将在过去 2 年中产生，90% 的存储数据将无用。例如，假设每辆自动驾驶汽车每天为大约 1 小时 30 天的流量收集 4TB 的数据（即使只有一部分通过网络）。世界上有数百亿个连接对象也在捕获和传输数据, 传输和存储所有这些信息对环境的影响并非微不足道。数据增长需要处理、格式化、集中和共享，这既耗时又耗资源。</p>
<p>以照片为例：分享照片被上传至云端，但云端处理需要存储成本。</p>
<h4 id="quelle-est-lempreinte-environnementale-dun-service-numérique"><a class="markdownIt-Anchor" href="#quelle-est-lempreinte-environnementale-dun-service-numérique"></a> Quelle est l’empreinte environnementale d’un service numérique ?</h4>
<p>Dans cette activité, nous vous proposons d’analyser l’empreinte environnementale d’une navigation web et de matérialiser<br />
l’impact des différentes fonctionnalités proposées : lecture d’article, de vidéo, de présentation interactive.<br />
Pour effectuer cette activité, nous avons choisi l’outil Carbonalyser qui permet de visualiser la consommation électrique et les émissions de gaz à effet de serre associées à votre navigation internet. Il en existe d’autres.<br />
Attention les hypothèses et données de base ne permettent pas de se baser sur cet outil pour mesurer finement les émissions deg eq C02 liées à votre navigation. Le résultat n’est donc pas à prendre comme une mesure. Par contre, cet outil vous<br />
permettra d’évaluer la différence relative d’impacts de sites web différents.<br />
Vous allez pour cela installer une extension sur votre navigateur, puis nous vous guiderons pour naviguer dans le web avant d’analyser les résultats de Carbonalyser. Cette application ne fonctionne que sur Firefox.</p>
<p>用火狐浏览器的拓展工具Carbonalyser分析浏览网页不同功能(文章，视频，交互)时的电力消耗和温室气体排放的比较。</p>
<p>问的一些问题：</p>
<p>-Dans l’article Comment marche internet à quoi est comparé le navigateur[浏览器]？–&gt;voiture</p>
<p>**Comment marche internet: **Internet 和 Web是不一样的。Internet相当于公路网，Web相当于商店。</p>
<p>-Dans la [vidéo][<a href="https://www.youtube.com/watch?v=GqD6AiaRo3U&amp;list=PLWvGMqXvyJAPvxp2IPUAbKmr_ULtR8Nbh&amp;index=4">https://www.youtube.com/watch?v=GqD6AiaRo3U&amp;list=PLWvGMqXvyJAPvxp2IPUAbKmr_ULtR8Nbh&amp;index=4</a>] comment accède-t-on au site <a href="http://www.ilovepigeon.com">www.ilovepigeon.com</a> ?–&gt;un moteur de recherche.</p>
<p>网站的知识:</p>
<p>web: 信息的集合，由数10亿个衔接文件组成。Le web c’est un réseau d’informations</p>
<p>Internet: C’est le réseau informatique qui permet de les transporter.</p>
<p>Site: C’est un ensemble de pages contenant de l’information. 也叫site web.</p>
<p>文档储存在Web服务器上，客户端和服务器通过 Web 进行通信，根据 HTTP 协议</p>
<ul>
<li></li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4g5a3ugwdv60.png" alt="yaimage" /></p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>INDUR</category>
      </categories>
  </entry>
  <entry>
    <title>LeetCode</title>
    <url>/2022/08/31/LeetCode-Pyhton/</url>
    <content><![CDATA[<h1 id="leetcode"><a class="markdownIt-Anchor" href="#leetcode"></a> LeetCode</h1>
<p>冲冲冲！</p>
<span id="more"></span>
<h1 id="13-roman-to-integer"><a class="markdownIt-Anchor" href="#13-roman-to-integer"></a> 13. Roman to Integer</h1>
<p>8.31</p>
<p>罗马数字(str)转数字(int)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">romanToInt</span>(<span class="params">self, s</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        dit = &#123;<span class="string">&#x27;I&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;IV&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;V&#x27;</span>:<span class="number">5</span>,<span class="string">&#x27;IX&#x27;</span>:<span class="number">9</span>,<span class="string">&#x27;X&#x27;</span>:<span class="number">10</span>,<span class="string">&#x27;XL&#x27;</span>:<span class="number">40</span>,<span class="string">&#x27;L&#x27;</span>:<span class="number">50</span>,<span class="string">&#x27;XC&#x27;</span>:<span class="number">90</span>,<span class="string">&#x27;C&#x27;</span>:<span class="number">100</span>,<span class="string">&#x27;CD&#x27;</span>:<span class="number">400</span>,<span class="string">&#x27;D&#x27;</span>:<span class="number">500</span>,<span class="string">&#x27;CM&#x27;</span>:<span class="number">900</span>,<span class="string">&#x27;M&#x27;</span>:<span class="number">1000</span>,<span class="string">&#x27;&quot;&#x27;</span>:<span class="number">0</span>&#125;</span><br><span class="line">        keys = dit.keys()</span><br><span class="line">        a = <span class="built_in">list</span>(s)</span><br><span class="line">        <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(a)-<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&#x27;&#x27;</span>.join([a[i],a[i+<span class="number">1</span>]]) <span class="keyword">in</span> dit):</span><br><span class="line">                <span class="built_in">sum</span> += dit[<span class="string">&#x27;&#x27;</span>.join([a[i],a[i+<span class="number">1</span>]])]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">sum</span> += dit[a[i]]</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i == <span class="built_in">len</span>(a)-<span class="number">1</span>:</span><br><span class="line">            <span class="built_in">sum</span> += dit[a[i]]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>
<p>输入输出搞半天，但python真的快乐！（已经不想去去想C++怎么写了</p>
<p>今日python小收获：获取字典所有的键值：dit.keys(),根据键值查字典的value:<code>dit[key]</code></p>
<h1 id="9-palindrome-number"><a class="markdownIt-Anchor" href="#9-palindrome-number"></a> 9. Palindrome Number</h1>
<p>9.1</p>
<p>数字回文判断</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isPalindrome</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        x = <span class="built_in">list</span>(<span class="built_in">str</span>(x))</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span>*i) &lt; (<span class="built_in">len</span>(x)+<span class="number">1</span>) :</span><br><span class="line">            <span class="keyword">if</span> x[i] != x[-(i+<span class="number">1</span>)]:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>  </span><br></pre></td></tr></table></figure>
<h1 id="20valid-parentheses"><a class="markdownIt-Anchor" href="#20valid-parentheses"></a> 20.Valid Parentheses</h1>
<p>9.2</p>
<p>符号判断</p>
<p>用stack思想实现的，左边入栈，遇到右边与栈顶匹配，匹配成功栈顶弹出，否则返回false</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isValid</span>(<span class="params">self, s</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">dict</span> = &#123;<span class="string">&#x27;(&#x27;</span>:<span class="string">&#x27;)&#x27;</span>,<span class="string">&#x27;[&#x27;</span>:<span class="string">&#x27;]&#x27;</span>,<span class="string">&#x27;&#123;&#x27;</span>:<span class="string">&#x27;&#125;&#x27;</span>&#125;</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> item == <span class="string">&#x27;&quot;&#x27;</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">elif</span> item <span class="keyword">in</span> <span class="built_in">dict</span>:</span><br><span class="line">                res.append(item)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">len</span>(res) <span class="keyword">and</span> <span class="built_in">dict</span>[res[-<span class="number">1</span>]] == item):</span><br><span class="line">                    <span class="keyword">del</span> res[-<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">else</span> :</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> res == []</span><br></pre></td></tr></table></figure>
<p>如果大概没有记错的话，这就是去年algo的期末考试题（靓女流泪）</p>
<p>补一个C++版！</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">pipei</span><span class="params">(<span class="type">char</span> a, <span class="type">char</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="string">&#x27;(&#x27;</span> &amp;&amp; b == <span class="string">&#x27;)&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="string">&#x27;[&#x27;</span> &amp;&amp; b == <span class="string">&#x27;]&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="string">&#x27;&#123;&#x27;</span> &amp;&amp; b == <span class="string">&#x27;&#125;&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="type">int</span> length = s.<span class="built_in">size</span>();</span><br><span class="line">    stack&lt;<span class="type">char</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">&#x27;(&#x27;</span> || s[i] == <span class="string">&#x27;[&#x27;</span> || s[i] == <span class="string">&#x27;&#123;&#x27;</span>) res.<span class="built_in">push</span>(s[i]);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(res.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">pipei</span>(res.<span class="built_in">top</span>(),s[i])) res.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> res.<span class="built_in">empty</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="1143-longest-common-subsequence"><a class="markdownIt-Anchor" href="#1143-longest-common-subsequence"></a> 1143. Longest Common Subsequence</h1>
<p>9.6</p>
<p>两个字符串的最长公共子序列–&gt;经典动态规划问题</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya6de52e01c7c6d5dd4b2c29d7d7ed52d.2k9sq87crfw0.jpg" alt="ya6de52e01c7c6d5dd4b2c29d7d7ed52d" /></p>
<p>C++</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> A[<span class="number">1001</span>][<span class="number">1001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">longestCommonSubsequence</span><span class="params">(string s1, string s2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> LenS1 = s1.<span class="built_in">size</span>(),LenS2 = s2.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;LenS1+<span class="number">1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;LenS2+<span class="number">1</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s1[i] == s2[j]) A[i+<span class="number">1</span>][j+<span class="number">1</span>] = A[i][j] +<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                A[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="built_in">max</span>(A[i][j+<span class="number">1</span>],A[i+<span class="number">1</span>][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> A[LenS1][LenS2];   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Python</p>
<p>评论区抄的</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">longestCommonSub</span>(<span class="params">s1,s2</span>):</span><br><span class="line">    A = [[<span class="number">0</span>] * (<span class="built_in">len</span>(s2) + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s1) + <span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">for</span> i,c <span class="keyword">in</span> <span class="built_in">enumerate</span>(s1):</span><br><span class="line">        <span class="keyword">for</span> j,d <span class="keyword">in</span> <span class="built_in">enumerate</span>(s2):</span><br><span class="line">            <span class="keyword">if</span>(c == d):</span><br><span class="line">                A[i+<span class="number">1</span>][j+<span class="number">1</span>] = A[i][j] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                A[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="built_in">max</span>(A[i][j+<span class="number">1</span>],A[i+<span class="number">1</span>][j])</span><br><span class="line">    <span class="keyword">return</span> A[-<span class="number">1</span>][-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>就是如果一旦引入numpy的zeros那个来定义A的话时间复杂度会蹭蹭蹭的上去很多</p>
<p>然后今日python小技巧：</p>
<ol>
<li>
<p>enumerate()函数</p>
<p>用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">seasons = [<span class="string">&#x27;Spring&#x27;</span>, <span class="string">&#x27;Summer&#x27;</span>, <span class="string">&#x27;Fall&#x27;</span>, <span class="string">&#x27;Winter&#x27;</span>]</span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">enumerate</span>(seasons))</span><br><span class="line">输出：[(<span class="number">0</span>, <span class="string">&#x27;Spring&#x27;</span>), (<span class="number">1</span>, <span class="string">&#x27;Summer&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;Fall&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;Winter&#x27;</span>)]</span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">enumerate</span>(seasons, start=<span class="number">1</span>))   <span class="comment"># 下标从 1 开始</span></span><br><span class="line">输出：[(<span class="number">1</span>, <span class="string">&#x27;Spring&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;Summer&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;Fall&#x27;</span>), (<span class="number">4</span>, <span class="string">&#x27;Winter&#x27;</span>)]</span><br></pre></td></tr></table></figure>
<p>常用在这道题这种的循环里面</p>
</li>
<li>
<p>python中的二维数组</p>
</li>
</ol>
<p>-引入numpy</p>
<p><code>A = np.zeros((m, n), dtype=np.int)</code></p>
<p>-列表</p>
<p><code>A = [[0 for i in range(m)] for j in range(n)]</code></p>
<h1 id="14-longest-common-prefix"><a class="markdownIt-Anchor" href="#14-longest-common-prefix"></a> 14. Longest Common Prefix</h1>
<p>9.7</p>
<p>最长公共前缀</p>
<p>就硬遍历</p>
<p>c++</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">string <span class="title">LCP</span><span class="params">(strs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string res=strs[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;strs.<span class="built_in">size</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="built_in">size</span>() &gt; strs[i].<span class="built_in">size</span>())  res = res.<span class="built_in">substr</span>(<span class="number">0</span>,strs[i].<span class="built_in">size</span>());<span class="comment">//注意这里考虑res比字符串长的情况</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;strs[i].<span class="built_in">size</span>();j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(res[j] != strs[i][j])<span class="comment">//C++自动处理越界了？--&gt;当j大于res时，res[j]直接是空</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(!j) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>; </span><br><span class="line">                res = res.<span class="built_in">substr</span>(<span class="number">0</span>,j);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>python</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">LCP</span>(<span class="params">strs</span>):</span><br><span class="line">    res = strs[<span class="number">0</span>]</span><br><span class="line">    strs = strs[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> res: <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> curr <span class="keyword">in</span> strs:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(res) &gt; <span class="built_in">len</span>(curr) :</span><br><span class="line">            res = res[:<span class="built_in">len</span>(curr)]</span><br><span class="line">        <span class="keyword">for</span> i,ch <span class="keyword">in</span> <span class="built_in">enumerate</span>(curr):</span><br><span class="line">            <span class="keyword">if</span> i &gt;= <span class="built_in">len</span>(res) : <span class="comment">#考虑i大于res长度的情况</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span>(res[i] != ch):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> i: <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">                res = res[:i]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<p>python小技巧：enumerate是先下标，再数字，start也不是说取后几个，而是下标从几开始排</p>
<p>突然觉得C++天下第一</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.59zitugq0ks0.png" alt="yaimage" /></p>
<h1 id="21-merge-two-sorted-lists"><a class="markdownIt-Anchor" href="#21-merge-two-sorted-lists"></a> 21. Merge Two Sorted Lists</h1>
<p>9.13</p>
<p>合并子串的问题</p>
<p>我写的辣鸡代码</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!list1) <span class="keyword">return</span> list2;</span><br><span class="line">    </span><br><span class="line">    ListNode *p2,*head,*p3,*p1,*p1_next;</span><br><span class="line">    p2 = list2;</span><br><span class="line">    head = list1;</span><br><span class="line">    p1 = head;</span><br><span class="line">    p1_next = p1-&gt;next;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(p2)</span><br><span class="line">    &#123;</span><br><span class="line">        p3 = p2-&gt;next;<span class="comment">//p3是为了保存L2下一节点继续进行遍历</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;val &gt; p2-&gt;val)</span><br><span class="line">        &#123;</span><br><span class="line">            p2-&gt;next = p1;</span><br><span class="line">            head = p2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(p1_next &amp;&amp; p1_next-&gt;val &lt; p2-&gt;val)</span><br><span class="line">            &#123;</span><br><span class="line">                p1 = p1-&gt;next;</span><br><span class="line">                p1_next = p1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!p1_next) </span><br><span class="line">            &#123;</span><br><span class="line">                p1-&gt;next=p2;</span><br><span class="line">                <span class="keyword">return</span> head;</span><br><span class="line">            &#125;</span><br><span class="line">            p2-&gt;next=p1_next;</span><br><span class="line">            p1-&gt;next=p2;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        p1 = p2;<span class="comment">//开始遍历的位置应该从这个被插入的点开始</span></span><br><span class="line">        p1_next = p1-&gt;next;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        p2 = p3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一些正确的解法</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//leetcode评论区</span></span><br><span class="line"><span class="comment">//递归</span></span><br><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    	<span class="comment">//递归终止条件</span></span><br><span class="line">    	<span class="keyword">if</span>(!l2 &amp;&amp; !l2) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(l1 == <span class="literal">NULL</span>) <span class="keyword">return</span> l2;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(l2 == <span class="literal">NULL</span>) <span class="keyword">return</span> l1;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(l1 -&gt; val &lt;= l2 -&gt; val)</span><br><span class="line">        	&#123;</span><br><span class="line">				l1 -&gt; next = <span class="built_in">mergeTwoLists</span>(l1 -&gt; next, l2);</span><br><span class="line">				<span class="keyword">return</span> l1;</span><br><span class="line">			&#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">        	&#123;</span><br><span class="line">				l2 -&gt; next = <span class="built_in">mergeTwoLists</span>(l1, l2 -&gt; next);</span><br><span class="line">				<span class="keyword">return</span> l2;            </span><br><span class="line">			&#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//非递归</span></span><br><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(list1 == <span class="literal">NULL</span>) <span class="keyword">return</span> list2;</span><br><span class="line">        <span class="keyword">if</span>(list2 == <span class="literal">NULL</span>) <span class="keyword">return</span> list1;</span><br><span class="line">        </span><br><span class="line">        ListNode * head = list1;</span><br><span class="line">        <span class="keyword">if</span>(list1 -&gt; val &gt; list2 -&gt; val)</span><br><span class="line">        &#123;</span><br><span class="line">            head = list2;</span><br><span class="line">            list2 = list2 -&gt; next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            list1 = list1 -&gt; next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *curr = head;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(list1 &amp;&amp; list2)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(list1 -&gt; val &lt; list2 -&gt; val)</span><br><span class="line">            &#123;</span><br><span class="line">                curr-&gt;next = list1;</span><br><span class="line">                list1 = list1 -&gt; next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                curr-&gt;next = list2;</span><br><span class="line">                list2 = list2 -&gt; next;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr -&gt; next;    </span><br><span class="line">        &#125;<span class="comment">//确实确实，一个head不动，一个curr始终指向当前遍历的位置来回横跳就行了的呜呜呜</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 处理余下的部分</span></span><br><span class="line">        <span class="keyword">if</span>(!list1) curr -&gt; next = list2;</span><br><span class="line">        <span class="keyword">else</span> curr -&gt; next = list1;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>python:</p>
<p>直接摆</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">list1, list2</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> list1: <span class="keyword">return</span> list2</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> list2: <span class="keyword">return</span> list1</span><br><span class="line"></span><br><span class="line">    head = list1</span><br><span class="line">    <span class="keyword">if</span>(list1.val &gt; list2.val):</span><br><span class="line">        head = list2</span><br><span class="line">        list2=list2.<span class="built_in">next</span></span><br><span class="line">    <span class="keyword">else</span>: list1=list1.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">    curr = head</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> list1 <span class="keyword">and</span> list2:</span><br><span class="line">        <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">            curr.<span class="built_in">next</span>=list1</span><br><span class="line">            list1=list1.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            curr.<span class="built_in">next</span>=list2</span><br><span class="line">            list2=list2.<span class="built_in">next</span></span><br><span class="line">        curr = curr.<span class="built_in">next</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> list1: curr.<span class="built_in">next</span>=list2</span><br><span class="line">    <span class="keyword">else</span> : curr.<span class="built_in">next</span>=list1</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head</span><br><span class="line"><span class="comment">#评论区</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1: <span class="type">Optional</span>[ListNode], list2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="comment">#感觉思想差不多，但写法很python就是</span></span><br><span class="line">        cur = dummy = ListNode()<span class="comment">#就，后续操作只改变cur不改变dummy</span></span><br><span class="line">        <span class="keyword">while</span> list1 <span class="keyword">and</span> list2:               </span><br><span class="line">            <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">                cur.<span class="built_in">next</span> = list1</span><br><span class="line">                list1, cur = list1.<span class="built_in">next</span>, list1 <span class="comment">#注意这里藏着cur的递归</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                cur.<span class="built_in">next</span> = list2</span><br><span class="line">                list2, cur = list2.<span class="built_in">next</span>, list2</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">if</span> list1 <span class="keyword">or</span> list2:</span><br><span class="line">            cur.<span class="built_in">next</span> = list1 <span class="keyword">if</span> list1 <span class="keyword">else</span> list2</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> dummy.<span class="built_in">next</span></span><br></pre></td></tr></table></figure>
<h1 id="56merge-intervals"><a class="markdownIt-Anchor" href="#56merge-intervals"></a> 56.Merge Intervals</h1>
<p>合并重叠部分的区间</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220917131800217.png" alt="image-20220917131800217" /></p>
<p>思路：</p>
<p>将原序列按起始坐标排序，然后把第一个加入结果集，遍历后续区间，如果重叠就更新，不重叠便直接加</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge_</span>(<span class="params">intervals</span>):</span><br><span class="line">    out = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">sorted</span>(intervals, key=<span class="keyword">lambda</span> i: i[<span class="number">0</span>]):<span class="comment">#按起始坐标进行排序</span></span><br><span class="line">        <span class="keyword">if</span> out <span class="keyword">and</span> i[<span class="number">0</span>] &lt;= out[-<span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">            <span class="built_in">print</span>(i[<span class="number">0</span>])</span><br><span class="line">            <span class="built_in">print</span>(out[-<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line">            out[-<span class="number">1</span>][<span class="number">1</span>] = <span class="built_in">max</span>(out[-<span class="number">1</span>][<span class="number">1</span>], i[<span class="number">1</span>])<span class="comment">#处理重叠</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(i[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">if</span> out: <span class="built_in">print</span>(out[-<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line">            out.append(i)<span class="comment">#不重叠添加进去</span></span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">intervals = [[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">5</span>,<span class="number">7</span>]]</span><br><span class="line"><span class="built_in">print</span>(merge_(intervals))</span><br></pre></td></tr></table></figure>
<h1 id="704-binary-search"><a class="markdownIt-Anchor" href="#704-binary-search"></a> 704. Binary Search</h1>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#递归</span></span><br><span class="line">find = <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">nums,target</span>):</span><br><span class="line">    <span class="keyword">global</span> find</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">        find = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    mid = <span class="built_in">len</span>(nums)//<span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> target &gt; nums[mid]:</span><br><span class="line">        <span class="keyword">return</span> mid+<span class="number">1</span>+search(nums[mid+<span class="number">1</span>:],target)</span><br><span class="line">    <span class="keyword">elif</span> target &lt; nums[mid]:</span><br><span class="line">        <span class="keyword">return</span> search(nums[:mid],target)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> mid   </span><br><span class="line"><span class="comment">#非递归</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search_</span>(<span class="params">nums, target</span>):</span><br><span class="line">        d = <span class="number">0</span></span><br><span class="line">        f = <span class="built_in">len</span>(nums)-<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span>(d&lt;=f):</span><br><span class="line">            mid = (d+f)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span>(target == nums[mid]):</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">elif</span> target &gt; nums[mid]:</span><br><span class="line">                d = mid+<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: f = mid-<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>总有地上的菜鸡，敢于直面大佬的开源</p>
]]></content>
      <categories>
        <category>学习区</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>MATHS-TP1</title>
    <url>/2022/02/22/MATH-TP1/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>MATHS_TP1: Initiation Matlab – Equation de la chaleur 1D</p>
<span id="more"></span>
<h1 id="initiation"><a class="markdownIt-Anchor" href="#initiation"></a> Initiation</h1>
<p>注释：%</p>
<p>显示：disp、fprintf</p>
<p>vecteur: x = [x1,x2……,xn] %空格或者逗号都可以；vecteur colonne</p>
<p>冒号：5：-1：1 %表示5到1以-1为间隔的vecteur</p>
<p>linspace：是Matlab中的均分计算指令，用于产生x1,x2之间的N点行线性的矢量。其中x1、x2、N分别为起始值、终止值、元素个数。若默认N，默认点数为100</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>MATHS</category>
      </categories>
      <tags>
        <tag>MATLAB</tag>
      </tags>
  </entry>
  <entry>
    <title>MVDNet</title>
    <url>/2022/05/20/MVDNet/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>记录第一次看论文与第一次独立运行深度学习代码~</p>
<span id="more"></span>
<h1 id="读论文"><a class="markdownIt-Anchor" href="#读论文"></a> 读论文</h1>
<p>脉络梳理于XMind中</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image.webp" alt="img" /></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/xxx.webp" alt="img" /></p>
<h2 id="cnn概述"><a class="markdownIt-Anchor" href="#cnn概述"></a> CNN概述</h2>
<p>对图像进行识别</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220729162318665.webp" alt="img" /></p>
<p>鲁棒性和抗干扰性都很强</p>
<h2 id="卷积"><a class="markdownIt-Anchor" href="#卷积"></a> 卷积</h2>
<p>卷积核/特征提取器：将图像拆分成对应的特点，查看被识别图像有无对应的卷积核来确认是否为目标物体。</p>
<p>卷积运算：用卷积核对原图像素（矩阵）进行扫描（点乘和），形成的新矩阵就叫特征图。特诊图的一些值(如行列式的值这种)能够反映与卷积核的相似度。比如：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220729163604395.webp" alt="img" /></p>
<h2 id="池化"><a class="markdownIt-Anchor" href="#池化"></a> 池化</h2>
<p>池化/下采样：多个卷积核(特征)会导致计算量增大，为解决这个问题提出的概念，本质是缩小特征图。池化方式有：最大池化（选择被扫描区域内的最大值）和平均池化（取被扫描区域内的平均值）</p>
<p>比如刚刚那个：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220729164423785.webp" alt="img" /></p>
<h1 id="跑项目"><a class="markdownIt-Anchor" href="#跑项目"></a> 跑项目</h1>
<p>不太顺利</p>
<p>项目地址：<a href="https://github.com/qiank10/MVDNet">https://github.com/qiank10/MVDNet</a></p>
<h2 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h2>
<p>anaconda+linux+python3.7+cuda11.0+pytorch1.7</p>
<h3 id="pytorch"><a class="markdownIt-Anchor" href="#pytorch"></a> Pytorch</h3>
<ol>
<li>
<p>创建环境：conda create -n MVDNet python=3.7</p>
</li>
<li>
<p>激活/进入：conda activate MVDNet</p>
</li>
<li>
<p>pytorch下载</p>
<p>1.查看cuda版本信息：nvcc --version或者nvidia-smi；</p>
<p>2.注意这里不能根据官网<a href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>  入口直接选择下载（如果正好是cuda10.2这种应该是ok的），不然后续不能配合cuda使用。</p>
<img src="https://raw.githubusercontent.com/nililili7876/blog_pic/main/img/image-20220520193341163.png" alt="img" style="zoom:50%;" />
<p>正确操作应该是到这里<a href="https://download.pytorch.org/whl/torch_stable.html">https://download.pytorch.org/whl/torch_stable.html</a> 去找对应的下载进行安装(pip install就可以)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220729214203795.webp" alt="img" /></p>
</li>
</ol>
<p>参数理解：cu110–&gt;cuda 11.0，torch版本自选，cp37–&gt;python3.7，后面就是win/linux了</p>
<ol start="4">
<li>
<p>检查</p>
<p>python–&gt;import torch–&gt;torch.cuda.is_available()</p>
</li>
</ol>
<h3 id="detectron2"><a class="markdownIt-Anchor" href="#detectron2"></a> Detectron2</h3>
<img src="https://raw.githubusercontent.com/nililili7876/blog_pic/main/img/image-20220520193706253.png" alt="img"  />
<h3 id="pycocotools"><a class="markdownIt-Anchor" href="#pycocotools"></a> Pycocotools</h3>
<p>挺好装的而且没啥幺蛾子</p>
<h2 id="数据准备"><a class="markdownIt-Anchor" href="#数据准备"></a> 数据准备</h2>
<ol>
<li>
<p>下载数据集：<a href="https://oxford-robotics-institute.github.io/radar-robotcar-dataset/%EF%BC%8C">https://oxford-robotics-institute.github.io/radar-robotcar-dataset/，</a> 用学校邮箱注册</p>
<p>可恨！等了一个月才回复，然后还在垃圾邮箱里面找不到了=_=</p>
<p>最后下载免费的数据集来后续操作的</p>
</li>
<li>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220729215307561.webp" alt="img" /></p>
</li>
</ol>
<p>在这里疯狂报错，主要是缺包和语法更新两个问题</p>
<ol>
<li>
<p>报错no module named scipy或者cv，装scipy和opencv库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install scipy</span><br><span class="line">pip install opencv-python </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>报错 AttributeError: ‘scipy.spatial.transform.rotation.Rotation’ object has no attribute ‘as_dcm’：要把所有的as_dcm改成as_matrix</p>
</li>
</ol>
<h2 id="训练"><a class="markdownIt-Anchor" href="#训练"></a> 训练</h2>
<ol>
<li>
<p>报错import，需要到detectron2执行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python setup.py build develop</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>报错“No such file or directory: ‘data/RobotCar/object/radar/1547122770869274.jpg’”：没解决</p>
</li>
</ol>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>武运昌隆</p>
]]></content>
      <categories>
        <category>学习区</category>
      </categories>
      <tags>
        <tag>模型融合</tag>
      </tags>
  </entry>
  <entry>
    <title>PAPY_CM1</title>
    <url>/2022/09/06/PAPY_CM1/</url>
    <content><![CDATA[<h1 id="papy_cm1"><a class="markdownIt-Anchor" href="#papy_cm1"></a> PAPY_CM1</h1>
<p>Lucas Lestandi</p>
<span id="more"></span>
<h2 id="introdution"><a class="markdownIt-Anchor" href="#introdution"></a> Introdution</h2>
<p>-mutiplateforme, langage interprété（解释） et interractif</p>
<p>-python robuste,la lisibilité et la maintenance, paquet pour la distribution sur d’autres machines y compris des dépendances</p>
<h2 id="plan"><a class="markdownIt-Anchor" href="#plan"></a> Plan</h2>
<p>1.python:安装环境啥的–&gt;2hCM+4hTP</p>
<p>2.数据结构：OPP,code robuste(architecture,introspection,exceptions)–&gt;2hCM+6hTP</p>
<p>3.avec modules:os,sys,subprocess,numpy,scipy,matplotlib,扩展包（conda或者pip）</p>
<p>4.看到个C++</p>
<h2 id="cm1"><a class="markdownIt-Anchor" href="#cm1"></a> CM1</h2>
<p>conda: python环境，anaconda划分python环境，miniconda</p>
<p>IDE：vscode</p>
<p>jupyter：mixe code, markdown et cellules “raw”</p>
<p>数据类型：complex表示复数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">all_paths = sys.path</span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> all_paths:</span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a</span>(<span class="params">string</span>):</span><br><span class="line">	longueur=()</span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		<span class="keyword">assert</span>(<span class="built_in">type</span>(string) <span class="keyword">is</span> <span class="built_in">str</span>)</span><br><span class="line">		longueur=<span class="built_in">len</span>(string)</span><br><span class="line">	<span class="keyword">except</span> Exception <span class="keyword">as</span> err:</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">f&quot;Unexpected <span class="subst">&#123;err=&#125;</span>,<span class="subst">&#123;<span class="built_in">type</span>(err)=&#125;</span>&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> longueur</span><br><span class="line"><span class="built_in">print</span>(a(all_paths[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>assert: 断言, 用于判断一个表达式，在表达式条件为false 的时候触发异常。 断言可以在条件不满足程序运行的情况下直接返回错误，而不必等待程序运行后出现崩溃的情况，例如我们的代码只能在Linux 系统下运行，可以先判断当前系统是否符合条件。</p>
<p>try…except结构：捕捉异常，更一般加else</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.sygde52vn00.png" alt="yaimage" /></p>
<p>函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">参数</span>):<span class="comment">#这里的参数*arg就是表示随意取几个</span></span><br><span class="line">	函数体<span class="comment">#不写的话加上pass占位</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PYTHON</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>PAPY_CM1</title>
    <url>/2022/10/29/PAPY_CMS/</url>
    <content><![CDATA[<h1 id="papy_cms"><a class="markdownIt-Anchor" href="#papy_cms"></a> PAPY_CMS</h1>
<p>期末复习做的xmind</p>
<span id="more"></span>
<h2 id="chap-2"><a class="markdownIt-Anchor" href="#chap-2"></a> CHAP 2</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaPython-Chapitre2.png" alt="yaPython-Chapitre2" /></p>
<h2 id="chap-3"><a class="markdownIt-Anchor" href="#chap-3"></a> CHAP 3</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaChapitre-3.png" alt="yaChapitre-3" /></p>
<h2 id="chap-4"><a class="markdownIt-Anchor" href="#chap-4"></a> CHAP 4</h2>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221029/yaChapitre-4.png" alt="yaChapitre-4" /></p>
<h2 id="突然感慨"><a class="markdownIt-Anchor" href="#突然感慨"></a> 突然感慨</h2>
<p>2个月的python有种的会了很多有啥的不会的感觉</p>
<p>祈祷不挂！</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PYTHON</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>DS</tag>
      </tags>
  </entry>
  <entry>
    <title>PAPY_CM1</title>
    <url>/2022/10/29/PAPY_TPS/</url>
    <content><![CDATA[<h1 id="papy_tps"><a class="markdownIt-Anchor" href="#papy_tps"></a> PAPY_TPS</h1>
<p>PAPY的实验不完全汇总</p>
<span id="more"></span>
<h2 id="tp1"><a class="markdownIt-Anchor" href="#tp1"></a> TP1</h2>
<h3 id="1-文件处理统计说的话删掉所有的e并将其写入新的文件"><a class="markdownIt-Anchor" href="#1-文件处理统计说的话删掉所有的e并将其写入新的文件"></a> 1. 文件处理：统计说的话，删掉所有的e并将其写入新的文件</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;fable.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">fable = f.read()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(fable))</span><br><span class="line"><span class="comment">#print(fable)</span></span><br><span class="line"></span><br><span class="line">nombre = fable.count(<span class="string">&quot;- &quot;</span>)/<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(nombre)</span><br><span class="line"></span><br><span class="line">fabl = fable.replace(<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;&#x27;</span>,fable.count(<span class="string">&quot;e&quot;</span>))</span><br><span class="line">f1 = <span class="built_in">open</span>(<span class="string">&quot;fabl.txt&quot;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f1.write(fabl)</span><br><span class="line">f1.close()</span><br><span class="line"></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h3 id="2-爬虫parseur"><a class="markdownIt-Anchor" href="#2-爬虫parseur"></a> 2. 爬虫[parseur]</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request <span class="keyword">as</span> eq</span><br><span class="line">url=<span class="string">&#x27;https://fr.wikipedia.org/wiki/Python_(langage)&#x27;</span><span class="comment">#抓取的网址</span></span><br><span class="line">file=eq.urlopen(url).read()<span class="comment">#读取信息</span></span><br><span class="line">path=<span class="built_in">open</span>(<span class="string">&#x27;site.html&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>)<span class="comment">#已写入二进制的方式创建文件</span></span><br><span class="line">path.write(file)<span class="comment">#写入爬下的信息</span></span><br><span class="line"><span class="built_in">print</span>(file)</span><br><span class="line">path.close()<span class="comment">#关闭文件</span></span><br></pre></td></tr></table></figure>
<h3 id="3-bonus"><a class="markdownIt-Anchor" href="#3-bonus"></a> 3. Bonus</h3>
<p>反向猜数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    goal = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;please input num:&quot;</span>))</span><br><span class="line">    num = random.randint(<span class="number">0</span>,<span class="number">100</span>)</span><br><span class="line">    bmin = <span class="number">0</span></span><br><span class="line">    bmax = <span class="number">100</span></span><br><span class="line">    <span class="keyword">while</span> goal != num :</span><br><span class="line">        <span class="built_in">print</span>(num)</span><br><span class="line">        <span class="keyword">if</span> bmin&gt;bmax:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        sym = <span class="built_in">input</span>(<span class="string">&quot;please input sym:&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> sym == <span class="string">&#x27;-&#x27;</span> : bmax = num-<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> sym == <span class="string">&#x27;+&#x27;</span>: bmin = num+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">pass</span></span><br><span class="line">        num = random.randint(bmin,bmax)</span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line">    <span class="keyword">if</span> goal == num : <span class="built_in">print</span>(<span class="string">&quot;won&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span> : <span class="built_in">print</span>(<span class="string">&quot;non&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="tp2"><a class="markdownIt-Anchor" href="#tp2"></a> TP2</h2>
<h3 id="1-listes-et-dictionnaires"><a class="markdownIt-Anchor" href="#1-listes-et-dictionnaires"></a> 1. Listes et dictionnaires</h3>
<p><strong>Exercice1 :</strong> Ecrire un script qui transforme une liste de dictionnaires en dictionnaire de liste. Propser 2 méthodes a) bloucle for et b) compréhension.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">res = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">    keys = item.keys()</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> keys:</span><br><span class="line">        <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> res : res[name]=[]<span class="comment">#初始化字典</span></span><br><span class="line">        res[name].append(item[name])<span class="comment">#往字典添加元素</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<p>但这个只能处理data[0]里面有所有key的情况</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(&#123;key: [i[key] <span class="keyword">for</span> i <span class="keyword">in</span> data] <span class="keyword">for</span> key <span class="keyword">in</span> data[<span class="number">0</span>]&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>Exercice2 :</strong> Ecrire un script qui renvoie les 10 mots les plus fréquents dans un texte avec la fréquence associée. L’appliquer à Zen of python (et en profiter pour lire le texte).</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;zen.txt&#x27;</span>,r)</span><br><span class="line">text = f.read()</span><br><span class="line">mots = text.split()</span><br><span class="line">res = &#123;&#125;</span><br><span class="line">sums = <span class="built_in">len</span>(mots)</span><br><span class="line"><span class="keyword">for</span> mot <span class="keyword">in</span> mots:</span><br><span class="line">    <span class="keyword">if</span> mot <span class="keyword">not</span> <span class="keyword">in</span> res.keys():</span><br><span class="line">        res[mot] = mots.count(mot)/sums</span><br><span class="line">trie = <span class="built_in">sorted</span>(res.items(), key=<span class="keyword">lambda</span> item: item[<span class="number">1</span>],reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Percentage share of each word : &quot;</span> )</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> trie[:<span class="number">10</span>]:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;item[<span class="number">0</span>]:20s&#125;</span>: <span class="subst">&#123;<span class="number">100</span>*item[<span class="number">1</span>]:<span class="number">.2</span>f&#125;</span>%&quot;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p><strong>Exercice 3:</strong> Ecrire une fonction qui calcule la moyenne d’un nombre inconnu d’arguments.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">avgfun</span>(<span class="params">*n:<span class="built_in">float</span></span>)-&gt;<span class="built_in">float</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Fonction qui calcule la moyenne d&#x27;un nombre inconnu d&#x27;arguments&quot;&quot;&quot;</span></span><br><span class="line">    sums = <span class="number">0</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> n:</span><br><span class="line">        sums = sums + t</span><br><span class="line"> </span><br><span class="line">    avg = sums / <span class="built_in">len</span>(n)</span><br><span class="line">    <span class="keyword">return</span> avg</span><br><span class="line">     </span><br><span class="line"><span class="comment"># Driver Code</span></span><br><span class="line">result1 = avgfun(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">result2 = avgfun(<span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Printing average of the list</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(result1, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(result2, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p><strong>Exercice 4:</strong> Ecrire une fonction <code>crier</code> qui transforme un str en majuscules, une seconde <code>chuchoter</code> qui transforme le str en minuscules et enfin une troisième <code>salutations</code> (d’ordre supérieur) qui prend en argument une fonction et l’applique à un texte pré-défini.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">crier</span>(<span class="params">text</span>): </span><br><span class="line">    <span class="keyword">return</span> text.upper() </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chuchoter</span>(<span class="params">text</span>): </span><br><span class="line">    <span class="keyword">return</span> text.lower() </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">salutations</span>(<span class="params">func</span>): </span><br><span class="line">    <span class="comment"># storing the function in a variable </span></span><br><span class="line">    greeting = func(<span class="string">&quot;Bonjour, je suis créé par une fonction passé en argument.&quot;</span>) </span><br><span class="line">    <span class="built_in">print</span>(greeting)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">salutations(crier) </span><br><span class="line">salutations(chuchoter) </span><br></pre></td></tr></table></figure>
<p><strong>Exercice 5 :</strong> Ecrire une fonction décorateur <code>log</code> qui prend en argument une fonction et en extrait le nom, les arguments (positionnels et par mot-clé) ainsi que le résultat pour les afficher.</p>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221025174625996.png" alt="image-20221025174625996" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">log</span>(<span class="params">original_function,</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">new_function</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        result = original_function(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;&quot;&quot;Fonction <span class="subst">&#123;original_function.__name__&#125;</span> appelée avec les arguments positionnels \</span></span><br><span class="line"><span class="string"><span class="subst">&#123;args&#125;</span> et les arguments par mot clé <span class="subst">&#123;kwargs&#125;</span>. Résultat:<span class="subst">&#123;result&#125;</span>\n&quot;&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> new_function</span><br></pre></td></tr></table></figure>
<h3 id="2-programmation-orientée-objet"><a class="markdownIt-Anchor" href="#2-programmation-orientée-objet"></a> 2. Programmation orientée objet</h3>
<h4 id="21-vector"><a class="markdownIt-Anchor" href="#21-vector"></a> 2.1 vector</h4>
<ul>
<li>
<p>类装饰@property+@varname.setter</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@property</span><span class="comment">#把类方法当成属性调用,get方法</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">x</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self._x</span><br><span class="line"><span class="meta">   @x.setter</span><span class="comment">#set方法</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">x</span>(<span class="params">self,num</span>):</span><br><span class="line">       <span class="keyword">if</span> <span class="built_in">isinstance</span>(num,numbers.Real):</span><br><span class="line">           self._x = num</span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">           <span class="built_in">print</span>(<span class="string">f&quot;val=<span class="subst">&#123;num&#125;</span> must be a real&quot;</span>)</span><br><span class="line">  </span><br><span class="line"><span class="meta">   @property</span><span class="comment">#把类方法当成属性调用,get方法</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">y</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self._y</span><br><span class="line"><span class="meta">   @y.setter</span><span class="comment">#set方法</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">y</span>(<span class="params">self,num</span>):</span><br><span class="line">       <span class="keyword">if</span> <span class="built_in">isinstance</span>(num,numbers.Real):</span><br><span class="line">           self._y = num</span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">           <span class="built_in">print</span>(<span class="string">f&quot;val=<span class="subst">&#123;num&#125;</span> must be a real&quot;</span>)   </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>迭代器: <code>__iter__</code>  和 <code>from_iterable</code></p>
<p>在python3中，如果定义了一个类，类中有 <strong>iter</strong>(self)，<strong>next</strong>(self)两个函数，则该类具有了迭代器的属性，具体性质体现在：如果该类的对象出现在一个for循环中，那么for循环会自动通过__iter__标志识别这是一个可迭代的类，继而自动调用__next__()函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Iterateur sur les élements du vecteur, utilise yield&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment">#向量元素的迭代器</span></span><br><span class="line">        <span class="comment">#return iter(array(&#x27;d&#x27;,[self.x,self.y]))</span></span><br><span class="line">        <span class="keyword">yield</span> self.x</span><br><span class="line">        <span class="keyword">yield</span> self.y</span><br></pre></td></tr></table></figure>
<p>迭代器的作用在这里体现在：<br />
v1 = Vecteur(3, 4)<br />
x, y = v1这行<br />
print(x,y)</p>
<p>如果用的是直接return self.x, self.y，它报错：iter() returned non-iterator of type ‘tuple’, 所以这里用yield</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@classmethod</span><span class="comment">#类方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_iterable</span>(<span class="params">cls, it</span>):</span><br><span class="line">        x = it[<span class="number">0</span>]</span><br><span class="line">        y = it[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> Vecteur(x,y)</span><br><span class="line"><span class="comment">#可以实现</span></span><br><span class="line">v2=Vecteur.from_iterable([<span class="number">1</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>打印<code>__repr__</code> 和 <code>__str__</code></p>
<p>repr: 定义解释器返回的对象表示形式</p>
<p>str: 对象的字符串表现形式, 如果未定义，则返回__repr__</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Représentation textuelle de l&#x27;objet&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Vecteur(&#x27;</span>+<span class="built_in">str</span>(self.x)+<span class="string">&#x27;,&#x27;</span>+<span class="built_in">str</span>(self.y)+<span class="string">&#x27;)&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span>+<span class="built_in">str</span>(self.x)+<span class="string">&#x27;,&#x27;</span>+<span class="built_in">str</span>(self.y)+<span class="string">&#x27;)&#x27;</span>   </span><br><span class="line">v1_clone = <span class="built_in">eval</span>(<span class="built_in">repr</span>(v1))<span class="comment">#eval:python内置函数，可以接受一个字符串str作为参数，并把这个参数作为脚本代码来运行</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>操作符重载：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__eq__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Surcharge de l&#x27;opérateur ==&quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment">#运算    </span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">type</span>(self)==<span class="built_in">type</span>(other) <span class="keyword">and</span> (self.x==other.x) <span class="keyword">and</span> (self.y==other.y)</span><br><span class="line"><span class="comment">#右加法，处理vector+其他 --&gt;左加法：__radd__：处理其他加vecter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span> (self,other):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,Vecteur):</span><br><span class="line">            <span class="keyword">return</span> Vecteur(self._x+other._x,self._y+other._y)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,<span class="built_in">list</span>) :</span><br><span class="line">            <span class="keyword">return</span> (self._x+other[<span class="number">0</span>],self._y+other[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">f&quot;unsupported operand type(s) for +: <span class="subst">&#123;<span class="built_in">type</span>(self)&#125;</span> and <span class="subst">&#123;<span class="built_in">type</span>(other)&#125;</span>&quot;</span>)   </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#取反</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__neg__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> Vecteur(-self._x,-self._y)</span><br><span class="line">    </span><br><span class="line">  <span class="comment">#左乘法，处理vector*</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self,other</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,numbers.Real):</span><br><span class="line">            <span class="keyword">return</span> Vecteur(self._x*other,self._y*other)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,Vecteur):</span><br><span class="line">            <span class="keyword">return</span> self._x*other._x+self._y*other._y</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">f&quot;unsupported operand type(s) for *: <span class="subst">&#123;<span class="built_in">type</span>(self)&#125;</span> and <span class="subst">&#123;<span class="built_in">type</span>(other)&#125;</span>&quot;</span>) </span><br><span class="line">    <span class="comment">#右乘法，处理*vector</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__rmul__</span>(<span class="params">self,other</span>):</span><br><span class="line">        <span class="keyword">return</span> self*other</span><br><span class="line">    <span class="comment">#减法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__sub__</span>(<span class="params">self,other</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,Vecteur):</span><br><span class="line">            <span class="keyword">return</span> Vecteur(self._x-other._x,self._y-other._y)</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">f&quot;unsupported operand type(s) for +: <span class="subst">&#123;<span class="built_in">type</span>(self)&#125;</span> and <span class="subst">&#123;<span class="built_in">type</span>(other)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="22-printer"><a class="markdownIt-Anchor" href="#22-printer"></a> 2.2 printer</h4>
<p>继承后的方法重写</p>
<p>super().函数名</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ColorPrinter</span>(<span class="title class_ inherited__">Printer</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, devices=<span class="string">&quot;Printer 0&quot;</span>,avail_paper=Printer.formats_dict.keys(<span class="params"></span>),color=<span class="string">&quot;Black&quot;</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(avail_paper)</span><br><span class="line">        self.color = color</span><br><span class="line">        self.devices = devices</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send</span>(<span class="params">cls,strs,tallie=<span class="string">&quot;A4&quot;</span>,color = <span class="string">&quot;Black&quot;</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().send(strs,color = cls.color)</span><br></pre></td></tr></table></figure>
<h4 id="23-afficher-larborescence"><a class="markdownIt-Anchor" href="#23-afficher-larborescence"></a> 2.3 afficher l’arborescence</h4>
<p>普通函数方法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">space =  <span class="string">&#x27;    &#x27;</span></span><br><span class="line">branch = <span class="string">&#x27;│   &#x27;</span></span><br><span class="line">tee =    <span class="string">&#x27;├── &#x27;</span></span><br><span class="line">last =   <span class="string">&#x27;└── &#x27;</span></span><br><span class="line"></span><br><span class="line">res = <span class="string">&quot;&quot;</span></span><br><span class="line">length_limit = <span class="number">1000</span></span><br><span class="line">level = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_dirtree</span>(<span class="params">pathname,step=<span class="number">0</span>,flag=<span class="number">0</span></span>):</span><br><span class="line">    <span class="keyword">global</span> res,level</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> level &gt; length_limit:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    p = Path(pathname)</span><br><span class="line">    is_last = last <span class="keyword">if</span> flag <span class="keyword">else</span> tee<span class="comment">#判断是否是last</span></span><br><span class="line">    res += branch*<span class="built_in">int</span>(<span class="built_in">bool</span>(step)) + space * (step-<span class="number">1</span>)+ is_last + p.name+<span class="string">&#x27;\n&#x27;</span></span><br><span class="line">    level += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> p.is_file():</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> os.listdir(pathname):<span class="comment">#返回一个列表，包含p下所有文件夹和文件</span></span><br><span class="line">            noveau_pathname = pathname+<span class="string">&quot;/&quot;</span>+item</span><br><span class="line">            print_dirtree(noveau_pathname,step+<span class="number">1</span>,item == os.listdir(pathname)[-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">path = <span class="string">&quot;TP2&quot;</span></span><br><span class="line">print_dirtree(path)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<p>封装成类</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">generate</span>:</span><br><span class="line">    space =  <span class="string">&#x27;    &#x27;</span></span><br><span class="line">    branch = <span class="string">&#x27;│   &#x27;</span></span><br><span class="line">    tee =    <span class="string">&#x27;├── &#x27;</span></span><br><span class="line">    last =   <span class="string">&#x27;└── &#x27;</span></span><br><span class="line"></span><br><span class="line">    res = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    level = <span class="number">0</span></span><br><span class="line">    length_limit = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,pathname</span>):</span><br><span class="line">        self.pathname = pathname</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_dirtree</span>(<span class="params">self,pathname,step=<span class="number">0</span>,flag=<span class="number">0</span></span>):</span><br><span class="line">        <span class="keyword">if</span> self.level &gt; self.length_limit:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        p = Path(pathname)</span><br><span class="line">        is_last = self.last <span class="keyword">if</span> flag <span class="keyword">else</span> self.tee<span class="comment">#判断是否是last</span></span><br><span class="line">        self.res += self.branch*<span class="built_in">int</span>(<span class="built_in">bool</span>(step)) + self.space * (step-<span class="number">1</span>)+ is_last + p.name+<span class="string">&#x27;\n&#x27;</span></span><br><span class="line">        self.level += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> p.is_file():</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> os.listdir(pathname):<span class="comment">#返回一个列表，包含p下所有文件夹和文件</span></span><br><span class="line">                noveau_pathname = pathname+<span class="string">&quot;/&quot;</span>+item</span><br><span class="line">                self.print_dirtree(noveau_pathname,step+<span class="number">1</span>,item == os.listdir(pathname)[-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test = generate(<span class="string">&quot;TP2&quot;</span>)</span><br><span class="line">test.print_dirtree(<span class="string">&quot;TP2&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(test.res)             </span><br></pre></td></tr></table></figure>
<h2 id="tp31"><a class="markdownIt-Anchor" href="#tp31"></a> TP3.1</h2>
<h3 id="1np库处理矩阵"><a class="markdownIt-Anchor" href="#1np库处理矩阵"></a> 1.np库处理矩阵</h3>
<p>linalg.det(A)：模,在有小数时有很多问题</p>
<p>linalg.inv(A):逆</p>
<h3 id="2模拟计算pi"><a class="markdownIt-Anchor" href="#2模拟计算pi"></a> 2.模拟计算PI</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import math</span><br><span class="line">def monteCarlo(NumTest,N):</span><br><span class="line">    my_pis = 0</span><br><span class="line">    for i in range(NumTest):</span><br><span class="line">        ptsinterieur = 0</span><br><span class="line">        for i in range(N):</span><br><span class="line">            #随机生成在正方形里面的点</span><br><span class="line">            x = np.random.random()</span><br><span class="line">            y = np.random.random()</span><br><span class="line">            #在半圆里面的</span><br><span class="line">            if (x*x + y*y) &lt;= 1:</span><br><span class="line">                ptsinterieur += 1</span><br><span class="line">        my_pis += ptsinterieur/N * 4</span><br><span class="line">        my_pi = my_pis/NumTest</span><br><span class="line">    return  my_pi,abs(math.pi-my_pi)/math.pi</span><br><span class="line">monteCarlo(50,int(1e6))</span><br></pre></td></tr></table></figure>
<h3 id="3scipy库"><a class="markdownIt-Anchor" href="#3scipy库"></a> 3.scipy库</h3>
<p>获取大小和通道</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#大小</span></span><br><span class="line"><span class="built_in">print</span>(f.shape)</span><br><span class="line"><span class="comment">#显示通道</span></span><br><span class="line">R = f[:,:,<span class="number">0</span>]</span><br><span class="line">plt.imshow(R)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">G = f[:,:,<span class="number">1</span>]</span><br><span class="line">plt.imshow(G)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">B = f[:,:,<span class="number">2</span>]</span><br><span class="line">plt.imshow(B)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>获取灰度图[l’image en noir et blanc]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gray = R * <span class="number">0.299</span> + G * <span class="number">0.587</span> + B * <span class="number">0.114</span></span><br><span class="line">plt.imshow(gray, cmap=<span class="string">&quot;gray&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>镜像图[l’image en miroire]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">img_lr = np.fliplr(img)</span><br></pre></td></tr></table></figure>
<p>masque</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x,y = gray.shape</span><br><span class="line">c_x = <span class="number">300</span></span><br><span class="line">c_y = <span class="number">600</span></span><br><span class="line">r = <span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">inCircle</span>(<span class="params">i,j</span>):</span><br><span class="line">    <span class="keyword">if</span> (c_x-i)*(c_x-i) + (c_y-j)*(c_y-j) &gt; r * r:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">gray_circle = gray.copy()    </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">        <span class="keyword">if</span> inCircle(i,j):</span><br><span class="line">            gray_circle[i][j] = <span class="number">0</span></span><br><span class="line">plt.imshow(gray_circle,cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>二值化[binaire]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x,y = gray.shape</span><br><span class="line">gray_binaire = gray.copy()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">        <span class="keyword">if</span> gray_binaire[i][j] &gt; <span class="number">100</span>:</span><br><span class="line">            gray_binaire[i][j] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            gray_binaire[i][j] = <span class="number">255</span></span><br><span class="line">plt.imshow(gray_binaire,cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>gradient</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">norm</span>(<span class="params">x, axis=<span class="number">0</span></span>):</span><br><span class="line">    <span class="keyword">return</span> np.sqrt(np.<span class="built_in">sum</span>(np.square(x), axis=axis))</span><br><span class="line"></span><br><span class="line">gray = R *<span class="number">0.299</span> + G * <span class="number">0.587</span> + B * <span class="number">0.114</span></span><br><span class="line">gary_g = np.gradient(gray)</span><br><span class="line">gary_g = norm(gary_g)</span><br><span class="line">plt.imshow(gary_g,<span class="string">&#x27;gray&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="tp32"><a class="markdownIt-Anchor" href="#tp32"></a> TP3.2</h2>
<p>用OPENSKY + pandas画飞机轨迹</p>
<h3 id="1-pandas"><a class="markdownIt-Anchor" href="#1-pandas"></a> 1. pandas</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221026/image.466a47l4v2s0.webp" alt="image" /></p>
<h3 id="2opensky-画飞机"><a class="markdownIt-Anchor" href="#2opensky-画飞机"></a> 2.opensky 画飞机</h3>
<p>画单个的飞机轨迹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">drawJour</span>(<span class="params">but</span>):</span><br><span class="line">    <span class="comment">#先把这个avoin摘出来</span></span><br><span class="line">    tableau = df[df[<span class="string">&#x27;icao24&#x27;</span>] == but]</span><br><span class="line">    liste_lat = tableau[<span class="string">&#x27;lat&#x27;</span>].tolist()</span><br><span class="line">    liste_lon = tableau[<span class="string">&#x27;lon&#x27;</span>].tolist()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;liste ok&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#画图</span></span><br><span class="line">    <span class="comment">#地图</span></span><br><span class="line">    fig = plt.figure(figsize=(<span class="number">15</span>,<span class="number">15</span>))</span><br><span class="line">    <span class="comment"># Create a GeoAxes in the tile&#x27;s projection.</span></span><br><span class="line">    stamen_terrain = cimgt.Stamen(<span class="string">&#x27;terrain-background&#x27;</span>)</span><br><span class="line">    ax = fig.add_subplot(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, projection=stamen_terrain.crs)</span><br><span class="line">    <span class="comment">#ax.set_extent([df[&#x27;lon&#x27;].min()-6, df[&#x27;lon&#x27;].max()+6, df[&#x27;lat&#x27;].min()-6, df[&#x27;lat&#x27;].max()+6], crs=ccrs.Geodetic())</span></span><br><span class="line">    <span class="comment"># Add the Stamen data at zoom level 8.</span></span><br><span class="line">    ax.add_image(cimgt.GoogleTiles(<span class="string">&quot;RGB&quot;</span>), <span class="number">8</span>)</span><br><span class="line">    <span class="comment">#轨迹</span></span><br><span class="line">    ax.plot(liste_lon,liste_lat,color=<span class="string">&#x27;red&#x27;</span>,transform=ccrs.Geodetic())</span><br><span class="line"></span><br><span class="line">    fig.savefig(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line"></span><br><span class="line">drawJour(<span class="string">&#x27;a7e152&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>画所有飞机的</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">drawAlltrace</span>(<span class="params">dataset</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment">#画图</span></span><br><span class="line">    <span class="comment">#地图</span></span><br><span class="line">    fig2 = plt.figure(figsize=(<span class="number">15</span>,<span class="number">15</span>))</span><br><span class="line">    <span class="comment"># Create a GeoAxes in the tile&#x27;s projection.</span></span><br><span class="line">    stamen_terrain = cimgt.Stamen(<span class="string">&#x27;terrain-background&#x27;</span>)</span><br><span class="line">    ax2 = fig2.add_subplot(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, projection=stamen_terrain.crs)</span><br><span class="line">    <span class="comment">#ax.set_extent([lon_min, lon_max, lat_min, lat_max], crs=ccrs.Geodetic())</span></span><br><span class="line">    <span class="comment">#Add the Stamen data at zoom level 8.</span></span><br><span class="line">    ax2.add_image(cimgt.GoogleTiles(<span class="string">&quot;RGB&quot;</span>), <span class="number">8</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;map ok&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#轨迹</span></span><br><span class="line">    <span class="comment">#groupBy</span></span><br><span class="line">    dataset_light = dataset[[<span class="string">&#x27;icao24&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>,<span class="string">&#x27;lon&#x27;</span>]]</span><br><span class="line">    group = <span class="built_in">list</span>(dataset_light.groupby(<span class="string">&quot;icao24&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">len</span>(group))</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> key, item <span class="keyword">in</span> group:</span><br><span class="line">        liste_lat = []</span><br><span class="line">        liste_lon = []</span><br><span class="line">        item = item.dropna(axis=<span class="number">0</span>,how=<span class="string">&#x27;any&#x27;</span>)</span><br><span class="line">        liste_lat = <span class="built_in">list</span>(item[<span class="string">&#x27;lat&#x27;</span>])</span><br><span class="line">        liste_lon = <span class="built_in">list</span>(item[<span class="string">&#x27;lon&#x27;</span>])</span><br><span class="line">        <span class="keyword">if</span> liste_lat <span class="keyword">and</span> liste_lon: </span><br><span class="line">            ax2.plot(liste_lon,liste_lat,color=<span class="string">&#x27;red&#x27;</span>,transform=ccrs.Geodetic())</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(liste_lat)</span><br><span class="line">            <span class="built_in">print</span>(liste_lon)</span><br><span class="line">            </span><br><span class="line">            fig2.savefig(<span class="string">&quot;Pic/&quot;</span>+<span class="built_in">str</span>(i)+<span class="string">&quot;.jpg&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ax fini&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#drawAlltrace(df)</span></span><br></pre></td></tr></table></figure>
<h2 id="tp4"><a class="markdownIt-Anchor" href="#tp4"></a> TP4</h2>
<h3 id="1coo"><a class="markdownIt-Anchor" href="#1coo"></a> 1.COO</h3>
<h3 id="2mandelbrot"><a class="markdownIt-Anchor" href="#2mandelbrot"></a> 2.Mandelbrot</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">np.warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_in_Mandelbrot</span>(<span class="params">c, max_iter=<span class="number">50</span></span>)-&gt;<span class="built_in">bool</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Verifier un point apres max_iter fois iteration est dans la suite Mandelbrot</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        c (complex,optional complex_array): le candidat</span></span><br><span class="line"><span class="string">        max_iter (int): nombre d&#x27;iteration.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        bool: si dans la suite-&gt;True; sinon False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    z = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(max_iter):</span><br><span class="line">        z = z**<span class="number">2</span> + c</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(z) &lt;= <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_in_Julia</span>(<span class="params">z,c, max_iter=<span class="number">50</span></span>)-&gt;<span class="built_in">bool</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Verifier un point apres max_iter fois iteration est dans la suite Mandelbrot</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        c (complex,optional complex_array): le candidat</span></span><br><span class="line"><span class="string">        max_iter (int): nombre d&#x27;iteration.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        bool: si dans la suite-&gt;True; sinon False</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(max_iter):</span><br><span class="line">        z = z**<span class="number">2</span> + c</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(z) &lt;= <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_mandelbrot</span>(<span class="params">zmin=-<span class="number">2</span> - <span class="number">2j</span>,</span></span><br><span class="line"><span class="params">                    zmax=<span class="number">2</span> + <span class="number">2j</span>,</span></span><br><span class="line"><span class="params">                    pixel_size=<span class="number">0.001</span>,</span></span><br><span class="line"><span class="params">                    max_iter=<span class="number">50</span>,</span></span><br><span class="line"><span class="params">                    figname=<span class="string">&quot;Mandelbrot.png&quot;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;afficher et save la figure de suite Mandelbrot </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        zmin (_type_, optional): _description_. Defaults to -2-2j.</span></span><br><span class="line"><span class="string">        zmax (_type_, optional): _description_. Defaults to 2+2j.</span></span><br><span class="line"><span class="string">        pixel_size (float, optional): _description_. Defaults to 0.001.</span></span><br><span class="line"><span class="string">        max_iter (int, optional): _description_. Defaults to 50.</span></span><br><span class="line"><span class="string">        figname (str, optional): _description_. Defaults to &quot;Mandelbrot.png&quot;.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    reals = np.arange(zmin.real, zmax.real, pixel_size)</span><br><span class="line">    imags = np.arange(zmin.imag, zmax.imag, pixel_size)</span><br><span class="line">    x, y = np.meshgrid(reals, imags)</span><br><span class="line">    c = np.array(x + y * <span class="number">1j</span>, dtype=<span class="built_in">complex</span>)</span><br><span class="line">    </span><br><span class="line">    plt.figure(figsize=(<span class="number">15</span>, <span class="number">15</span>))</span><br><span class="line">    plt.imshow(is_in_Mandelbrot(c, max_iter), cmap=<span class="string">&quot;binary&quot;</span>)</span><br><span class="line">    plt.gca().set_aspect(<span class="string">&quot;equal&quot;</span>)</span><br><span class="line">    plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br><span class="line">    plt.savefig(figname)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_julia</span>(<span class="params">c=-<span class="number">0.8</span> + <span class="number">0.156j</span>,</span></span><br><span class="line"><span class="params">               zmin=-<span class="number">2</span>-<span class="number">1j</span>,</span></span><br><span class="line"><span class="params">               zmax=<span class="number">2</span>+<span class="number">1j</span>,</span></span><br><span class="line"><span class="params">               pixel_size=<span class="number">5e-4</span>,</span></span><br><span class="line"><span class="params">               max_iter=<span class="number">100</span>,</span></span><br><span class="line"><span class="params">               figname=<span class="string">&quot;Julia.png&quot;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;afficher et save la figure de suite Mandelbrot </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        c (_type_, optional): _description_. Defaults to -0.8 + 0.156j.</span></span><br><span class="line"><span class="string">        zmin (_type_, optional): _description_. Defaults to -2-1j.</span></span><br><span class="line"><span class="string">        zmax (_type_, optional): _description_. Defaults to 2+1j.</span></span><br><span class="line"><span class="string">        pixel_size (float, optional): _description_. Defaults to 0.0005.</span></span><br><span class="line"><span class="string">        max_iter (int, optional): _description_. Defaults to 100.</span></span><br><span class="line"><span class="string">        figname (str, optional): _description_. Defaults to &quot;Julia.png&quot;.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    reals = np.arange(zmin.real, zmax.real, pixel_size)</span><br><span class="line">    imags = np.arange(zmin.imag, zmax.imag, pixel_size)</span><br><span class="line">    x, y = np.meshgrid(reals, imags)</span><br><span class="line">    z = np.array(x + y * <span class="number">1j</span>, dtype=<span class="built_in">complex</span>)</span><br><span class="line">    </span><br><span class="line">    plt.figure(figsize=(<span class="number">15</span>, <span class="number">15</span>))</span><br><span class="line">    plt.imshow(is_in_Julia(z,c, max_iter), cmap=<span class="string">&quot;binary&quot;</span>,alpha=<span class="number">0.5</span>)</span><br><span class="line">    plt.gca().set_aspect(<span class="string">&quot;equal&quot;</span>)</span><br><span class="line">    plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br><span class="line">    plt.savefig(figname)</span><br></pre></td></tr></table></figure>
<p><code>__main__.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;Main call to mandelbrot. Mostly a parser.&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">from</span> .affichage <span class="keyword">import</span> plot_mandelbrot,plot_julia</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">MandelbrotPlot</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Draw la suite Mandelbrot with des arguments suivants&quot;&quot;&quot;</span></span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;Draw mandelbrot&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--zmin&#x27;</span>,metavar=<span class="string">&#x27;zmin&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">complex</span>,default=-<span class="number">2</span>-<span class="number">2j</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input zmin,default:-2-2j&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--zmax&#x27;</span>,metavar=<span class="string">&#x27;zmax&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">complex</span>,default=<span class="number">2</span>+<span class="number">2j</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input zmax,default=2+2j&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--pixel_size&#x27;</span>,metavar=<span class="string">&#x27;pixel_size&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">float</span>,default=<span class="number">0.001</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input pixel_size,default:0.01&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--max_iter&#x27;</span>,metavar=<span class="string">&#x27;max-iter&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>,default=<span class="number">50</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input max_iter,default:50&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;-o&#x27;</span>,metavar=<span class="string">&#x27;pathname&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>,default=<span class="string">&#x27;mandelbrot.png&#x27;</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input pathname&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    plot_mandelbrot(zmin=args.zmin,zmax = args.zmax,</span><br><span class="line">                        pixel_size = args.pixel_size,max_iter=args.max_iter,</span><br><span class="line">                        figname=args.o)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">JuliaPlot</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Draw la suite Mandelbrot with des arguments suivants&quot;&quot;&quot;</span></span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;Draw Julia&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;-c&#x27;</span>,metavar=<span class="string">&#x27;c de Julia&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">complex</span>,default=-<span class="number">0.8</span>+<span class="number">0.156j</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input c de Julia,default:-0.8+0.156j&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--zmin&#x27;</span>,metavar=<span class="string">&#x27;zmin&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">complex</span>,default=-<span class="number">2</span>-<span class="number">1j</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input zmin,default:-2-1j&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--zmax&#x27;</span>,metavar=<span class="string">&#x27;zmax&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">complex</span>,default=<span class="number">2</span>+<span class="number">1j</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input zmax,default=2+1j&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--pixel_size&#x27;</span>,metavar=<span class="string">&#x27;pixel_size&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">float</span>,default=<span class="number">5e-4</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input pixel_size,default:5e-4&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--max_iter&#x27;</span>,metavar=<span class="string">&#x27;max-iter&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>,default=<span class="number">100</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input max_iter,default:100&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;-o&#x27;</span>,metavar=<span class="string">&#x27;pathname&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>,default=<span class="string">&#x27;julia.png&#x27;</span>,</span><br><span class="line">                        <span class="built_in">help</span>=<span class="string">&#x27;input pathname&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    plot_julia(c=args.c,zmin=args.zmin,zmax = args.zmax,</span><br><span class="line">                        pixel_size = args.pixel_size,max_iter=args.max_iter,</span><br><span class="line">                        figname=args.o)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PYTHON</category>
      </categories>
      <tags>
        <tag>实验汇总</tag>
        <tag>python</tag>
        <tag>DS</tag>
      </tags>
  </entry>
  <entry>
    <title>PFONC_CM1</title>
    <url>/2022/09/06/PFONC_CM1/</url>
    <content><![CDATA[<h1 id="pfonc_cm1"><a class="markdownIt-Anchor" href="#pfonc_cm1"></a> PFONC_CM1</h1>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<p>基于函数的编程，接近数学声明式编程（programmation déclarative）</p>
<span id="more"></span>
<p>属性:transparence référentielle：参考透明,immutabilité：不变性</p>
<p>​		 <strong>transparence référentielle</strong>:并行，没有指针，全局变量或者输入输出</p>
<p>​		 <strong>immutabilité</strong>：被操纵对象的值永远不能改变</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1sj9vtamuy2o.png" alt="yaimage" /></p>
<h2 id="constructions-de-base"><a class="markdownIt-Anchor" href="#constructions-de-base"></a> Constructions de base</h2>
<h3 id="复合函数"><a class="markdownIt-Anchor" href="#复合函数"></a> 复合函数</h3>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">square</span> x = x*x</span><br><span class="line"><span class="title">inc</span> x = x+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="title">f</span> x = inc(square x)</span><br><span class="line"><span class="title">f</span> x = (inc.square) x</span><br></pre></td></tr></table></figure>
<h3 id="条件式"><a class="markdownIt-Anchor" href="#条件式"></a> 条件式</h3>
<h4 id="if-then-else"><a class="markdownIt-Anchor" href="#if-then-else"></a> if-then-else</h4>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f</span> n = <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">then</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> n == -<span class="number">1</span> <span class="keyword">then</span> <span class="number">2</span></span><br><span class="line">  <span class="keyword">else</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>然后不等于是 /=</p>
<h4 id="gardée-otherwise"><a class="markdownIt-Anchor" href="#gardée-otherwise"></a> gardée(|+ otherwise)</h4>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">caculate&#x27;</span> a b c | b == &#x27;+&#x27;  = <span class="type">Just</span> (a + c)<span class="comment">--不太知道这里的just是啥</span></span><br><span class="line">                | b == &#x27;-&#x27;  = <span class="type">Just</span> (a - c)</span><br><span class="line">                | b == &#x27;*&#x27;  = <span class="type">Just</span> (a * c)</span><br><span class="line">                | b == &#x27;/&#x27; &amp;&amp; c == <span class="number">0</span> = <span class="type">Nothing</span> </span><br><span class="line">                | b == &#x27;/&#x27; = <span class="type">Just</span> (a / c)</span><br><span class="line">                | otherwise = <span class="type">Nothing</span> </span><br></pre></td></tr></table></figure>
<h4 id="case-of"><a class="markdownIt-Anchor" href="#case-of"></a> case-of</h4>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f</span> n = <span class="keyword">case</span> n <span class="keyword">of</span></span><br><span class="line">	<span class="number">0</span> -&gt; <span class="number">1</span></span><br><span class="line">	_ -&gt; n * f (n-<span class="number">1</span>)<span class="comment">--下划线_表示任意</span></span><br></pre></td></tr></table></figure>
<h3 id="递归-récursivité"><a class="markdownIt-Anchor" href="#递归-récursivité"></a> 递归: récursivité</h3>
<p>Une fonction récursive possède（有） :</p>
<p>• un (ou plusieurs) cas général récursif</p>
<p>• un (ou plusieurs) cas de base non récursif</p>
<p>L’évaluation d’une fonction récursive se fait sur le modèle d’une pile[堆栈]</p>
<p><strong>Fonction récursive terminale</strong></p>
<p>定义：Pour une fonction f définie en utilisant une fonction g, l’évaluation de g est dite terminale (tail évaluation/call) si elle fournit directement la valeur de f sans opération supplémentaire.</p>
<p>对于一个用函数g定义的函数f，如果g直接提供了f的值而没有任何额外的操作，那么g的évaluation被称为terminale</p>
<p>如果一个递归函数的所有递归的évaluation都是terminale的，那么他就是<strong>Fonction récursive terminale</strong></p>
<p>例</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f&#x27;</span> <span class="number">0</span> r = r</span><br><span class="line"><span class="title">f&#x27;</span> n r = f&#x27; (n-<span class="number">1</span>) (r*n)</span><br><span class="line"></span><br><span class="line"><span class="title">f</span> n = f&#x27; n <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="title">main</span> = print(f <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Exercices</strong></p>
<p><strong>EX1: PUISSANCE</strong></p>
<p>1.Écrire une fonction récursive qui calcule la puissance <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>e</mi></msup></mrow><annotation encoding="application/x-tex">n^e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span></span></span></span> d’un nombre</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">puissance</span> x <span class="number">0</span> = <span class="number">1</span></span><br><span class="line"><span class="title">puissance</span> x n = x * puissance x (n-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Utiliser le fait que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x^{2n}=(x^2)^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> pour améliorer la fonction.</li>
</ol>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">puissance&#x27;</span> x <span class="number">0</span> = <span class="number">1</span></span><br><span class="line"><span class="title">puissance&#x27;</span> x n = <span class="keyword">if</span> even n <span class="keyword">then</span> puissance&#x27; (x*x) (div n <span class="number">2</span>) <span class="keyword">else</span> x * puissance&#x27; (x*x) (div n <span class="number">2</span>)<span class="comment">--even应该是在说n是偶数，odd奇数</span></span><br></pre></td></tr></table></figure>
<p>3.Quelles sont les complexités temporelles des deux versions ?</p>
<p>方法1是关于n的线性，方法2是关于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">n</span></span></span></span> 的。</p>
<p><strong>EX2: Fibonacci</strong></p>
<p>Écrire une fonction récursive terminale qui calcule le terme d’indice n de la suite de Fibonacci</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">fibonacci</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="title">fibonacci</span> <span class="number">2</span> = <span class="number">1</span></span><br><span class="line"><span class="title">fibonacci</span> n = fibonacci(n-<span class="number">1</span>) + fibonacci(n-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--terminale</span></span><br><span class="line"><span class="title">fibonacci&#x27;</span> <span class="number">0</span> _ n2 = n2<span class="comment">--不是很懂这里</span></span><br><span class="line"><span class="title">fibonacci&#x27;</span> n n1 n2 = fibonacci&#x27;(n-<span class="number">1</span>) (n1+n2) n1</span><br><span class="line"><span class="title">fib</span> n = fibonacci&#x27; n <span class="number">1</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><strong>EX3:La hauteur palindromique</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2mrhycdn7ki0.png" alt="yaimage" /></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">r&#x27;</span> <span class="number">0</span> m = m</span><br><span class="line"><span class="title">r&#x27;</span> x m = r&#x27; (div x <span class="number">10</span>) (<span class="number">10</span>*m + mod x <span class="number">10</span>)</span><br><span class="line"><span class="title">r</span> x = r&#x27; x <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--判断回文数字:n == r(n)</span></span><br><span class="line"><span class="title">hpal</span> n = <span class="keyword">if</span> n == r n <span class="keyword">then</span> <span class="number">0</span></span><br><span class="line">      <span class="keyword">else</span> <span class="number">1</span> + hpal (n + r n)<span class="comment">--太妙了太妙了太妙了</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PFONC</category>
      </categories>
      <tags>
        <tag>haskell</tag>
      </tags>
  </entry>
  <entry>
    <title>PFONC_CM2&amp;3</title>
    <url>/2022/09/16/PFONC_CM2&amp;3/</url>
    <content><![CDATA[<h1 id="pfonc_cm23"><a class="markdownIt-Anchor" href="#pfonc_cm23"></a> PFONC_CM2&amp;3</h1>
<p>CHAP2:Types, 介绍haskell中的类型变量.</p>
<span id="more"></span>
<h2 id="types-de-base"><a class="markdownIt-Anchor" href="#types-de-base"></a> Types de base</h2>
<p>entiers: Integer/Int</p>
<p>Réels virgule flottante: Double ou Float</p>
<p>Booléens: Bool (valeurs True et False)</p>
<p>Caractères Char Chaîne de caractères: String (alias[别名] pour [Char]–Char类型的列表)</p>
<h2 id="types-algébriques代数"><a class="markdownIt-Anchor" href="#types-algébriques代数"></a> Types algébriques[代数]</h2>
<p>由基本类型构建</p>
<p><strong>Types sommes</strong> :  énumerations[枚举]</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Bool</span> = <span class="type">True</span> | <span class="type">False</span></span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Animal</span> = <span class="type">Canard</span> | <span class="type">Vache</span> | <span class="type">Chat</span></span></span><br></pre></td></tr></table></figure>
<p><strong>Types produits</strong> : tuples</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">AnimalMesure</span> = <span class="type">Paire</span> <span class="type">Animal</span> <span class="type">Integer</span><span class="comment">--Paire:值构造子(Value Constructor)和类型名(AnimalMesure)不同</span></span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Entiers3</span> = <span class="type">Entiers3</span> <span class="type">Integer</span> <span class="type">Integer</span> <span class="type">Integer</span></span></span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>Paire, True, False, Canard, etc. sont des <em><strong>constructeurs de données</strong></em></p>
<p>都是值构造子，值构造可以与类型名同名，后面可以跟几个类型表示它包含值的类型</p>
</li>
<li>
<p>Ils peuvent avoir n’importe quel nom, y compris le même que le nom du type défini.Comme pour Entiers3 ; [可以同名]</p>
</li>
<li>
<p>Les noms de types et de <strong>constructeurs</strong> commencent par une majuscule[大写字母] en Haskell.然后普通函数必须小写字母开头</p>
</li>
</ol>
<p><strong>Types algébriques</strong>: sommes de produits</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">PossibleReel</span> = <span class="type">Rien</span> | <span class="type">Valeur</span> <span class="type">Double</span></span></span><br><span class="line"><span class="title">inversion</span> :: <span class="type">Double</span> -&gt;<span class="type">PossibleReel</span></span><br><span class="line"><span class="title">inversion</span> <span class="number">0</span> = <span class="type">Rien</span></span><br><span class="line"><span class="title">inversion</span> x = <span class="type">Valeur</span> (<span class="number">1</span>/x)</span><br><span class="line"></span><br><span class="line"><span class="comment">--Rien et Valeur sont implicitement[隐式地] définies avec ce type:</span></span><br><span class="line"><span class="comment">--Rien:: PossibleReel</span></span><br><span class="line"><span class="comment">--Valeur::Double -&gt;PossibleReel</span></span><br></pre></td></tr></table></figure>
<p>这里注意一个问题，inversion的调用实现这里，直接调用 inversion  n 报错 No instance for (Show PossibleReel) arising from a use of ‘print’，然后得在声明数据类型时加上deriving Show，具体原因不是很清楚哈哈哈哈</p>
<h4 id="plus-de-pattern-matching"><a class="markdownIt-Anchor" href="#plus-de-pattern-matching"></a> Plus de pattern-matching</h4>
<p>On peut utiliser les <strong>constructeurs</strong> pour faire du pattern-matching :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">opposePR</span> :: <span class="type">PossibleReel</span> -&gt;<span class="type">PossibleReel</span></span><br><span class="line"><span class="title">opposePR</span> <span class="type">Rien</span> = <span class="type">Rien</span></span><br><span class="line"><span class="title">opposePR</span> (<span class="type">Valeur</span> x) = <span class="type">Valeur</span> (-x)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ou bien avec let ... in</span></span><br><span class="line"><span class="title">opposePR</span> z = <span class="keyword">if</span> z == <span class="type">Rien</span> <span class="keyword">then</span> <span class="type">Rien</span></span><br><span class="line">			 <span class="keyword">else</span> <span class="keyword">let</span> (<span class="type">Valeur</span> x)=z <span class="keyword">in</span> <span class="type">Valeur</span> (-x)</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<p>1.Écrire une fonction <em>et</em> qui réalise le et logique entre deux Bool</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">et</span> <span class="type">True</span> <span class="type">True</span> = <span class="type">True</span></span><br><span class="line"><span class="title">et</span> _ _ = <span class="type">False</span></span><br></pre></td></tr></table></figure>
<p>2.Proposer la définition d’un type Point représentant un point du plan</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Point</span> = <span class="type">Point</span> <span class="type">Double</span> <span class="type">Double</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br></pre></td></tr></table></figure>
<p>3.Écrire une fonction distance qui donne la distance entre deux Point</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">findDistance</span> :: <span class="type">Point</span>,<span class="type">Point</span> -&gt; <span class="type">Double</span></span><br><span class="line"><span class="title">findDistance</span> (<span class="type">Point</span> x1 y1) (<span class="type">Point</span> x2 y2)= sqrt ((x1-x2)^<span class="number">2</span>+(x1-x2)^<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--调用：findDistance (Point 2 3) (Point 4 5)</span></span><br></pre></td></tr></table></figure>
<p>4.Proposer la définition d’un type Figure qui est：</p>
<p>​	• soit un unique Point ;</p>
<p>​	• soit un cercle défini par son rayon &gt; 0 et son centre ;</p>
<p>​	• soit un carré défini par deux sommets opposés.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Vecteur</span> = <span class="type">Vecteur</span> <span class="type">Double</span> <span class="type">Double</span></span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Figure</span> = <span class="type">FigP</span> <span class="type">Point</span> |<span class="type">Cercle</span> <span class="type">Point</span> <span class="type">Double</span> |<span class="type">Carre</span> <span class="type">Point</span> <span class="type">Vecteur</span></span></span><br></pre></td></tr></table></figure>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220907171614588.png" alt="image-20220907171614588" /></p>
<p>5.Écrire une fonction perimetre qui donne le périmètre[周长] d’une Figure.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">perimetre</span> (<span class="type">FigP</span> _) = <span class="number">0</span></span><br><span class="line"><span class="title">perimetre</span> (<span class="type">Cercle</span> _ r) = <span class="number">2</span> * pi * r</span><br><span class="line"><span class="title">norme</span> (<span class="type">Vecteur</span> x y)= findDistance (<span class="type">Point</span> <span class="number">0</span> <span class="number">0</span>) (<span class="type">Point</span> x y)</span><br><span class="line"><span class="title">perimetre</span> (<span class="type">Carre</span> _ (<span class="type">Vecteur</span> x y)) = <span class="number">4</span> * norme v <span class="comment">--咋能这么算呢</span></span><br></pre></td></tr></table></figure>
<h2 id="types-paramétrés参数化类型"><a class="markdownIt-Anchor" href="#types-paramétrés参数化类型"></a> Types paramétrés:参数化类型</h2>
<p>Le type PossibleReel existe, sous la forme d’un type paramétré, en Haskell :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">--对于所有的类型来说都有：</span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Maybe</span> a = <span class="type">Nothing</span> | <span class="type">Just</span> a</span></span><br><span class="line"><span class="comment">--Maybe est un constructeur de type</span></span><br></pre></td></tr></table></figure>
<p>一些(仍然不太懂的)理解：</p>
<ol>
<li>类型构造子可以取类型作参数，产生新的类型</li>
<li>所以给 Car 类型加类型参数貌似并没有什么必要。通常我们都是 都是在一个类型中包含的类型并不影响它的行为时才引入类型参数</li>
</ol>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Either</span> a b = <span class="type">Left</span> a | <span class="type">Right</span> b</span></span><br><span class="line"><span class="title">safeTwice</span> ::<span class="type">Int</span>-&gt;<span class="type">Either</span> <span class="type">Int</span> <span class="type">Int</span></span><br><span class="line"><span class="title">safeTwice</span> n = <span class="keyword">if</span> n &gt; (maxBound::<span class="type">Int</span>) `div` <span class="number">2</span> <span class="keyword">then</span> <span class="type">Left</span> n</span><br><span class="line">			  <span class="keyword">else</span> <span class="type">Right</span> (<span class="number">2</span>*n)</span><br><span class="line"><span class="comment">--报错了QAQ,加deriving Show也不行</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3yjykin6u120.png" alt="yaimage" /></p>
<h2 id="types-en-haskell"><a class="markdownIt-Anchor" href="#types-en-haskell"></a> Types en Haskell</h2>
<h3 id="type-et-newtype"><a class="markdownIt-Anchor" href="#type-et-newtype"></a> type et newtype</h3>
<p>-type définit un type synonyme[同义] d’un autre：<code>type String = [Char]</code></p>
<p>-newtype est similaire à data mais ne fonctionne que pour un seul constructeur de données avec au plus une variable et fournit dans ce cas une petite optimisation (Synonymes mais crée un type distinct).</p>
<p>但只适用于最多只有一个变量的单一数据构造函数</p>
<h3 id="tuples"><a class="markdownIt-Anchor" href="#tuples"></a> Tuples</h3>
<p>Un tuple est un type produit, Haskell propose une syntaxe[语法] spécifique (et classique) pour les tuples:</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- fst et snd pour les couples</span></span><br><span class="line"><span class="title">maxi</span> ::(<span class="type">Integer</span>,<span class="type">Integer</span>)-&gt;<span class="type">Integer</span></span><br><span class="line"><span class="title">maxi</span> x = <span class="keyword">let</span> a = fst x, b = snd x <span class="keyword">in</span></span><br><span class="line">			 <span class="keyword">if</span> a &gt; b <span class="keyword">then</span> a <span class="keyword">else</span> b</span><br><span class="line"><span class="comment">-- pattern matching</span></span><br><span class="line"><span class="title">maxi</span> &#x27;::(<span class="type">Integer</span>,<span class="type">Integer</span>)-&gt;<span class="type">Integer</span></span><br><span class="line"><span class="title">maxi</span> &#x27; (a,b) = <span class="keyword">if</span> a &gt; b <span class="keyword">then</span> a <span class="keyword">else</span> b</span><br><span class="line"><span class="comment">-- pas que pour les couples</span></span><br><span class="line"><span class="title">ror</span>::(<span class="type">Char</span>,<span class="type">Char</span>,<span class="type">Char</span>)-&gt;(<span class="type">Char</span>,<span class="type">Char</span>,<span class="type">Char</span>)</span><br><span class="line"><span class="title">ror</span> (a,b,c) = (c,a,b)</span><br></pre></td></tr></table></figure>
<h3 id="enregistrements"><a class="markdownIt-Anchor" href="#enregistrements"></a> Enregistrements</h3>
<p>Un enregistrement est un type produit avec accesseurs intégrés [内置的访问器？] (en lecture bien sûr)</p>
<p>构造方法</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Canard</span> = <span class="type">Coin</span> &#123; <span class="title">nom</span>::<span class="type">String</span> , <span class="title">enverg</span>::<span class="type">Double</span> &#125;</span></span><br><span class="line"><span class="title">info</span>::<span class="type">Canard</span> -&gt;<span class="type">String</span></span><br><span class="line"><span class="title">info</span> c = <span class="string">&quot;Oh le beau canard &quot;</span> ++ (nom c) ++</span><br><span class="line"><span class="string">&quot; d&#x27;envergure &quot;</span> ++ show (enverg c) ++ <span class="string">&quot;m &quot;</span></span><br><span class="line"><span class="title">main</span> = <span class="keyword">let</span> c1 = <span class="type">Coin</span> <span class="string">&quot;Coincoin&quot;</span> <span class="number">0.8</span></span><br><span class="line">		   c2 = <span class="type">Coin</span> &#123; nom=<span class="string">&quot;Grocoin&quot;</span>, enverg =<span class="number">0.8</span> &#125;</span><br><span class="line">	       c3 = c2 &#123; enverg = <span class="number">1</span> &#125;</span><br><span class="line">	   <span class="keyword">in</span></span><br><span class="line">		   print (info c1 ++ info c3)</span><br></pre></td></tr></table></figure>
<h3 id="listes"><a class="markdownIt-Anchor" href="#listes"></a> Listes</h3>
<p>-Le type liste est <strong>natif</strong> à Haskell, la liste vide est []</p>
<p>-Le constructeur « élément plus liste donne liste » est noté : --追加的冒号</p>
<p>-Pour tout type a le type « liste de a » est noté [a] ;</p>
<p>-Accès à l’élément i (commençant à 0) : xs!!i.–获取索引</p>
<h4 id="listes-en-compréhension"><a class="markdownIt-Anchor" href="#listes-en-compréhension"></a> Listes en compréhension</h4>
<p>Les listes en compréhension (list comprehension) sont une facilité syntaxique pour créer des listes</p>
<p><strong>EXEMPLE</strong></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- les nombres pairs inférieurs à n (on peut faire mieux...)</span></span><br><span class="line"><span class="title">evens</span> n = [x+<span class="number">1</span> | x&lt; -[<span class="number">1</span>..(n-<span class="number">2</span>)], odd x]</span><br><span class="line"><span class="comment">-- les produits de nombres impairs à trois chiffres</span></span><br><span class="line"><span class="title">products3</span> = [m*n | m &lt;- [<span class="number">101</span> ,<span class="number">103</span>..<span class="number">999</span>] ,</span><br><span class="line"><span class="title">n</span> &lt;- [<span class="number">101</span> ,<span class="number">103</span>..<span class="number">999</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<ol>
<li>
<p>Construire la liste des triplets pythagoriciens (a, b, c), c.-à-d. tels que a^2 + b^2 = c^2 , dont la somme des composantes vaut 1000 et tels que a &lt; b &lt; c.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">triplets</span> = [(a,b,c) | a &lt;- [<span class="number">1</span>..<span class="number">333</span>],b&lt;-[a..<span class="number">666</span>],c&lt;-[b..<span class="number">1000</span>],a*a + b*b = c*c, a+b+c == <span class="number">1000</span>]</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction reverse qui inverse une liste</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">reverse&#x27;</span> :: <span class="type">String</span> -&gt; <span class="type">String</span></span><br><span class="line"><span class="title">reverse&#x27;</span> [] = []</span><br><span class="line"><span class="title">reverse&#x27;</span> (x:xs) = reverse&#x27; xs ++ [x] <span class="comment">--列表的拼接是++，[x]表示转为列表</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction delete qui efface la première occurrence d’un élément dans une liste</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">delete&#x27;</span> x []=[]</span><br><span class="line"><span class="title">delete&#x27;</span> x (y:xs) = <span class="keyword">if</span> x == y <span class="keyword">then</span> xs <span class="keyword">else</span> y: delete&#x27; x xs<span class="comment">--记住这里的y：</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction maximum qui trouve le maximum dans une liste d’entiers</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">maxi</span> :: <span class="type">Liste</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">maxi</span> [] = error <span class="string">&quot;list vide&quot;</span></span><br><span class="line"><span class="title">maxi</span> [x] = x <span class="comment">--这行很重要！</span></span><br><span class="line"><span class="title">maxi</span> (x:xs) = <span class="keyword">if</span> x &gt; maxi xs <span class="keyword">then</span> x <span class="keyword">else</span> maxi xs</span><br><span class="line"><span class="comment">--或者写成</span></span><br><span class="line"><span class="title">maxi</span> (x:xs)= max x (maxi xs)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction trimax qui réalise le tri par extraction du maximum dans une liste d’entiers</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">trimax</span> :: <span class="type">Liste</span> -&gt; <span class="type">Liste</span></span><br><span class="line"><span class="title">trimax</span> [] = []</span><br><span class="line"><span class="title">trimax</span> [x] = [x]</span><br><span class="line"><span class="title">trimax</span> xs = maxi xs : trimax (delete&#x27; (maxi xs) xs)</span><br><span class="line"><span class="comment">--或者写成</span></span><br><span class="line"><span class="title">trimax</span> xs = <span class="keyword">let</span> y = maxi xs</span><br><span class="line">            <span class="keyword">in</span> y : trimax(suppr y xs)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="types-algébriques-récursifs"><a class="markdownIt-Anchor" href="#types-algébriques-récursifs"></a> Types algébriques récursifs</h2>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- arithmétique de Peano</span></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Nat</span> = <span class="type">Zero</span> | <span class="type">Succ</span> <span class="type">Nat</span></span></span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<p>Écrire une fonction addition qui réalise l’addition de deux Nat.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Nat</span> = <span class="type">Zero</span> | <span class="type">Succ</span> <span class="type">Nat</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br><span class="line"></span><br><span class="line"><span class="title">eval</span> :: <span class="type">Nat</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">eval</span> <span class="type">Zero</span> = <span class="number">0</span></span><br><span class="line"><span class="title">eval</span> (<span class="type">Succ</span> n) = <span class="number">1</span> + eval n</span><br><span class="line"></span><br><span class="line"><span class="title">addition</span> <span class="type">Zero</span> n = n</span><br><span class="line"><span class="title">addditon</span> (<span class="type">Succ</span> n1) n2 = addition n1 (<span class="type">Succ</span> n2)</span><br></pre></td></tr></table></figure>
<h3 id="arbres"><a class="markdownIt-Anchor" href="#arbres"></a> Arbres</h3>
<p><strong>EXERCICE</strong></p>
<ol>
<li>
<p>Écrire un type Liste représentant une liste d’entiers</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Liste</span> = <span class="type">Vide</span> | <span class="type">Cons</span> <span class="type">Integer</span> <span class="type">Liste</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction sum qui fait la somme des éléments d’une liste d’entiers</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">somme</span> :: <span class="type">Liste</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">somme</span> <span class="type">Vide</span> = <span class="number">0</span></span><br><span class="line"><span class="title">somme</span> (<span class="type">Cons</span> x xs) = x + somme xs</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire un type ArbreBinaire représentant un arbre binaire d’entiers</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Arbre</span> = <span class="type">Vide</span> | <span class="type">Cons</span> <span class="type">Integer</span> <span class="type">Arbre</span> <span class="type">Arbre</span> <span class="keyword">deriving</span> <span class="type">Show</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire une fonction hauteur qui calcule la hauteur d’un arbre binaire d’entiers.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">hauteur</span> :: <span class="type">Arbre</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">hauteur</span> <span class="type">Vide</span> = <span class="number">0</span></span><br><span class="line"><span class="title">hauteur</span> (<span class="type">Cons</span> _ gauche droit) = <span class="number">1</span> + max (hauteur gauche) (hauteur droit)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="types-génériques"><a class="markdownIt-Anchor" href="#types-génériques"></a> Types génériques</h2>
<p>On peut définir les fonctions de façon générique :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- pour tout type a</span></span><br><span class="line"><span class="title">fsquare</span> ::(a-&gt;a)-&gt;(a-&gt;a)</span><br><span class="line"><span class="title">fsquare</span> f = f.f</span><br></pre></td></tr></table></figure>
<p>Et des types algébriques de façon générique (paramétrée) : pour tout type a, le type [a] est une liste de a et Maybe a est la possibilité d’un a ;</p>
<p>代数类型以通用（参数化）的方式：对于任何类型的a，[a]是一个a的列表，Maybe a是一个a的可能性。</p>
<p>Et des fonctions génériques sur des types algébriques génériques :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- pour tout type a</span></span><br><span class="line"><span class="title">head</span>::[a]-&gt;a</span><br><span class="line"><span class="title">head</span> [] = error (<span class="string">&quot;head: Empty list&quot;</span>) <span class="comment">-- fct. partielle!</span></span><br><span class="line"><span class="title">head</span> (x:xs) = x</span><br><span class="line"><span class="comment">-- dans Data.Maybe</span></span><br><span class="line"><span class="title">listToMaybe</span>::[a]-&gt;<span class="type">Maybe</span> a</span><br><span class="line"><span class="title">listToMaybe</span> [] = <span class="type">Nothing</span></span><br><span class="line"><span class="title">listToMaybe</span> (x:xs) = <span class="type">Just</span> x</span><br></pre></td></tr></table></figure>
<p>[没太看懂这啥呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜呜]</p>
<h2 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h2>
<ol>
<li>参数化类型</li>
<li>Types génériques</li>
<li>正方形面积</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PFONC</category>
      </categories>
      <tags>
        <tag>haskell</tag>
      </tags>
  </entry>
  <entry>
    <title>PFONC_CM4&amp;5</title>
    <url>/2022/09/16/PFONC_CM4&amp;5/</url>
    <content><![CDATA[<h1 id="pfonc_cm45"><a class="markdownIt-Anchor" href="#pfonc_cm45"></a> PFONC_CM4&amp;5</h1>
<p>CHAP4 : Fonctions d’ordre supérieur</p>
<p>-Les fonctions sont des objets de première classe : elles se manipulent comme les types de base：函数像基本类型那样被传递[参数和返回值]</p>
<p>-Notion de fonction d’ordre supérieur : ensembles de fonctions dans le domaine ou le codomaine：域或共域中的函数[?]</p>
<span id="more"></span>
<h2 id="curryfication"><a class="markdownIt-Anchor" href="#curryfication"></a> Curryfication</h2>
<p>Haskell 的所有函数都只有一个参数, 所有多个参数的函数都是 Curried functions，下面以max函数为例进行说明</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">max x y = if x &gt; y then x else y</span><br></pre></td></tr></table></figure>
<p>他的类型说明是：<code>max::Integer -&gt;Integer -&gt;Integer</code>，但按照我们一般的理解，它应该长这样：<code>max::(Integer,Integer)-&gt;Integer</code></p>
<p>-Pour tout x, (max x) est une fonction d’un entier qui donne un entier</p>
<p>Haskell 的所有函数都只有一个参数</p>
<p>-Donc max est aussi une fonction d’un entier qui donne « une fonction d’un entier qui donne un entier »</p>
<p>max函数的参数是(一个返回值为int的函数)–&gt;<code>max :: Integer-&gt;(Integer -&gt;Integer)</code> --哎这里为什么不是 <code>max :: (Integer-&gt;Integer) -&gt;Integer</code></p>
<p>Et comme -&gt; est associatif à droite :<code>max :: Integer-&gt;Integer -&gt;Integer</code></p>
<p>Toute fonction de plusieurs variables peut être transformée en une fonction d’une seule variable, pour tous types a,b,c, on peut définir deux fonctions, les fonctions sont « curryfiées » (curried) par défaut en Haskell</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">curry</span>::((a,b)-&gt;c)-&gt;(a-&gt;(b-&gt;c))</span><br><span class="line"><span class="title">uncurry</span>::(a-&gt;(b-&gt;c))-&gt;((a,b)-&gt;c)</span><br><span class="line"><span class="comment">-- et on pourrait définir des versions pour tous</span></span><br><span class="line"><span class="comment">-- les tuples de types possibles</span></span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<ol>
<li>
<p>Quel est le type de map ?</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">map _ [] = []</span><br><span class="line">map f (x:xs) = (f x):(map f xs)</span><br></pre></td></tr></table></figure>
<p>map :: (a-&gt;b)-&gt;list-&gt;list</p>
<p>map :: (a-&gt;b) -&gt; [a] -&gt;[b]</p>
</li>
<li>
<p>Écrire une fonction flip, avec son type, qui à partir d’une fonction d’arité 2, donne la même fonction avec les variables inversées. Par exemple : <code>main = print (flip (-) 1 3) --2(pas -2)</code></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">filp</span> :: (a-&gt;b-&gt;c) -&gt; (b-&gt;a-&gt;c)<span class="comment">--为什么不是((a-&gt;b)-&gt;c-&gt;d) -&gt;((a-&gt;b)-&gt;d-&gt;c) --为什么f不是(a-&gt;b)，为什么不是交换b和c</span></span><br><span class="line"><span class="title">filp</span> f x y = f y x</span><br><span class="line"><span class="title">main</span> = print (flip (-) <span class="number">1</span> <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>​		以及这个神奇的错误		<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.mxxkg4q7kow.png" alt="yaimage" /></p>
<h2 id="application-de-fonction"><a class="markdownIt-Anchor" href="#application-de-fonction"></a> Application de fonction($)</h2>
<p>L’application de fonction est une fonction. Elle est notée ($) en Haskell :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line">($)::(a-&gt;b)-&gt;a-&gt;b</span><br><span class="line">($) f x = f x</span><br></pre></td></tr></table></figure>
<p>函数调用符，空格的函数调用符是左结合，而 $ 则是右结合，用于减少代码中括号的数目</p>
<p>Elle est de faible priorité et <strong>associative à droite</strong> :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">main</span> = print (square (inc <span class="number">2</span>))</span><br><span class="line"><span class="comment">-- ou un peu plus concis</span></span><br><span class="line"><span class="title">main</span> = print $ square $ inc <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>Elle sert pour définir certaines fonctions d’ordre supérieur :</p>
<p>将数据作为函数使用：映射一个函数调用符到一组函数组成的 List</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- valeurs en 0 des fonctions f, g et h</span></span><br><span class="line"><span class="title">map</span> ($ <span class="number">0</span>) [f,g,h]</span><br></pre></td></tr></table></figure>
<h2 id="fonctions-anonymes-fonctions-λ"><a class="markdownIt-Anchor" href="#fonctions-anonymes-fonctions-λ"></a> Fonctions anonymes (Fonctions λ)</h2>
<p>On peut définir des fonctions anonymes, appelées fonctions λ : P. ex. λx.(x + 1) ou λx.(λy.(x + y))</p>
<p>En Haskell :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">inc</span> x = x+<span class="number">1</span></span><br><span class="line"><span class="title">map</span> inc [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="comment">-- ou simplement</span></span><br><span class="line"><span class="title">map</span> (\x -&gt; x+<span class="number">1</span>) [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="comment">-- plusieurs variables:</span></span><br><span class="line"><span class="title">add</span> = (\x y -&gt; x+y)</span><br></pre></td></tr></table></figure>
<p>编写 lambda: \ ，+用空格分隔的参数，±&gt; 后面的函数体。通常用括号将其括起，要不然它就会占据整个右边部分。</p>
<h2 id="fermetures-closures-闭包"><a class="markdownIt-Anchor" href="#fermetures-closures-闭包"></a> Fermetures (Closures): 闭包</h2>
<p>On quantifie implicitement[隐式地量化了] x et y quand on écrit :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f</span> x y = x + y <span class="comment">-- ∀x, ∀y</span></span><br></pre></td></tr></table></figure>
<p>La variable y est dite libre dans :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f&#x27;</span> x = x + y <span class="comment">-- ∀x--不能这样子</span></span><br></pre></td></tr></table></figure>
<p>On ne peut pas évaluer f’ x sans une valeur pour y. D’ailleurs, toute seule, ce n’est pas une déclaration correcte</p>
<p>Une fermeture est <strong>une fonction avec variables libres plus une valeur</strong> pour ces variables libres :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Pour tout y, g y est une fermeture，x是自由变量</span></span><br><span class="line"><span class="title">g</span> y = (\x -&gt; x + y)</span><br></pre></td></tr></table></figure>
<p>那么怎么传参和调用呢？</p>
<h2 id="récursion-sur-les-listes"><a class="markdownIt-Anchor" href="#récursion-sur-les-listes"></a> Récursion sur les listes</h2>
<h3 id="map"><a class="markdownIt-Anchor" href="#map"></a> map</h3>
<p>-Plutôt que de faire de la récursivité explicite, on utilise plutôt, autant que possible, des fonctions de plus haut niveau [与其说是显式递归，不如说是尽可能地使用了更高层次的函数]</p>
<p>-On a déjà vu <strong>map qui permet d’appliquer une fonction à chaque élément d’une liste</strong> :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">map</span>::(a-&gt;b)-&gt;[a]-&gt;[b]</span><br><span class="line"><span class="title">map</span> _ [] = []</span><br><span class="line"><span class="title">map</span> f (x:xs) = (f x):(map f xs)</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE:</strong></p>
<p>En utilisant map, écrire une fonction an qui donne la liste de toutes les anagrammes d’un mot[找所有字母组合]. On pourra utiliser aussi : concat::[[a]]-&gt;[a] ,delete::Eq a =&gt;a-&gt;[a]-&gt;[a]</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Data.List (<span class="title">delete</span>,<span class="title">nub</span>)</span><br><span class="line"><span class="comment">-- anagrammes</span></span><br><span class="line"><span class="title">an</span> :: <span class="type">String</span> -&gt; [<span class="type">String</span>]</span><br><span class="line"><span class="title">an</span> <span class="string">&quot;&quot;</span> = [<span class="string">&quot;&quot;</span>]</span><br><span class="line"><span class="title">an</span> xs = concat $ map (\x -&gt; map (x:) $ an $ delete x xs ) $ nub xs<span class="comment">--nub拿来去重复的</span></span><br></pre></td></tr></table></figure>
<h3 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> filter</h3>
<p><strong>filter permet de ne garder que les éléments d’une liste qui satisfont un certain prédicat</strong> :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">filter</span>::(a-&gt;<span class="type">Bool</span>)-&gt;[a]-&gt;[a]</span><br><span class="line"><span class="title">filter</span> _ [] = []</span><br><span class="line"><span class="title">filter</span> f (x:xs) = <span class="keyword">if</span> f x <span class="keyword">then</span> x:(filter f xs)</span><br><span class="line">				   <span class="keyword">else</span> filter f xs</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE</strong></p>
<p>Écrire une fonction <em>premiers</em> qui donne la liste des entiers premiers inférieurs à n. On pourra ne pas chercher à optimiser et :</p>
<ol>
<li>écrire une fonction diviseurs donnant une liste de diviseurs de n</li>
<li>utiliser la syntaxe [x…y] pour la liste des entiers compris entre x et y ;</li>
<li>et rem::Integer-&gt;Integer-&gt;Integer donnant le reste la division entière ;</li>
<li>et null::[a]-&gt;Bool indiquant si une liste est vide ;</li>
<li>ou length::[a]-&gt;Int donnant la taille d’une liste.</li>
</ol>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">premiers</span> n listes = filter (&lt;n) listes</span><br><span class="line"><span class="comment">--找除数</span></span><br><span class="line"><span class="title">diviseurs</span> n = filter ((==<span class="number">0</span>).(rem n)) [<span class="number">1</span>..n]<span class="comment">--rem与mod差不多，但.的用法原则是什么？</span></span><br><span class="line"><span class="comment">--找质数</span></span><br><span class="line"><span class="title">premiers&#x27;</span> n = filter ((==<span class="number">2</span>).length.diviseurs) [<span class="number">2</span>..n-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="folds"><a class="markdownIt-Anchor" href="#folds"></a> folds</h3>
<p><strong>foldl</strong> et <strong>foldr</strong> permettent de réduire une liste à une valeur en appliquant une fonction d’arité 2 récursivement à tous les éléments :</p>
<p><strong>foldl</strong> réduit de la gauche vers la droite :</p>
<p>它从 List 的左端开始折叠，用初始值和 List 的头部调用这二元函数，得一新的累加值，并用新的累加值与 List 的下一个元素调用二元函数</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">foldl</span>::(b-&gt;a-&gt;b)-&gt;b-&gt;[a]-&gt;b</span><br><span class="line"><span class="title">foldl</span> f x [] = x</span><br><span class="line"><span class="title">foldl</span> f x (y:ys) = foldl f (f x y) ys</span><br><span class="line"></span><br><span class="line"><span class="title">foldl</span> f z [x1, x2, ..., xn]</span><br><span class="line">			== f (...(f (f z x1) x2)...) xn</span><br><span class="line"><span class="comment">-- ou en notation infixe</span></span><br><span class="line"><span class="title">foldl</span> f z [x1, x2, ..., xn]</span><br><span class="line">			== (...((z `f` x1) `f` x2)...) `f` xn</span><br></pre></td></tr></table></figure>
<p><strong>foldr</strong> réduit de la droite vers la gauche :</p>
<p>右折叠 foldr 的行为与左折叠相似，只是累加值是从 List 的右边开始</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">foldr</span>::(a-&gt;b-&gt;b)-&gt;b-&gt;[a]-&gt;b</span><br><span class="line"><span class="title">foldr</span> f x [] = x</span><br><span class="line"><span class="title">foldr</span> f x (y:ys) = f y (foldr f x ys)</span><br><span class="line"></span><br><span class="line"><span class="title">foldr</span> f z [x1, x2, ..., xn]</span><br><span class="line">		== f x1 (f x2 (...(f xn z)...))</span><br><span class="line"><span class="comment">-- ou en notation infixe</span></span><br><span class="line"><span class="title">foldr</span> f z [x1, x2, ..., xn]</span><br><span class="line">		== x1 `f` (x2 `f` (...(xn `f` z)...))</span><br></pre></td></tr></table></figure>
<p>右折叠可以处理无限长度的数据结构，而左折叠不可以。将 无限 List 从中断开执行左折叠是可以的，不过若是向右，就永远到不了头</p>
<p>foldl1,foldr1::(a-&gt;a-&gt;a)-&gt;[a]-&gt;a sont des versions sans élément de départ pour les listes non vides [没有起始元素的非空列表];</p>
<p>无需明确提供初始值。他们假定 List 的首个 (或末尾) 元素作为起始值，并从旁边的元素开始折叠</p>
<p>以sum函数说明</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">suml</span>::[<span class="type">Integer</span>]-&gt;<span class="type">Integer</span></span><br><span class="line"><span class="title">suml</span> xs = foldl (+) <span class="number">0</span> xs</span><br><span class="line"><span class="title">sumr</span>::[<span class="type">Integer</span>]-&gt;<span class="type">Integer</span></span><br><span class="line"><span class="title">sumr</span> xs = foldr (+) <span class="number">0</span> xs</span><br></pre></td></tr></table></figure>
<p><strong>EXERCICE:</strong></p>
<p>Écrire les fonctions suivantes (et tester à la main sur quelques exemples) :</p>
<ol>
<li>
<p>sum::[Integer]-&gt;Integer qui donne la somme des éléments d’une liste ;</p>
<p>上面</p>
</li>
<li>
<p>maximum::[Integer]-&gt;Integer qui donne le maximum des éléments d’une liste ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">maxi&#x27;</span>::[<span class="type">Integer</span>]-&gt;<span class="type">Integer</span></span><br><span class="line"><span class="title">maxi&#x27;</span> [] = error <span class="string">&quot;list: vide&quot;</span></span><br><span class="line"><span class="title">maxi&#x27;</span> xs = foldl1 max xs</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>and::[Bool]-&gt;Bool qui indique si tous les éléments sont vrais ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">and&#x27;</span>::[<span class="type">Bool</span>]-&gt;<span class="type">Bool</span></span><br><span class="line"><span class="title">and&#x27;</span> = foldr (&amp;&amp;) <span class="type">True</span></span><br><span class="line"></span><br><span class="line"><span class="title">or&#x27;</span> :: [<span class="type">Bool</span>] -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">or&#x27;</span> = foldr (||) <span class="type">False</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>any::(a-&gt;Bool)-&gt;[a]-&gt;Bool qui indique si au moins un élément de la liste satisfait un prédicat donné ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">any&#x27;</span>::(a-&gt;<span class="type">Bool</span>)-&gt;[a]-&gt;<span class="type">Bool</span></span><br><span class="line"><span class="title">any&#x27;</span> f = or&#x27;.(map f)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>concat::[[a]]-&gt;[a] qui concatène une liste de listes.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">concat&#x27;</span> :: [[a]] -&gt; [a]</span><br><span class="line"><span class="title">concat&#x27;</span> = foldl (++) []</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="问题集"><a class="markdownIt-Anchor" href="#问题集"></a> 问题集</h2>
<ol>
<li>Curryfication的max和例题的fild</li>
<li>闭包函数的调用和有什么用</li>
<li>P41的map全排列</li>
<li>上面的3,4,5怎么都不加列表参数，看不懂啊啊啊啊啊</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PFONC</category>
      </categories>
      <tags>
        <tag>haskell</tag>
      </tags>
  </entry>
  <entry>
    <title>PFONC_CM6</title>
    <url>/2022/11/12/PFONC_CM6/</url>
    <content><![CDATA[<h1 id="pfonc_cm6"><a class="markdownIt-Anchor" href="#pfonc_cm6"></a> PFONC_CM6</h1>
<p>Méthodes d’évaluation et Entrées, Sorties en Haskell</p>
<span id="more"></span>
<h1 id="méthodes-dévaluation"><a class="markdownIt-Anchor" href="#méthodes-dévaluation"></a> Méthodes d’évaluation</h1>
<h2 id="évaluation-stricte-ou-eager"><a class="markdownIt-Anchor" href="#évaluation-stricte-ou-eager"></a> Évaluation stricte (ou eager)</h2>
<p>Les arguments[参数] d’une fonction sont toujours complètement évalués <strong>avant</strong> que ladite fonction ne soit évaluée.  一个函数的参数总是在函数被求值之前被完全求值。</p>
<p>C’est le cas de la plupart des langages fonctionnels ou non.</p>
<p>Java,C,Python</p>
<p>Facilite le raisonnement sur l’ordre d’évaluation, et l’évaluation de performance.</p>
<h2 id="évaluation-non-stricte-ou-lazy"><a class="markdownIt-Anchor" href="#évaluation-non-stricte-ou-lazy"></a> Évaluation non-stricte (ou lazy)</h2>
<p>Les arguments d’une fonction ne sont évalués que lorsqu’on en a besoin.</p>
<p>Permet de raisonner sur des constructions infinies :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">fibs</span> ::[<span class="type">Integer</span>]</span><br><span class="line"><span class="title">fibs</span> = <span class="number">0</span>:<span class="number">1</span>: zipWith (+) fibs (tail fibs)</span><br><span class="line"><span class="comment">-- le 1234567e nombre de Fibonacci</span></span><br><span class="line"><span class="title">main</span> = print $ fibs !! <span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<p>Donne un gain de performance dans certains cas.</p>
<p><strong>EXERCICE:</strong></p>
<p>Donner une construction de la liste (infinie) des nombres premiers, en ne testant que les diviseurs potentiels premiers inférieurs ou égaux à √ n pour tout n candidat.</p>
<p>On pourra :</p>
<ol>
<li>
<p>repartir des fonctions <em>premiers</em> et <em>diviseurs</em> ;</p>
</li>
<li>
<p>utiliser takeWhile::(a-&gt;Bool)-&gt;[a]-&gt;[a] ;</p>
</li>
<li>
<p>utiliser la syntaxe [2…] pour la liste infinie des entiers supérieurs ou égaux à 2 ;</p>
</li>
</ol>
   <figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">diviseurs&#x27;&#x27;</span> n = filter ((==<span class="number">0</span>).(rem n)) $ takeWhile ((&lt;=n).(^<span class="number">2</span>))premiers&#x27;&#x27;</span><br><span class="line"><span class="title">premiers&#x27;&#x27;</span> = <span class="number">2</span>:filter (null.diviseurs&#x27;&#x27;) [<span class="number">3</span>..]</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> = take <span class="number">10</span> premiers&#x27;&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="évaluation-non-stricte-et-folds"><a class="markdownIt-Anchor" href="#évaluation-non-stricte-et-folds"></a> Évaluation non-stricte et folds</h2>
<p>foldr peut fonctionner sur des listes infinies.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">any</span>::(a-&gt;<span class="type">Bool</span>)-&gt;[a]-&gt;<span class="type">Bool</span></span><br><span class="line"><span class="title">any</span> f = (foldr (||) <span class="type">False</span>).(map f)</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">	<span class="comment">-- Ceci donne vrai</span></span><br><span class="line">	print $ any even [<span class="number">1</span>..]</span><br><span class="line">	<span class="comment">-- Mais ceci boucle indéfiniment</span></span><br><span class="line">	print $ any (\x-&gt;<span class="type">False</span>) [<span class="number">1</span>..]</span><br></pre></td></tr></table></figure>
<p>Mais <strong>foldr n’est pas récursif terminal</strong> et peut donc remplir la mémoire avec les opérations en attente sur de grosses listes</p>
<p>foldl ne peut pas fonctionner sur des listes infinies mais est récursif terminal.</p>
<h1 id="entrées-sorties-en-haskell"><a class="markdownIt-Anchor" href="#entrées-sorties-en-haskell"></a> Entrées, Sorties en Haskell</h1>
<p>En Haskell, les E/S sont explicites[明确的] dans le type, via le type paramétré IO :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- Écrire à l&#x27;écran</span></span><br><span class="line"><span class="comment">-- () est le type dit unitaire qui représente &quot;rien&quot;</span></span><br><span class="line"><span class="title">putStr</span>::<span class="type">String</span> -&gt;<span class="type">IO</span> ()</span><br><span class="line"><span class="title">putStrLn</span>::<span class="type">String</span> -&gt;<span class="type">IO</span> () <span class="comment">-- saute une ligne à la fin</span></span><br><span class="line"><span class="comment">-- Affichage &quot;intelligent&quot; pour les instance de Show</span></span><br><span class="line"><span class="title">print</span>::(<span class="type">Show</span> a) =&gt; a -&gt; <span class="type">IO</span> ()</span><br><span class="line"><span class="title">print</span> = putStrLn.show</span><br><span class="line"><span class="comment">-- Lire au clavier</span></span><br><span class="line"><span class="title">getLine</span>::<span class="type">IO</span> <span class="type">String</span> <span class="comment">-- une ligne</span></span><br><span class="line"><span class="title">getChar</span>::<span class="type">IO</span> <span class="type">Char</span> <span class="comment">-- un caractère</span></span><br><span class="line"><span class="comment">-- Dual de Show</span></span><br><span class="line"><span class="title">read</span>::(<span class="type">Read</span> a)=&gt;<span class="type">String</span> -&gt;a</span><br></pre></td></tr></table></figure>
<p>IO est une monade[单元，单体] (cf. généricité avancée)</p>
<p>L’utilisation de IO est contaminante[污染物] : il n’existe pas de fonction de type IO a -&gt; a</p>
<h3 id=""><a class="markdownIt-Anchor" href="#"></a> &gt;&gt;=</h3>
<p>On peut par contre appliquer une fonction de type a -&gt; IO b à une valeur de type IO a avec l’opérateur bind[绑定] :<code> (&gt;&gt;=) :: IO a -&gt; (a -&gt; IO b) -&gt; IO b</code></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- écho</span></span><br><span class="line"><span class="title">main</span>::<span class="type">IO</span> () <span class="comment">-- main fait toujours des E/S et produit le</span></span><br><span class="line"><span class="comment">-- type « unitaire » (c.-à-d. rien)</span></span><br><span class="line"><span class="title">main</span> = getLine &gt;&gt;= putStrLn</span><br></pre></td></tr></table></figure>
<p><strong>Exercice:</strong></p>
<p>Modifier le code précédent pour :</p>
<ol>
<li>
<p>afficher l’écho suivi de la même ligne à l’envers : entrer coin affiche coin nioc.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">echo1</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">echo1</span> = <span class="keyword">do</span></span><br><span class="line">		a &lt;- getLine <span class="comment">--绑定</span></span><br><span class="line">		putStrLn $ reverse a</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>lire deux lignes et les afficher dans l’ordre inverse : entrer coin puis meuh affiche meuh coin.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">echo2</span> :: <span class="type">IO</span> <span class="type">String</span></span><br><span class="line"><span class="title">echo2</span> = <span class="keyword">do</span></span><br><span class="line">	a &lt;- getLine <span class="comment">--绑定</span></span><br><span class="line">	b &lt;- getLine</span><br><span class="line">	putStrLn b ++ a</span><br></pre></td></tr></table></figure>
<p>老师写的</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">echo</span> = getLine &gt;&gt;= putStrLn</span><br><span class="line"><span class="title">echo1</span> = getLine &gt;&gt;= (\ x -&gt; putStrLn (x ++<span class="string">&quot; &quot;</span>++reverse x))<span class="comment">--这里的这个匿名函数理解不了呜呜呜呜</span></span><br><span class="line"></span><br><span class="line"><span class="title">echo2</span> = getLine &gt;&gt;= (\x -&gt; getLine &gt;&gt;= (\y -&gt; putStrLn (y++<span class="string">&quot; &quot;</span>++ x)))</span><br><span class="line"><span class="title">echo3</span> = getLine &gt;&gt;= (\x -&gt; getLine &gt;&gt;= (\y -&gt; putStrLn y &gt;&gt; putStrLn x))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="do"><a class="markdownIt-Anchor" href="#do"></a> do</h3>
<p>• L’enchaînement d’opérations par &gt;&gt;= produit du code peu lisible[可读性降低] ;</p>
<p>• Haskell propose la notation do pour simplifier,这里以改写echo2为例</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">echo2</span> &#x27; :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">echo2</span> &#x27; = <span class="keyword">do</span></span><br><span class="line">	x &lt;- getLine</span><br><span class="line">	y &lt;- getLine</span><br><span class="line">	putStrLn (y ++ <span class="string">&quot; &quot;</span> ++ x)</span><br></pre></td></tr></table></figure>
<p><strong>La dernière instruction doit avoir le type promis (ici IO ()), qui est nécessairement de la forme IO a --do的最后一条语句一定是le type promis[QUOI?]</strong></p>
<p>La fonction return :: a -&gt; IO a permet de promouvoir une valeur de type a dans la monade IO, 就是说do配retrun就可以了的意思？</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">putStrLn&#x27;</span> :: <span class="type">IO</span> <span class="type">String</span> -&gt; <span class="type">IO</span> ()</span><br><span class="line"><span class="title">putStrLn&#x27;</span> s = s &gt;&gt;= putStrLn</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">	putStrLn&#x27; getLine</span><br><span class="line">	putStrLn&#x27; $ return <span class="string">&quot;coin&quot;</span></span><br></pre></td></tr></table></figure>
<p>Exercice:</p>
<ol>
<li>
<p>Écrire une fonction ioLength :: IO Int qui donne la longueur d’une chaîne de caractères lue au clavier.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">ioLength</span> :: <span class="type">IO</span> <span class="type">Int</span></span><br><span class="line"><span class="title">ioLength</span> = <span class="keyword">do</span></span><br><span class="line">	a &lt;- getLine</span><br><span class="line">	return $ sum [<span class="number">1</span>|_ &lt;- a]</span><br><span class="line"><span class="comment">--老师写的：</span></span><br><span class="line"><span class="title">ioLength</span> :: <span class="type">IO</span> <span class="type">Int</span></span><br><span class="line"><span class="title">ioLength</span> = getLine &gt;&gt;= return.length	</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Le chiffre de César permet de chiffrer un message sur l’alphabet {a, . . . , z} en décalant chaque lettre de 13 rangs vers z (avec une rotation si besoin) : par exemple a donne n et s donne f .</p>
<ol>
<li>
<p>Écrire une fonction cesar qui pour un entier représentant le décalage (classiquement 13 mais on généralise) et une chaîne de caractère produit la chaîne de caractères chiffrée comme ci-dessus. Par exemple, cesar 13 “coin” vaut “pbva” et cesar 13 “pbva” vaut “coin”. La fonction ord :: Char -&gt; Int donne le rang d’une lettre (attention le rang de ‘a’ n’est pas 0) et chr :: Int -&gt; Char donnant la lettre correspondant à un rang. Ces fonctions sont disponibles dans Data.Char.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">cesar_</span> :: <span class="type">Int</span> -&gt; <span class="type">String</span> -&gt; <span class="type">String</span></span><br><span class="line"><span class="title">cesar_</span> n xs= <span class="keyword">let</span> a = ord &#x27;a&#x27; </span><br><span class="line">              <span class="keyword">in</span> map (chr.(+a).(`mod` <span class="number">26</span>).(+n).(subtract a).ord) xs</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Écrire la fonction main permettant l’acquisition de l’entier et de la chaîne de caractères, appelant la fonction cesar et affichant le résultat.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">execCesar</span> :: <span class="type">IO</span>()</span><br><span class="line"><span class="title">execCesar</span> = <span class="keyword">do</span></span><br><span class="line">    s &lt;- getLine</span><br><span class="line">    n &lt;- getLine</span><br><span class="line">    putStrLn $ cesar_ (read s) n   </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Modifier la fonction main pour forcer l’utilisateur à entrer un entier compris entre 1 et 25. Utiliser let x = … (sans in) pour définir une nouvelle valeur x dans un bloc do</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">	n &lt;- getLine</span><br><span class="line">	<span class="keyword">let</span> x = read n :: <span class="type">Int</span><span class="comment">--[!!!]</span></span><br><span class="line">	<span class="keyword">if</span> x &gt;= <span class="number">1</span> &amp;&amp; x &lt;=<span class="number">25</span><span class="comment">--and</span></span><br><span class="line">        <span class="keyword">then</span> <span class="keyword">do</span></span><br><span class="line">            n &lt;- getLine</span><br><span class="line">            putStrLn $ cesar x n</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            putStrLn <span class="string">&quot;try again&quot;</span> &gt;&gt; loopCesar</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<h3 id="évaluation-non-stricte-des-es"><a class="markdownIt-Anchor" href="#évaluation-non-stricte-des-es"></a> Évaluation non-stricte des E/S</h3>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">ess</span> = [print <span class="string">&quot;Coin&quot;</span>, print <span class="string">&quot;Meuh&quot;</span>, print <span class="string">&quot;Miaou&quot;</span>]</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line"><span class="title">ess</span>!!<span class="number">2</span> <span class="comment">-- Affiche Miaou</span></span><br><span class="line"><span class="title">sequence_</span> ess <span class="comment">-- Exécute tous les affichages de la liste</span></span><br></pre></td></tr></table></figure>
<p>sequence 接受一串 I/O action，并返回一个会依序执行他们的 I/O action.例：</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">	a &lt;- getLine</span><br><span class="line">	b &lt;- getLine</span><br><span class="line">	c &lt;- getLine</span><br><span class="line">	print [a,b,c]</span><br><span class="line"><span class="comment">--等价于</span></span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">	rs &lt;- sequence [getLine, getLine, getLine]</span><br><span class="line">	print rs</span><br></pre></td></tr></table></figure>
<p>On peut aussi utiliser sequence pour Maybe:</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">xs</span> = sequence [<span class="type">Just</span> <span class="number">1</span>, <span class="type">Just</span> <span class="number">3</span>, <span class="type">Just</span> <span class="number">5</span>] <span class="comment">-- Just [1,3,5]</span></span><br><span class="line"><span class="title">ys</span> = sequence [<span class="type">Just</span> <span class="number">1</span>, <span class="type">Nothing</span> , <span class="type">Just</span> <span class="number">5</span>] <span class="comment">-- Nothing</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.40qxf8c70ku0.png" alt="yaimage" /></p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PFONC</category>
      </categories>
      <tags>
        <tag>haskell</tag>
      </tags>
  </entry>
  <entry>
    <title>PFONC_CM7</title>
    <url>/2022/11/12/PFONC_CM7/</url>
    <content><![CDATA[<h1 id="pfonc_cm7"><a class="markdownIt-Anchor" href="#pfonc_cm7"></a> PFONC_CM7</h1>
<p>Généricité avancée</p>
<span id="more"></span>
<h2 id="classes-de-typestypeclasses"><a class="markdownIt-Anchor" href="#classes-de-typestypeclasses"></a> Classes de types(Typeclasses)</h2>
<h3 id="instances"><a class="markdownIt-Anchor" href="#instances"></a> Instances</h3>
<p>Une classe de types définit un ensemble de fonctions que toute instance doit définir. 一个类型类定义了一组任何实例必须定义的函数。</p>
<p>比如说等于</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">Eq</span> a <span class="keyword">where</span></span></span><br><span class="line">	(==), (/=)::a -&gt; a -&gt; <span class="type">Bool</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">-- Minimal complete definition: (==) or (/=)</span></span><br><span class="line">	x /= y = not (x == y)</span><br><span class="line">	x == y = not (x /= y)</span><br><span class="line"><span class="class"><span class="keyword">class</span> (<span class="type">Eq</span> <span class="title">a</span>, <span class="type">Show</span> <span class="title">a</span>) =&gt; <span class="type">Num</span> a <span class="keyword">where</span></span></span><br><span class="line">	(+), (-), (*) :: a -&gt; a -&gt; a</span><br><span class="line">	negate :: a -&gt; a</span><br><span class="line">	abs, signum :: a -&gt; a</span><br><span class="line">	fromInteger :: <span class="type">Integer</span> -&gt; a</span><br><span class="line">	<span class="comment">-- Minimal complete definition:</span></span><br><span class="line">	<span class="comment">-- All, except negate or (-)</span></span><br><span class="line">	x - y = x + negate y</span><br><span class="line">	negate x = <span class="number">0</span> - x</span><br></pre></td></tr></table></figure>
<p>On peut ensuite définir des instances de classes :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Animal</span> = <span class="type">Canard</span> | <span class="type">Vache</span></span></span><br><span class="line"><span class="class"><span class="keyword">instance</span> <span class="type">Eq</span> <span class="type">Animal</span> <span class="keyword">where</span></span></span><br><span class="line">	<span class="type">Canard</span> == <span class="type">Canard</span> = <span class="type">True</span></span><br><span class="line">	<span class="type">Canard</span> == <span class="type">Vache</span> = <span class="type">False</span></span><br><span class="line">	<span class="type">Vache</span> == <span class="type">Canard</span> = <span class="type">False</span></span><br><span class="line">	<span class="type">Vache</span> == <span class="type">Vache</span> = <span class="type">True</span></span><br></pre></td></tr></table></figure>
<p>Ou instances automatiques pour Eq, Ord (comparaisons) Enum ([x…y]), Bounded (maxBound::a, minBound::a), Show (show::a-&gt;String), ou Read (read::String-&gt;a) :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Animal</span> = <span class="type">Canard</span> | <span class="type">Vache</span> <span class="keyword">deriving</span> (<span class="type">Eq</span>, <span class="type">Ord</span>, <span class="type">Show</span>)</span></span><br></pre></td></tr></table></figure>
<p>所以instance是在定义操作符吗</p>
<h3 id="foncteur-functor"><a class="markdownIt-Anchor" href="#foncteur-functor"></a> Foncteur (functor)</h3>
<p><strong>EXERCICE:</strong></p>
<ol>
<li>
<p>Définir un type algébrique Expr a pour représenter une expression arithmétique sur des valeurs de type a et comportant les opérateurs d’incrément, de décrément, d’inversion[倒数], et de négation[否定]</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Expr</span> a = <span class="type">Val</span> a <span class="comment">--这又是什么神奇的写法呜呜呜</span></span></span><br><span class="line">            | <span class="type">Inc</span> (<span class="type">Expr</span> a)  </span><br><span class="line">            | <span class="type">Dec</span> (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Inv</span> (<span class="type">Expr</span> a)<span class="comment">--倒数</span></span><br><span class="line">            | <span class="type">Neg</span> (<span class="type">Expr</span> a)<span class="comment">--</span></span><br><span class="line">            <span class="keyword">deriving</span> <span class="type">Show</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Définir une fonction evaluate qui étant donnée une expression de type Expr a renvoit la valeur de type a correspondante</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">evaluate</span> :: (<span class="type">Fractional</span> a) =&gt; <span class="type">Expr</span> a -&gt; a</span><br><span class="line"><span class="comment">--evaluate :: Expr a-&gt; a</span></span><br><span class="line"><span class="title">evaluate</span> (<span class="type">Val</span> a) = a</span><br><span class="line"><span class="title">evaluate</span> (<span class="type">Inc</span> a) = <span class="number">1</span> + evaluate a</span><br><span class="line"><span class="title">evaluate</span> (<span class="type">Dec</span> a) = -<span class="number">1</span> + evaluate a</span><br><span class="line"><span class="title">evaluate</span> (<span class="type">Inv</span> a) = <span class="number">1</span> /  (evaluate b)</span><br><span class="line"><span class="title">evaluate</span> (<span class="type">Neg</span> a) = negate $ evaluate a</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Tester avec l’expression correspondant à dec(-(inc(4))). Et avec 1/0 ?</p>
<p>第一个因为加上-号所以没有测试成功，1/0输出是Infinity</p>
</li>
<li>
<p>On veut éviter les valeurs infinies et les traiter explicitement à part :</p>
<ul>
<li>
<p>définir une fonction isZero qui indique si un Maybe a vaut 0 ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">isZero</span> :: <span class="type">Maybe</span> a -&gt; <span class="type">Bool</span></span><br><span class="line"><span class="title">isZero</span> <span class="type">Nothing</span> = <span class="type">False</span></span><br><span class="line"><span class="title">isZero</span> (<span class="type">Just</span> a) = a==<span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>définir une fonction mevaluate qui renvoit cette fois un Maybe a, qui sera Nothing ssi l’expression contient une division par 0.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mevaluate</span> :: (<span class="type">Eq</span> a, <span class="type">Fractional</span> a) =&gt; <span class="type">Expr</span> a -&gt; <span class="type">Maybe</span> a</span><br><span class="line"><span class="title">mevaluate</span> (<span class="type">Val</span> x) = <span class="type">Just</span> x</span><br><span class="line"><span class="title">mevaluate</span> (<span class="type">Inc</span> y) = <span class="keyword">let</span> my = mevaluate y</span><br><span class="line">                        z = fromJust my<span class="comment">--fromJust就是haskell里面一个函数，在说如果a是Jsut就返回a</span></span><br><span class="line">                    <span class="keyword">in</span> <span class="keyword">if</span> isNothing my</span><br><span class="line">                        <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="type">Just</span> $ <span class="number">1</span> + z<span class="comment">--fromJust my </span></span><br><span class="line"><span class="title">mevaluate</span> (<span class="type">Dec</span> y) = <span class="keyword">let</span> my = mevaluate y</span><br><span class="line">                    <span class="keyword">in</span> <span class="keyword">if</span> isNothing my</span><br><span class="line">                        <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="type">Just</span> $ fromJust my - <span class="number">1</span></span><br><span class="line"><span class="title">mevaluate</span> (<span class="type">Neg</span> y) = <span class="keyword">let</span> my = mevaluate y</span><br><span class="line">                    <span class="keyword">in</span> <span class="keyword">if</span> isNothing my</span><br><span class="line">                        <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="type">Just</span> $ negate $fromJust my</span><br><span class="line"><span class="title">mevaluate</span> (<span class="type">Inv</span> y) = <span class="keyword">let</span> my = mevaluate y</span><br><span class="line">                    <span class="keyword">in</span> <span class="keyword">if</span> isNothing my || isZero my</span><br><span class="line">                        <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="type">Just</span> $ <span class="number">1</span> / fromJust my</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>Les traitements pour les 4 opérateurs sont similaires : écrire une fonction d’ordre supérieur mfmap, qui étant donnés un opérateur de type a-&gt;b (incrément, décrément, etc.), ainsi qu’une valeur de type Maybe a renvoit le résultat de type Maybe b.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mfmap</span> ::(a-&gt;b)-&gt; <span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> b</span><br><span class="line"><span class="title">mfmap</span> _ <span class="type">Nothing</span> = <span class="type">Nothing</span></span><br><span class="line"><span class="title">mfmap</span> f (<span class="type">Just</span> x) = <span class="type">Just</span> $ f x</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Simplifier la fonction mevaluate en utilisant mfmap.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mevaluate_</span> :: (<span class="type">Eq</span> a, <span class="type">Fractional</span> a) =&gt; <span class="type">Expr</span> a -&gt; <span class="type">Maybe</span> a</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Val</span> x) = <span class="type">Just</span> x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Inc</span> x) = mfmap (+<span class="number">1</span>) $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Dec</span> x) = mfmap (subtract <span class="number">1</span>) $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Neg</span> x) = mfmap negate $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Inv</span> x) = <span class="keyword">let</span> my = mevaluate_ x</span><br><span class="line">                     <span class="keyword">in</span> <span class="keyword">if</span> isZero my <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> mfmap(<span class="number">1</span>/) my</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>再看也写不出来T^T</p>
<p>Maybe, muni de mfmap, est appelé un foncteur</p>
<p>Cette construction est généralisable pour d’autres constructeurs de type, elle permet de promouvoir (lift) une fonction de type a-&gt;b en une fonction de type m a-&gt;m b.</p>
<p>Haskell possède une classe de types Functor, dans laquelle la fonction de promotion s’appelle <strong>fmap</strong>, fmap doit vérifier les propriétés suivantes :</p>
<ul>
<li>fmap id == id</li>
<li>fmap (f.g) == (fmap f).(fmap g)</li>
</ul>
<p><em>Maybe, [], r-&gt;</em> ont des instances de la classe <strong>Functor</strong>.</p>
<p>EXERCICE:</p>
<ol>
<li>
<p>Vérifier que la fonction mfmap satisfait ces deux propriétés ;</p>
</li>
<li>
<p>Définir la fonction fmap pour le constructeur de type [] ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">fmap</span> :: (a-&gt;b) -&gt; [a] -&gt;[b]</span><br><span class="line"><span class="title">fmap</span> _ [] = []</span><br><span class="line"><span class="title">fmap</span> f (x:xs) = f x : fmap f xs</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Définir la fonction fmap pour le constructeur de type r-&gt;.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">fmap</span> :: (a-&gt;b) -&gt; (r-&gt;a) -&gt; (r-&gt;b)<span class="comment">--用复合函数 f(g) = f.g 理解</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="foncteur-applicatif-applicative-functor"><a class="markdownIt-Anchor" href="#foncteur-applicatif-applicative-functor"></a> Foncteur applicatif (applicative functor)</h4>
<p>EXERCICE:</p>
<ol>
<li>
<p>ajouter l’addition, la soustraction, la multiplication et la division au type Expr a</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Expr</span> a = <span class="type">Val</span> a </span></span><br><span class="line">            | <span class="type">Inc</span> (<span class="type">Expr</span> a)  </span><br><span class="line">            | <span class="type">Dec</span> (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Inv</span> (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Neg</span> (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Addi</span> (<span class="type">Expr</span> a) (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Sous</span> (<span class="type">Expr</span> a) (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Mult</span> (<span class="type">Expr</span> a) (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Divi</span> (<span class="type">Expr</span> a) (<span class="type">Expr</span> a)</span><br><span class="line">            | <span class="type">Add3</span> (<span class="type">Expr</span> a) (<span class="type">Expr</span> a) (<span class="type">Expr</span> a)</span><br><span class="line">            <span class="keyword">deriving</span> <span class="type">Show</span>  </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>compléter mevaluate, en faisant apparaître comme précédemment une fonction mliftA2 qui joue le rôle de mfmap pour les fonctions à deux paramètres.</p>
</li>
</ol>
   <figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mlift2</span> ::(a-&gt;b-&gt;c)-&gt; <span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> b-&gt;<span class="type">Maybe</span> c</span><br><span class="line"><span class="title">mlift2</span> _ <span class="type">Nothing</span> _= <span class="type">Nothing</span></span><br><span class="line"><span class="title">mlift2</span> _ _ <span class="type">Nothing</span> = <span class="type">Nothing</span></span><br><span class="line"><span class="title">mlift2</span> f (<span class="type">Just</span> x) (<span class="type">Just</span> y) = <span class="type">Just</span> $ f x y</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>
<p>définir apm ;</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.gxpec2pqqhc.png" alt="yaimage" /></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">apm</span> :: <span class="type">Maybe</span>(a-&gt;b)-&gt;(<span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> b)<span class="comment">--传入一个函数，然后输出一个函数--&gt;输出的是函数的结果</span></span><br><span class="line"><span class="title">apm</span> <span class="type">Nothing</span> _ = <span class="type">Nothing</span></span><br><span class="line"><span class="title">apm</span> _ <span class="type">Nothing</span> = <span class="type">Nothing</span></span><br><span class="line"><span class="title">apm</span> (<span class="type">Just</span> f) (<span class="type">Just</span> x) = <span class="type">Just</span> $ f x</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>remplacer mliftA2 par mfmap et apm ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mlift2</span> :: (a -&gt; b -&gt; c) -&gt; <span class="type">Maybe</span> a -&gt; <span class="type">Maybe</span> b-&gt;<span class="type">Maybe</span> c</span><br><span class="line"><span class="title">mlift2</span> f = apm.(mfmap f)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>écrire une fonction add3 qui somme trois éléments de type a ;</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">add3</span> :: (<span class="type">Num</span> a) =&gt; a -&gt; a -&gt; a -&gt; a</span><br><span class="line"><span class="title">add3</span> x y z = x+y+z</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ajouter un opérateur d’addition à 3 éléments dans Expr a et compléter mevaluate.</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">mevaluate_</span> :: (<span class="type">Eq</span> a, <span class="type">Fractional</span> a) =&gt; <span class="type">Expr</span> a -&gt; <span class="type">Maybe</span> a</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Val</span> x) = <span class="type">Just</span> x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Inc</span> x) = mfmap (+<span class="number">1</span>) $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Dec</span> x) = mfmap (subtract <span class="number">1</span>) $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Neg</span> x) = mfmap negate $ mevaluate_ x</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Inv</span> x) = <span class="keyword">let</span> my = mevaluate_ x</span><br><span class="line">                     <span class="keyword">in</span> <span class="keyword">if</span> isZero my <span class="keyword">then</span> <span class="type">Nothing</span></span><br><span class="line">                        <span class="keyword">else</span> mfmap(<span class="number">1</span>/) my</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Addi</span> x y) = mlift2 (+)  (mevaluate_ x)  (mevaluate_ y)</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Sous</span> x y) = mlift2 (-) (mevaluate_ x)  (mevaluate_ y)</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Mult</span> x y) =  mlift2 (*) (mevaluate_ x)  (mevaluate_ y)</span><br><span class="line"><span class="title">mevaluate_</span> (<span class="type">Divi</span> x y) = <span class="keyword">if</span> isZero (mevaluate_ y) <span class="keyword">then</span> <span class="type">Nothing</span> </span><br><span class="line">                        <span class="keyword">else</span> mlift2 (/) (mevaluate_ x)  (mevaluate_ y)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="pure"><a class="markdownIt-Anchor" href="#pure"></a> pure</h4>
<ul>
<li>
<p>Soit mpure :: a -&gt; Maybe a la fonction telle que mpure x = Just x ;</p>
</li>
<li>
<p>mpure transforme a minima un a en Maybe a et on peut l’utiliser à la place de mfmap avec apm :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- les deux sont équivalents</span></span><br><span class="line"><span class="title">mfmap</span> (+) (<span class="type">Maybe</span> <span class="number">1</span>) `apm ` <span class="type">Nothing</span></span><br><span class="line"><span class="title">mpure</span> (+) `apm ` (<span class="type">Maybe</span> <span class="number">1</span>) `apm ` <span class="type">Nothing</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Alors Maybe muni de mpure et apm est un foncteur applicatif ;</p>
</li>
<li>
<p>Cette construction est généralisable et permet de promouvoir des fonctions à plus de un paramètres.</p>
</li>
<li>
<p>Haskell définit une classe de type Applicative dont les instances implémentent pure et ap (aussi notée (&lt;*&gt;)).</p>
</li>
<li>
<p>Ces deux fonctions doivent satisfaire</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">pure</span> id &lt;*&gt; v = v <span class="comment">-- identité</span></span><br><span class="line"><span class="title">pure</span> (.) &lt;*&gt; u &lt;*&gt; v &lt;*&gt; w = u &lt;*&gt; (v &lt;*&gt; w)<span class="comment">-- composition:组成</span></span><br><span class="line"><span class="title">pure</span> f &lt;*&gt; pure x = pure (f x) <span class="comment">-- homomorphisme:同态</span></span><br><span class="line"><span class="title">u</span> &lt;*&gt; pure y = pure ($ y) &lt;*&gt; u <span class="comment">-- interchangeabilité:可交换</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Exercice: Définir fmap en fonction de pure et &lt;*&gt;</p>
<p>fmap ::  (a-&gt;b) -&gt; [a] -&gt;[b]</p>
<p>pure fmap &lt;*&gt; a = pure</p>
<h4 id="le-cas-de-r-"><a class="markdownIt-Anchor" href="#le-cas-de-r-"></a> le cas de r-&gt;</h4>
<p>On peut définir pure et &lt;*&gt; pour que r-&gt; soit un foncteur applicatif :</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">pure</span>::a-&gt;(r-&gt;a)</span><br><span class="line"><span class="title">pure</span> x = (\_ -&gt; x)</span><br><span class="line">(&lt;*&gt;)::(r-&gt;(a-&gt;b))-&gt;(r-&gt;a)-&gt;(r-&gt;b)<span class="comment">--这不是fmap吗？</span></span><br><span class="line"><span class="title">f</span> &lt;*&gt; u = (\x -&gt; f x (u x))</span><br></pre></td></tr></table></figure>
<p>Exercice: Donner une expression sans variable ni λ (point-free) des fonctions :</p>
<ol>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mtext> </mtext><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mi>c</mi><mi>o</mi><mi>s</mi><mtext> </mtext><mi>x</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">f\ x = (cos\ x) * x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">f</span> = (*) &lt;*&gt; cos</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>$ g\ x = (cos\ x) * (sin\ x)$</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">g</span> =pure (*)&lt;*&gt; cos &lt;*&gt; sin</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="monade"><a class="markdownIt-Anchor" href="#monade"></a> Monade</h2>
<h3 id="monades-et-foncteurs"><a class="markdownIt-Anchor" href="#monades-et-foncteurs"></a> Monades et foncteurs</h3>
<p>Toute monade est un foncteur</p>
<p>Toute monade est un foncteur applicatif</p>
<h3 id="b站"><a class="markdownIt-Anchor" href="#b站"></a> b站</h3>
<p>fmap: (a-&gt;b) -&gt; f a -&gt; f b ,将盒子[Just,Maybe类型]里面的值取出来进行函数操作</p>
<p>&lt;*&gt; (apply函数)：f (a-&gt;b) -&gt; f a -&gt; f b,将盒子装的函数取出来与盒子中的值进行操作</p>
<p>bind函数&gt;&gt;=: Monad f =&gt; f a -&gt; (a -&gt; f b) -&gt; f b, 接收一个值的盒子和一个返回值是盒子的函数，返回一个装着值[结果]的盒子</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.62dhbbhje0s0.png" alt="yaimage" /></p>
<p>好难哦</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PFONC</category>
      </categories>
      <tags>
        <tag>haskell</tag>
        <tag>monade</tag>
      </tags>
  </entry>
  <entry>
    <title>PRO20</title>
    <url>/2022/02/07/PRO20/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>趁着可能对P2E有点用处的东风，把上学期一个很有意思的softskill给整理了。</p>
<span id="more"></span>
<h1 id="中间"><a class="markdownIt-Anchor" href="#中间"></a> 中间</h1>
<p>就是一个教怎么组织项目的课，具体实例是建养鸡场，选址、选鸡蛋品种（bio或者非bio）、然后风险评估啥的。以下是一些有趣的概念的大略整理。</p>
<h2 id="définitions"><a class="markdownIt-Anchor" href="#définitions"></a> Définitions</h2>
<p>Project: Un ensemble de tâches coordonnées accomplies par des personnes utilisant des moyens dans le but de répondre au besoin<br />
du client avec la qualité demandée en temps et coûts maitrisés</p>
<p>Gestion de projet: La Gestion de projet s’assure du déroulement opérationnel prévu dans la planification. Elle reporte à la fonction de pilotage de projet sur l’avancement, elle sollicite des prises de décisions et remonte des alertes</p>
<p>Management de projet: Direction + Gestion = Management</p>
<h2 id="cadrage框架-du-project"><a class="markdownIt-Anchor" href="#cadrage框架-du-project"></a> Cadrage(框架) du Project</h2>
<ul>
<li>
<p>L’identité du client</p>
</li>
<li>
<p>Les objectifs du projet</p>
<p>目标应该满足的原则：S(Spécifique)M(Mesurable)A(Atteignable)R(Réaliste)T(Temporel)</p>
</li>
<li>
<p>Les délais à respecter</p>
</li>
<li>
<p>Les limites du budget à investir</p>
</li>
<li>
<p>L’utilité du projet</p>
</li>
<li>
<p>La rentabilité escomptée du projet</p>
</li>
</ul>
<h2 id="décomposer-le-projet"><a class="markdownIt-Anchor" href="#décomposer-le-projet"></a> Décomposer le projet</h2>
<h3 id="wbs"><a class="markdownIt-Anchor" href="#wbs"></a> WBS</h3>
<p>WBS : Work Breakdown Structure. Décomposition hiérarchique, axée sur les livrables, du travail que l’équipe de projet doit exécuter pour atteindre les objectifs du projet et produire les livrables souhaités.</p>
<p>做法：</p>
<ul>
<li>Spécifier les objectifs du projet</li>
<li>Identifier spécifiquement les produits, services ou résultats</li>
<li>Identifier les travaux</li>
<li>Subdiviser les éléments jusqu’au niveau qui permet la<br />
planification et le contrôle</li>
</ul>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207153543.webp" alt="ya20220207153543" style="zoom:80%;" />
<h3 id="pbs"><a class="markdownIt-Anchor" href="#pbs"></a> PBS</h3>
<p>Product Breakdown Structure</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207215522.webp" alt="ya20220207215522" style="zoom:80%;" />
<p>注：当时好像是上课没咋讲这个，后来是按照网上(ZHIHU)的文章说，WBS是以项目结果为导向的工作过程的结构分解，PBS是项目交付结果本身为对象进行的层级结构分解来做的。具体到这道题，就是，WBS包含整个项目管理，PBS只是按照养鸡场本身按照地基、外部建筑、内部建筑、服务设施这样子分级。</p>
<h2 id="diagramme-de-gantt"><a class="markdownIt-Anchor" href="#diagramme-de-gantt"></a> Diagramme de Gantt</h2>
<p>C’est un outil que peut aider à définir un planning réaliste.</p>
<p>貌似就是一个项目的时间的进程表，找出要做的事情，然后分析发生的先后或者并行关系，搞成条状表就行了。</p>
<p>Exemple(红色表示关键事件) :</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207153744.webp" alt="ya20220207153744" style="zoom:80%;" />
<h2 id="pert"><a class="markdownIt-Anchor" href="#pert"></a> PERT</h2>
<p>C’est un outil souvent utilisée pour la gestion de projets  importants et à long terme.</p>
<p>PERT = Program Evaluation and Review Technic (ou CPM: Critical Path Method)</p>
<p>就是把上面那个Gantt图给这样子表示，然后往里面写时间就行，然后选时间最大的那条线（不是我说，这好像算法里面的那个啥图</p>
<p>Exemple:</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207154725.webp" alt="ya20220207154725" style="zoom:90%;" />
<h2 id="les-risques"><a class="markdownIt-Anchor" href="#les-risques"></a> Les risques</h2>
<p>Principaux risques  incluent  Risques financiers, Risques marchés, Risques technologiques, Risques liés à l’équipe.</p>
<p>Pour gestion des risques, on peut utiliser le table comme ça,</p>
<p>就是两部分：严重程度+发生概率</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207154820.webp" alt="ya20220207154820" style="zoom:80%;" />
<p>对，记得当时有个文化shock还蛮有趣的小点就是，当时有个风险是员工absent，然后写应对措施，我说搞时刻表，然后其他人：推迟上班的时间或者改变工作环境。</p>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>其实这个项目还有超级多的东西，当时TD课第一节课搞WBS、PBS和GANTT的图，第二节课搞投资和收益计算，第三节课是风险评估，参与程度递减，到最后一节课就除了汇报叭叭两句就完全没太参与进去，不知道在干嘛了T^T</p>
<p>反正最后结论就是要养bio的鸡，唔。</p>
]]></content>
      <categories>
        <category>NANTE</category>
        <category>Softskills</category>
        <category>PRO20</category>
      </categories>
      <tags>
        <tag>SOFTSKILLS</tag>
      </tags>
  </entry>
  <entry>
    <title>SSTEM_DS</title>
    <url>/2022/01/27/SSTEM-DS/</url>
    <content><![CDATA[<h1 id="centresstem期末自救centre"><a class="markdownIt-Anchor" href="#centresstem期末自救centre"></a> <centre>SSTEM期末自救<centre></h1>
<span id="more"></span>
<h2 id="td"><a class="markdownIt-Anchor" href="#td"></a> TD</h2>
<h3 id="td1"><a class="markdownIt-Anchor" href="#td1"></a> TD1</h3>
<h3 id="question-après-avoir-défini-les-différentes-parties-prenantes-du-système-identifiez-les-différentes-utilisations-et-modélisez-les-sous-forme-dun-diagramme-des-cas-dutilisation"><a class="markdownIt-Anchor" href="#question-après-avoir-défini-les-différentes-parties-prenantes-du-système-identifiez-les-différentes-utilisations-et-modélisez-les-sous-forme-dun-diagramme-des-cas-dutilisation"></a> Question: Après avoir <strong>défini les différentes parties prenantes</strong> du Système, identifiez les différentes utilisations et modélisez les sous forme d’<strong>un diagramme des cas d’utilisation</strong></h3>
<p>Diagramme des cas d’utilisation 的 étape:</p>
<ol>
<li>
<p>Finalité,Missions,Objectifs(套话)</p>
<p>Finalité: <em><strong>Assurer le fonctionnement des systèmes d</strong></em>’information de réseau ferroviaire.</p>
<p>Missions:具体任务，得在问题中找，可能用到的词：définir,assurer,informer</p>
<p>Objectifs: <em><strong>Pendre des dispositions raisonnable pour tous les</strong></em> trains grace <em><strong>à la coopération mutuelle entre</strong></em> [……]</p>
</li>
<li>
<p>Les parties prenantes</p>
<p>找实体，可以画个方框图</p>
<p>comme ca：</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220127160428.webp" alt="ya20220127160428" style="zoom:80%;" />
</li>
<li>
<p>Les cas d’utilisation</p>
<p>画小人图</p>
<p>一些值得注意的点：方框+标题，拓展的include和extend(都是虚箭头画的)</p>
<p>include: Celles qui sont incluses dans une action existante —&gt;obligatoirement,一定被执行</p>
<p>​				1.任务与子任务</p>
<p>​				2.小人的任务与任务间</p>
<p>extend: Celles qui étendent une action existante–&gt;éventuellement,可能被执行</p>
</li>
<li>
<p>Les interfaces</p>
<p>随缘</p>
</li>
</ol>
<h3 id="td2"><a class="markdownIt-Anchor" href="#td2"></a> TD2</h3>
<p>Question:</p>
<h4 id="1identifier-les-parties-prenantes-et-leur-rôle-dans-ce-processus"><a class="markdownIt-Anchor" href="#1identifier-les-parties-prenantes-et-leur-rôle-dans-ce-processus"></a> 1.Identifier les parties prenantes et leur rôle dans ce processus</h4>
<p>关键是区分<strong>ACTEUR</strong> OU <strong>COLLABORATEUR</strong>–&gt;看是否有开启或者终止活动</p>
<p>然后在行为中找出触发事件(<strong>Délencheur</strong>)和终止事件(<strong>Final</strong>)</p>
<p>可能用到的一些词：envoyer,refuse,annulation,verifier</p>
<h4 id="2-modéliser-ce-processus-en-bpmn"><a class="markdownIt-Anchor" href="#2-modéliser-ce-processus-en-bpmn"></a> 2. Modéliser ce processus en BPMN</h4>
<p>表示判断：sinon,valide</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220127162932.webp" alt="ya20220127162932" style="zoom:50%;" />
<p>表示发信：envoyer,demande</p>
<p>表示收信：recevoir</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220127163018343.png" alt="image-20220127163018343" /></p>
<p>终止和起始：都是空心圆但终止的要粗一点</p>
<h3 id="td3"><a class="markdownIt-Anchor" href="#td3"></a> TD3</h3>
<p>Question:</p>
<h4 id="1concevoir-le-diagramme-entités-associations-de-ce-système"><a class="markdownIt-Anchor" href="#1concevoir-le-diagramme-entités-associations-de-ce-système"></a> 1.Concevoir le diagramme Entités-Associations de ce système.</h4>
<p>​		画<em><strong>ER</strong></em>图等价于画<em><strong>MCD</strong></em>: Modèle Conceptuel des Données(概念模型)</p>
<p>ER(MCD):主体+关系+实体与关系的比</p>
<ol>
<li>
<p>objet &lt;=&gt;entité</p>
<p>Propriété &lt;=&gt;attribut，属性，列</p>
<p>没有外键</p>
</li>
<li>
<p>lien &lt;=&gt;association</p>
<p>记得加比例，关于比例–&gt;est le lien entre l’entité et l’association</p>
<p>是minimum+maximum</p>
<p>minimum:0:peut ne pas apparaître</p>
<p>​                   1:doit apparaître</p>
<p>maximum:1:ne peut pas apparaître plus d’une fois</p>
<p>​                     n:peut apparaître plusieurs fois</p>
</li>
</ol>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220127170205.webp" alt="ya20220127170205" style="zoom:95%;" />
<p>一些典型的关系及其比例：être: chefdegare和être是1:1，être和personne是0:1</p>
<p>​											  detype: salle和detype是1:1,detype和typedesalle是0:n</p>
<p>TD3的2到5题是对ER的评价和补充，暂时不想展开看（TO BE ADDED）</p>
<h3 id="td4"><a class="markdownIt-Anchor" href="#td4"></a> TD4</h3>
<p>Question: Cet exercice s’appuie sur la modélisation de gestion de réseau ferroviaire mis en place lors des TDs précédents. Il a pour but de pratiquer SQL à travers l’écriture d’un certain nombre de requêtes. Le MCD utilisé est joint ci-dessous.</p>
<h4 id="1à-partir-du-mcd-mettre-en-oeuvre-le-modèle-physique-de-la-base-de-données-mpd"><a class="markdownIt-Anchor" href="#1à-partir-du-mcd-mettre-en-oeuvre-le-modèle-physique-de-la-base-de-données-mpd"></a> 1.À partir du MCD, mettre en oeuvre le modèle physique de la base de données (MPD)</h4>
<p>逻辑模型<em><strong>MLD</strong></em>: Modèle logiques与物理模型<em><strong>MPD</strong></em>: Modèle physiques：物理模型有数据类型</p>
<p>MPD:含实体的外键+箭头+数据类型</p>
<ol>
<li>
<p>实体</p>
<p>标出主键（PK）与<strong>外键</strong>（FK）</p>
</li>
<li>
<p>箭头</p>
<p>箭头指向：从表指向主表的外键所在的位置</p>
<p>从表：以主表的主键（primary key）值为外键 (Foreign Key)的表，可以通过外键与主表进行关联查询。从表与主表通过外键进行关联查询.<br />
箭头：从表外键➡️主表</p>
</li>
<li>
<p>数据类型</p>
<p>integer/float</p>
<p>character varying(256/128)</p>
<p>date/datetime/timestamp</p>
</li>
</ol>
<h4 id="2查询"><a class="markdownIt-Anchor" href="#2查询"></a> 2.查询</h4>
<p>基本语句：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> (<span class="keyword">DISTINCT</span>) 列名 </span><br><span class="line"><span class="keyword">FROM</span> 表名 <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> 表名</span><br><span class="line"><span class="keyword">WHERE</span>: <span class="number">1.</span><span class="built_in">UPPER</span>(Nom) <span class="keyword">LIKE</span> <span class="string">&#x27;%TER%&#x27;</span></span><br><span class="line">	   <span class="number">2.</span><span class="built_in">EXTRACT</span>(<span class="keyword">YEAR</span><span class="operator">/</span><span class="keyword">MONTH</span><span class="operator">/</span>DOW<span class="operator">/</span><span class="keyword">HOUR</span><span class="operator">/</span>MINUTES  <span class="keyword">FROM</span> 表名)<span class="operator">=</span>……</span><br></pre></td></tr></table></figure>
<h3 id="td5"><a class="markdownIt-Anchor" href="#td5"></a> TD5</h3>
<h4 id="1表的创建"><a class="markdownIt-Anchor" href="#1表的创建"></a> 1.表的创建</h4>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名</span><br><span class="line">(</span><br><span class="line">    列名  数据类型  <span class="keyword">PRIMARY</span> KEY<span class="operator">/</span><span class="keyword">NOT</span> <span class="keyword">NULL</span><span class="operator">/</span>或其他</span><br><span class="line">    </span><br><span class="line">    <span class="comment">--联合主键</span></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> 约束名 <span class="keyword">PRIMARY</span> KEY(列名<span class="number">1</span>,列名<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">--外键约束</span></span><br><span class="line">    <span class="keyword">CONSTRAINT</span> 约束名</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY(外键名)</span><br><span class="line">    <span class="keyword">REFERENCES</span> 表名(外键名)</span><br><span class="line">    <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">NO</span> ACTION</span><br><span class="line">    <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="2表的增删改"><a class="markdownIt-Anchor" href="#2表的增删改"></a> 2.表的增删改</h4>
<ol>
<li>
<p>INSERT</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名 <span class="keyword">VALUES</span> (<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">--若插入的列为空，写NULL</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>DELETE</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 表名</span><br><span class="line"><span class="keyword">WHERE</span> </span><br><span class="line"><span class="comment">--where里面写查询</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--EXMPLE</span></span><br><span class="line"><span class="keyword">WHERE</span> trajet_id <span class="keyword">in</span> </span><br><span class="line">			(<span class="keyword">SELECT</span> trajet_id <span class="keyword">FROM</span> arret </span><br><span class="line"> 			<span class="keyword">WHERE</span> <span class="built_in">EXTRACT</span>(<span class="keyword">YEAR</span> <span class="keyword">FROM</span> arret_horaireprevu) <span class="operator">=</span> <span class="number">2016</span> <span class="keyword">AND</span> </span><br><span class="line"> 			<span class="built_in">EXTRACT</span>(<span class="keyword">MONTH</span> <span class="keyword">FROM</span> arret_horaireprevu) <span class="operator">=</span> <span class="number">2</span> <span class="keyword">AND</span> </span><br><span class="line"> 			<span class="built_in">EXTRACT</span>(<span class="keyword">YEAR</span> <span class="keyword">FROM</span> arret_horaireprevu) <span class="operator">&lt;</span> <span class="number">9</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>UPDATE</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 表名</span><br><span class="line"><span class="keyword">SET</span> 列名</span><br><span class="line"><span class="keyword">WHERE</span> ……</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="tp"><a class="markdownIt-Anchor" href="#tp"></a> TP</h2>
<h3 id="tp1"><a class="markdownIt-Anchor" href="#tp1"></a> TP1</h3>
<p>查询工作SELECT</p>
<p>1.UNION SELECT: Donner la/les fonction(s) de Yvon Manac’h</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;Mecanicien&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> Mecanicien <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> Personne </span><br><span class="line"><span class="keyword">WHERE</span> <span class="built_in">UPPER</span>(Personne_Nom) <span class="operator">=</span> <span class="string">&#x27;MANAC&#x27;&#x27;H&#x27;</span> <span class="keyword">AND</span> <span class="built_in">UPPER</span>(Personne_Prenom) <span class="operator">=</span> <span class="string">&#x27;YVON&#x27;</span> </span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="string">&#x27;Agent&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> Agent <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> Personne </span><br><span class="line"><span class="keyword">WHERE</span> <span class="built_in">UPPER</span>(Personne_Nom) <span class="operator">=</span> <span class="string">&#x27;MANAC&#x27;&#x27;H&#x27;</span> <span class="keyword">AND</span> <span class="built_in">UPPER</span>(Personne_Prenom) <span class="operator">=</span> <span class="string">&#x27;YVON&#x27;</span> </span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="string">&#x27;Conducteur&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> Conducteur <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> Personne </span><br><span class="line"><span class="keyword">WHERE</span> <span class="built_in">UPPER</span>(Personne_Nom) <span class="operator">=</span> <span class="string">&#x27;MANAC&#x27;&#x27;H&#x27;</span> <span class="keyword">AND</span> <span class="built_in">UPPER</span>(Personne_Prenom) <span class="operator">=</span> <span class="string">&#x27;YVON&#x27;</span> </span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="string">&#x27;ChefDeGare&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> ChefDeGare <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> Personne</span><br><span class="line"><span class="keyword">WHERE</span> <span class="built_in">UPPER</span>(Personne_Nom) <span class="operator">=</span> <span class="string">&#x27;MANAC&#x27;&#x27;H&#x27;</span> <span class="keyword">AND</span> <span class="built_in">UPPER</span>(Personne_Prenom) <span class="operator">=</span> <span class="string">&#x27;YVON&#x27;</span></span><br></pre></td></tr></table></figure>
<p>2.嵌套查询:Donner les horaires en gare de Nantes, pour les trains qui relient Nantes à Lyon pour la journée de demain. En pratique, on regardera quels trajets s’arrêtent à Nantes et Lyon. Attention, les gares de Lyon ne s’appellent pas ‘Gare de Lyon’ mais comporte Lyon dans leur nom.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> train_id,trajet_id,arret_horaireprevu</span><br><span class="line"><span class="keyword">FROM</span> train <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> trajet <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> arret</span><br><span class="line"><span class="keyword">WHERE</span> trajet_id <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> trajet_id</span><br><span class="line">	<span class="keyword">FROM</span> train <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> trajet <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> arret</span><br><span class="line">	<span class="keyword">WHERE</span> arret_horaireprevu <span class="keyword">BETWEEN</span> <span class="string">&#x27;2021-12-21 00:00:00&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2021-12-21 23:59:59&#x27;</span> <span class="keyword">AND</span></span><br><span class="line">	  	  <span class="built_in">UPPER</span>(gare_abrege) <span class="keyword">LIKE</span> <span class="string">&#x27;%NANTES%&#x27;</span></span><br><span class="line">	<span class="keyword">INTERSECT</span> <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> trajet_id</span><br><span class="line">			  <span class="keyword">FROM</span> train <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> trajet <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> arret</span><br><span class="line">			  <span class="keyword">WHERE</span> arret_horaireprevu <span class="keyword">BETWEEN</span> <span class="string">&#x27;2021-12-21 00:00:00&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2021-12-21 23:59:59&#x27;</span> <span class="keyword">AND</span></span><br><span class="line">					<span class="built_in">UPPER</span>(gare_abrege) <span class="keyword">LIKE</span> <span class="string">&#x27;%LYON%&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> arret_horaireprevu</span><br><span class="line"></span><br><span class="line"><span class="comment">--关于intersect:取交集--&gt;并集：union,差集：except</span></span><br></pre></td></tr></table></figure>
<h3 id="tp2"><a class="markdownIt-Anchor" href="#tp2"></a> TP2</h3>
<p>继续写select(聚集函数)</p>
<p>1.Combien y a-t-il de conducteurs dans la base ?</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="comment">--COUNT(*)拿来统计列</span></span><br><span class="line"><span class="keyword">FROM</span> conducteur</span><br></pre></td></tr></table></figure>
<p><a href="http://2.De">2.De</a> combien de gare chaque chef de gare est-il responsable?</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> personne_nom,personne_prenom,personne_id,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> gare <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> chefdegare <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> personne <span class="keyword">GROUP</span> <span class="keyword">BY</span> personne_nom,personne_prenom,personne_id </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> count</span><br></pre></td></tr></table></figure>
<p>注意点：GROUP BY上写除函数之外的所有的select,聚集函数后可以直接命名，comme ca</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220127180520.webp" alt="ya20220127180520" /></p>
<p>3.MAX、AVG</p>
<h3 id="tp3"><a class="markdownIt-Anchor" href="#tp3"></a> TP3</h3>
<p>SELECT + 导出PDF</p>
<p>Générez un document, nommé rapport05.pdf, avec la liste des 5 propriétaires possédant les plus grandes superficies,<br />
triés en ordre décroissant des sommes de superficie de terrain qu’ils possèdent. On utilisera pour cela la fonction <strong>ST_AREA</strong>（算面积使用）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> personne_nom,<span class="built_in">SUM</span>(ST_AREA(parcelle_geometry)) <span class="keyword">AS</span> area,<span class="built_in">COUNT</span>(parcelle_id)</span><br><span class="line"><span class="keyword">FROM</span> culture <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> parcelle <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> appartient <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> personne</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> personne_nom</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> area <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<h2 id="project"><a class="markdownIt-Anchor" href="#project"></a> PROJECT</h2>
<p>TD6&amp;7 et TP 4&amp;5</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>SSTEM</category>
      </categories>
      <tags>
        <tag>DS</tag>
      </tags>
  </entry>
  <entry>
    <title>PYTHON_入门学习</title>
    <url>/2022/08/31/PYTHON/</url>
    <content><![CDATA[<h1 id="centrepython_入门学习centre"><a class="markdownIt-Anchor" href="#centrepython_入门学习centre"></a> <centre>PYTHON_入门学习<centre></h1>
<p>b站搜python出来的第一个：<a href="https://www.bilibili.com/video/BV1wD4y1o7AS?p=25&amp;spm_id_from=pageDriver&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8">https://www.bilibili.com/video/BV1wD4y1o7AS?p=25&amp;spm_id_from=pageDriver&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8</a></p>
<p>一般推荐，有点拖，但是一节很短看起来不累</p>
<span id="more"></span>
<h2 id="chap_0"><a class="markdownIt-Anchor" href="#chap_0"></a> CHAP_0</h2>
<h3 id="编码"><a class="markdownIt-Anchor" href="#编码"></a> 编码</h3>
<p>bit</p>
<p>byte: 8 bit</p>
<p>kb: 1024 byte</p>
<p>mb : 1024kb</p>
<p>ASCII码，GB2312(中文)，Unicode,UTF-8</p>
<h3 id="变量"><a class="markdownIt-Anchor" href="#变量"></a> 变量</h3>
<p>有一些保留字keyword不能用作变量名，list啊class啊这些</p>
<p>定义和实际组成</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.rpumcn2ei0w.png" alt="yaimage" /></p>
<p>一些常见的数据类型:int,float,bool,str</p>
<p>获取数据类型: type(变量名)</p>
<p>类型转换:str(age) 可以用单引号’age‘实现</p>
<h3 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h3>
<p>多行注释：三引号</p>
<p>中文注释：#coding:gbk</p>
<h3 id="input"><a class="markdownIt-Anchor" href="#input"></a> input()</h3>
<p>将输入内容存储到变量，注意一般存储的是str类型的</p>
<p>def 函数名(参数):#这里的参数*arg就是表示随意取几个    函数体#不写的话加上pass占位python</p>
<h3 id="print"><a class="markdownIt-Anchor" href="#print"></a> print</h3>
<p>数字不加引号</p>
<p>字符串加单双引号三引号都行，三引号可以在代码里面换行</p>
<p>可以输出含有运算符的表达式：print(3+5)，print(‘我叫’+name)。注意：1.浮点数，以及一个奇怪的解决方法</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2lzj9a1cdj60.png" alt="yaimage" style="zoom:88%;" />
<p>2.一定是同类型才能相加</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.wd52mw2hto0.png" alt="yaimage" style="zoom:70%;" />
<p>输出到文件：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fp = <span class="built_in">open</span>(<span class="string">&#x27;D:/text.txt&#x27;</span>,<span class="string">&#x27;a+&#x27;</span>)<span class="comment">#a+表示如果文件不存在就创建，存在就在文件内容里面追加</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;输出内容1&#x27;</span>,file=fp)</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure>
<p>\n:换行,print(‘hello\nworld’)</p>
<p>\t:空格</p>
<p>r:输出原字符,print(r’\n’)</p>
<h3 id="运算符"><a class="markdownIt-Anchor" href="#运算符"></a> 运算符</h3>
<p>算术运算符：+,-,*,/(是有小数的),//(整除),%,**(幂运算)</p>
<p>赋值运算符：=，支持+=这种，支持解包赋值：a,b,c=20,‘nana’,5.5-----&gt;交换就可以这样子写a,b = b,a，支持链式赋值，链式赋值指向的存储地址一致</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.4miwcu2qaxk0.png" alt="yaimage" /></p>
<p>比较运算符：&gt;,&lt;,!=,==,结果是bool类型</p>
<p>布尔运算符：and(与 &amp;&amp;),or(或 ||),not(非 !)；</p>
<p>​						in,not in 可以用于字符匹配</p>
<p>位运算：$按位与，|按位或，&lt;&lt;左移（2倍），&gt;&gt;右移（1/2）</p>
<p>运算符的优先级：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.7klj2mirgbw0.png" alt="yaimage" /></p>
<h3 id="pycharm"><a class="markdownIt-Anchor" href="#pycharm"></a> pycharm</h3>
<p>打断点+shift和f9就是调试模式</p>
<h2 id="chap_1"><a class="markdownIt-Anchor" href="#chap_1"></a> CHAP_1</h2>
<p>程序的组织结构：顺序，选择，循环</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1vqh6qs9tuo0.png" alt="yaimage" style="zoom:70%;" />
<p>空列表:[],list()</p>
<p>空元组:(),tuple()</p>
<p>空字典:{},dict()</p>
<p>空集合:set()</p>
<h3 id="选择结构"><a class="markdownIt-Anchor" href="#选择结构"></a> 选择结构</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;please input a: &#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> a &gt; -<span class="number">10</span> <span class="keyword">and</span> a &lt; <span class="number">5</span>:</span><br><span class="line">       a += <span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> a &gt; <span class="number">5</span> :</span><br><span class="line">   	a -= <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span> :</span><br><span class="line">   	a = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
<p>和C++区别不大，注意<strong>elif</strong>、冒号和缩进，空的话写pass</p>
<p>简写的那种写法: x if 判断条件 else y</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>(a)+<span class="string">&#x27;大于&#x27;</span>+<span class="built_in">str</span>(b) <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> <span class="built_in">str</span>(a)+<span class="string">&#x27;小于等于&#x27;</span>+<span class="built_in">str</span>(b))</span><br></pre></td></tr></table></figure>
<h3 id="循环结构"><a class="markdownIt-Anchor" href="#循环结构"></a> 循环结构</h3>
<h4 id="range"><a class="markdownIt-Anchor" href="#range"></a> range()</h4>
<p>用于创建一个整数序列,在循环中很重要</p>
<p>创建方式</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">r = <span class="built_in">range</span>(<span class="number">10</span>)<span class="comment">#0到9</span></span><br><span class="line">r = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)<span class="comment">#1到9</span></span><br><span class="line">r = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>)<span class="comment">#1到9，步长为2</span></span><br></pre></td></tr></table></figure>
<p>创建的是迭代器(?)，打印的话转成list,可以使用in和not in</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">9</span> <span class="keyword">not</span> <span class="keyword">in</span> r:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;wa&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="while"><a class="markdownIt-Anchor" href="#while"></a> while</h4>
<p>例：1到100的偶数和</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> a &lt; <span class="number">101</span>:</span><br><span class="line">    a += <span class="number">2</span></span><br><span class="line">    count += a</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
<h4 id="for-in"><a class="markdownIt-Anchor" href="#for-in"></a> for-in</h4>
<p>for 自定义变量 in <strong>可迭代对象</strong>:</p>
<p>​	循环体</p>
<p>自定义变量: 当它不被使用时可以使用 _</p>
<p>可迭代对象: 字符串，range()</p>
<p>例：1到100的偶数和</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">101</span>,<span class="number">2</span>):</span><br><span class="line">    count += item</span><br><span class="line"><span class="built_in">print</span>(count)  </span><br></pre></td></tr></table></figure>
<h3 id="break-和-continue"><a class="markdownIt-Anchor" href="#break-和-continue"></a> break 和 continue</h3>
<p>break直接退出循环，continue就是不管后面的直接执行下一次循环（好像也可以用pass？）都是本层循环，和c++蛮像的</p>
<h4 id="else"><a class="markdownIt-Anchor" href="#else"></a> else</h4>
<p>就是说循环体后面可以接着写else，表示在没有break时执行else</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220828231115649.png" alt="image-20220828231115649" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">	pwd = <span class="built_in">input</span>()</span><br><span class="line">    <span class="keyword">if</span> pwd = <span class="string">&#x27;888&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;wa&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>: </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;non&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;冻结&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="嵌套循环"><a class="markdownIt-Anchor" href="#嵌套循环"></a> 嵌套循环</h4>
<p>例：打印99乘法表</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,i+<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(j*i,end=<span class="string">&#x27;\t&#x27;</span>)<span class="comment">#特别注意这里表示不换行打印</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>
<h2 id="chap_2-listdicttuplesetstr"><a class="markdownIt-Anchor" href="#chap_2-listdicttuplesetstr"></a> CHAP_2: list,dict,tuple,set,str</h2>
<h3 id="列表"><a class="markdownIt-Anchor" href="#列表"></a> 列表</h3>
<p>存储多个元素，相当于数组，但可以存不同类型的元素</p>
<p>创建：直接使用中括号，或者调用内置函数list()</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lst = [<span class="string">&#x27;hello&#x27;</span>,<span class="number">98</span>,<span class="string">&#x27;world&#x27;</span>]</span><br><span class="line">lst2 = <span class="built_in">list</span>([<span class="string">&#x27;hello&#x27;</span>,<span class="number">98</span>,<span class="string">&#x27;world&#x27;</span>])<span class="comment">#?有点感觉没太必要的样子</span></span><br></pre></td></tr></table></figure>
<p>或者<strong>列表生成式</strong></p>
<p>lst=[i for i in range(1,10)]</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.y0t5wi5utts.png" alt="yaimage" /></p>
<h4 id="获取元素"><a class="markdownIt-Anchor" href="#获取元素"></a> 获取元素</h4>
<p><strong>index()函数</strong>，返回元素在list的索引，相同的返回第一个出现的地方</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lst.index(&#x27;hello&#x27;)</span><br><span class="line">lst.index(&#x27;hello&#x27;,1,4)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.5fk3e2x0u7c0.png" alt="yaimage" /></p>
<p><strong>单个元素</strong>：取某个元素就是lst[0]这样子，<strong>lst[-1]表示最后一个</strong>，就是负的话就从右开始</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.34pmavwr2l20.png" alt="yaimage" /></p>
<p><strong>多个元素：切片</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1nztoa9lxv8g.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lst3=lst[<span class="number">1</span>:<span class="number">6</span>]<span class="comment">#默认步长为1</span></span><br><span class="line">lst3=lst[<span class="number">1</span>:<span class="number">6</span>:<span class="number">2</span>]</span><br><span class="line">lst3=lst[:<span class="number">6</span>:<span class="number">2</span>]<span class="comment">#默认从0开</span></span><br><span class="line">lst3=lst[<span class="number">1</span>::<span class="number">2</span>]<span class="comment">#默认到最后</span></span><br><span class="line"><span class="comment">#step为负表示倒着取</span></span><br><span class="line">lst3=lst[::-<span class="number">1</span>]</span><br><span class="line">lst3=lst[<span class="number">7</span>:<span class="number">2</span>:-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h4 id="增删改查"><a class="markdownIt-Anchor" href="#增删改查"></a> 增删改查</h4>
<p>查：in 和 not in，遍历直接循环就行，list是可迭代变量, <em>for item in lst</em>这样子就可以</p>
<p>增：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3gxk1gjrtqu0.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lst = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]</span><br><span class="line">lst.append(<span class="number">100</span>)</span><br><span class="line">lst2 = [<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;world&#x27;</span>]</span><br><span class="line">lst.extend(lst2)</span><br><span class="line">lst.insert(<span class="number">1</span>,<span class="number">90</span>)</span><br><span class="line"><span class="comment">#切片</span></span><br><span class="line">lst[<span class="number">1</span>:]=lst2<span class="comment">#就是把位置1以后的全换成lst2了，但感觉是修改</span></span><br></pre></td></tr></table></figure>
<p>删：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.77t41b48t2w0.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lst=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">30</span>,<span class="number">40</span>]</span><br><span class="line">lst.remove(<span class="number">30</span>)</span><br><span class="line">lst.pop(-<span class="number">2</span>)<span class="comment">#默认是最后一个</span></span><br><span class="line">lst.clear()</span><br><span class="line">lst.<span class="keyword">del</span>()</span><br><span class="line"><span class="comment">#切片</span></span><br><span class="line">lst[<span class="number">1</span>:<span class="number">3</span>]=[]<span class="comment">#感觉也是修改</span></span><br></pre></td></tr></table></figure>
<p>改：直接索引或者切片改</p>
<p>排序：sort()函数或者sorted()</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lst=[70,20,50,30,40]</span><br><span class="line">lst.sort(reverse=ture)#默认升序，这样是降序</span><br><span class="line">lst_ = sorted(lst)#不改变原列表</span><br></pre></td></tr></table></figure>
<h3 id="字典"><a class="markdownIt-Anchor" href="#字典"></a> 字典</h3>
<p>是一个可变(值可以增删改这样子)的无序序列，以键值对的形式存储，使用花括号定义</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2gev5fc1aphc.png" alt="yaimage" style="zoom:70%;" />
<p>类比C++的哈希(那个map</p>
<p>注意：键值不能重复，不可变</p>
<p>创建：花括号直接定义，内置函数dict()</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">scores = &#123;<span class="string">&#x27;张三&#x27;</span>:<span class="number">98</span>,<span class="string">&#x27;王五&#x27;</span>:<span class="number">45</span>,<span class="string">&#x27;李四&#x27;</span>:<span class="number">78</span>&#125;</span><br><span class="line">student = <span class="built_in">dict</span>(name=<span class="string">&#x27;jack&#x27;</span>,age=<span class="number">20</span>)<span class="comment">#多个咋整嘞，不管</span></span><br></pre></td></tr></table></figure>
<p>**zip()**函数把两个列表组合成字典：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">items = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>]</span><br><span class="line">prices=[<span class="number">9</span>,<span class="number">6.2</span>,<span class="number">3.1</span>]</span><br><span class="line">d = &#123;item:price <span class="keyword">for</span> item,price <span class="keyword">in</span> <span class="built_in">zip</span>(items,prices)&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3pxeklynhk80.png" alt="yaimage" /></p>
<h4 id="获取元素-2"><a class="markdownIt-Anchor" href="#获取元素-2"></a> 获取元素</h4>
<p><strong>获取value：</strong>[]、get()</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.6p5vsdgbc0c0.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">scores[<span class="string">&#x27;张三&#x27;</span>]<span class="comment">#没有的话会报错</span></span><br><span class="line">scores.get(<span class="string">&#x27;张三&#x27;</span>)<span class="comment">#没有的话输出none</span></span><br><span class="line">scores.get(<span class="string">&#x27;张三&#x27;</span>,<span class="number">56</span>)<span class="comment">#没有的话输出56</span></span><br></pre></td></tr></table></figure>
<p><strong>获取视图</strong>：</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.21c8aauc0hi8.png" alt="yaimage" style="zoom:80%;" />
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">keys = scores.keys()<span class="comment">#列表</span></span><br><span class="line">values = scores.values()<span class="comment">#列表</span></span><br><span class="line">items = scores.items()<span class="comment">#列表,但元素是元组</span></span><br></pre></td></tr></table></figure>
<h4 id="增删改查-2"><a class="markdownIt-Anchor" href="#增删改查-2"></a> 增删改查</h4>
<p>查：查的是key，in 与 not in，比如 if ‘张三’ in scores : print(scores[‘张三’]),遍历也是直接循环就行：<em>for item in sorce</em></p>
<p>删: del scores[‘张三’]，清空scores.clear()</p>
<p>添加: 增加键值对，scores[‘张一’]=97</p>
<p>修改：scores[‘张三’]=96</p>
<h3 id="集合"><a class="markdownIt-Anchor" href="#集合"></a> 集合</h3>
<p>没有value的字典–&gt;意味着集合中的元素不能重复，无序可变，也是用{}或者set()来定义</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">s = &#123;5,6,3,&#x27;yu&#x27;&#125;</span><br><span class="line">s = set(range(6))</span><br><span class="line">s = set([5,6,3,&#x27;yu&#x27;])#列表转集合</span><br><span class="line">s = set((5,6,3,&#x27;yu&#x27;))#元祖转集合</span><br><span class="line">s = set(&#x27;yu&#x27;)#字符串转集合</span><br></pre></td></tr></table></figure>
<p>生成式：s = {i for i in range(6)}和列表一样，改个花括号就是，不过出来时无序的</p>
<h4 id="增删改查-3"><a class="markdownIt-Anchor" href="#增删改查-3"></a> 增删改查</h4>
<p>查：in 与 not in,遍历也是直接循环就行：<em>for item in s</em></p>
<p>增：add:加一个和update:加很多</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="string">&#x27;yu&#x27;</span>&#125;</span><br><span class="line">s.add(<span class="number">80</span>)<span class="comment">#无序的，不知道在哪儿</span></span><br><span class="line">s.update(<span class="number">80</span>,<span class="string">&#x27;ll&#x27;</span>)</span><br><span class="line">s.update(lst)</span><br></pre></td></tr></table></figure>
<p>删：remove，discard,pop,clear</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s.remove(<span class="number">5</span>)<span class="comment">#没有的话会报错</span></span><br><span class="line">s.discard(<span class="number">4</span>)<span class="comment">#没有的话不会报错</span></span><br><span class="line">s.pop()<span class="comment">#随机删</span></span><br></pre></td></tr></table></figure>
<h4 id="数据操作"><a class="markdownIt-Anchor" href="#数据操作"></a> 数据操作</h4>
<p><strong>判断</strong>：相等：==或者!=，子集关系: issubset()和issuperset(),有没有交集isdisjoint()</p>
<p><strong>取交集</strong>：s1.intersection(s2) 或者 s1 &amp; s2</p>
<p><strong>取并集</strong>：s1.union(s2) 或者 s1 | s2</p>
<p><strong>取差集</strong>：s1.difference(s2) 或者 s1 - s2</p>
<p><strong>取对称差集</strong>(就是s1和s2的全集减交集)：s1.symmetric_difference(s2) 或者 s1 ^ s2</p>
<p>注s1和s2都是不发生变化的</p>
<h3 id="元组"><a class="markdownIt-Anchor" href="#元组"></a> 元组</h3>
<p>是不可变序列（没有增删改操作），使用小括号定义</p>
<p>不可变可以保证安全性</p>
<p>创建：(),tuple()</p>
<p><strong>没有生成式哟</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">t = <span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;world&#x27;</span>,<span class="number">98</span></span><br><span class="line">t = (<span class="string">&#x27;python&#x27;</span>,)<span class="comment">#一个元素记得加逗号</span></span><br><span class="line">t = (<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;world&#x27;</span>,<span class="number">98</span>,[<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line">t = <span class="built_in">tuple</span>((<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;world&#x27;</span>,<span class="number">98</span>))</span><br></pre></td></tr></table></figure>
<p>其实不是指元组就不能改了，简单理解是数据类型不能改，就是指向的地址不能改，但地址里面的value是可以改的，比如说t[4]是列表，它的那些增删改啊也是能用的</p>
<h4 id="获取元素-3"><a class="markdownIt-Anchor" href="#获取元素-3"></a> 获取元素</h4>
<p>直接使用索引：t[0]这样子就可以</p>
<h4 id="查"><a class="markdownIt-Anchor" href="#查"></a> 查</h4>
<p>in 与 not in, 遍历也是一样循环<em>for item in t:</em></p>
<h3 id="4种数据结构的小结"><a class="markdownIt-Anchor" href="#4种数据结构的小结"></a> 4种数据结构的小结</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.6ykw7d3lm280.png" alt="yaimage" /></p>
<h2 id="chap_3-字符串"><a class="markdownIt-Anchor" href="#chap_3-字符串"></a> CHAP_3: 字符串</h2>
<p>不可变序列，可以使用单引号、双引号、三引号进行定义</p>
<p><strong>查找子串</strong></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220829235004550.png" alt="image-20220829235004550" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello,hello&#x27;</span></span><br><span class="line">s.index(<span class="string">&#x27;lo&#x27;</span>)<span class="comment">#3</span></span><br><span class="line">s.rindex(<span class="string">&#x27;lo&#x27;</span>)<span class="comment">#9</span></span><br><span class="line">s.find(<span class="string">&#x27;lo&#x27;</span>)<span class="comment">#没有不会报错</span></span><br><span class="line">s.rfind(<span class="string">&#x27;lo&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>大小写转换</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s.upper()</span><br><span class="line">s.lower()</span><br><span class="line">s.swapcase()<span class="comment">#小写转大写，大写转小写</span></span><br><span class="line">s.capitalize()<span class="comment">#变成第一个字符大写，其余小写</span></span><br><span class="line">s.title()<span class="comment">#变成每个单词的第一个字符大写，其余小写</span></span><br></pre></td></tr></table></figure>
<p><strong>对齐</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.pbkt4jhd26.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello,python&#x27;</span></span><br><span class="line">s.center(<span class="number">20</span>,<span class="string">&#x27;*&#x27;</span>)<span class="comment">#结果***hello,python***</span></span><br></pre></td></tr></table></figure>
<p><strong>split()</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello,python&#x27;</span></span><br><span class="line">s.split()<span class="comment">#默认分割符为空格，返回列表[&#x27;hello&#x27;,&#x27;,&#x27;,&#x27;python&#x27;]</span></span><br><span class="line">s.split(sep=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">s.split(,maxsplit=<span class="number">1</span>)<span class="comment">#可以指定最大劈分次数</span></span><br><span class="line"></span><br><span class="line">s.rsplit()<span class="comment">#从右侧开始劈分</span></span><br></pre></td></tr></table></figure>
<p><strong>判断</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s.isspace()<span class="comment">#空白字符</span></span><br><span class="line">s.isalpha()<span class="comment">#是不是由字母组成</span></span><br><span class="line">s.isnumeric()<span class="comment">#是不是由数字组成</span></span><br><span class="line">s.isalnum()<span class="comment">#是不是由数字+字母组成</span></span><br><span class="line">s.isdecimal()<span class="comment">#十进制数字</span></span><br><span class="line">s.isidentifier()<span class="comment">#合法标识符：字母数字下划线</span></span><br></pre></td></tr></table></figure>
<p><strong>replace()</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello,python,python,python&#x27;</span></span><br><span class="line">s.replace(<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;java&#x27;</span>)</span><br><span class="line">s.replace(<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;java&#x27;</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><strong>join</strong>:可以把列表、元祖连成字符串</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lst=[<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;python&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;*&#x27;</span>.join(lst)<span class="comment">#输出字符串：hello*python</span></span><br><span class="line"><span class="comment">#也可以连字符串，不过比较怪--&gt;+</span></span><br><span class="line"><span class="string">&#x27;*&#x27;</span>.join(<span class="string">&#x27;python&#x27;</span>)<span class="comment">#输出是p*y*t*h*o*n</span></span><br></pre></td></tr></table></figure>
<p><strong>比较</strong>：直接用算术运算符的＞&lt;这些</p>
<p><strong>切片</strong>：和列表类似，s1 = s[:6:2]#开始切到6（不包含6），步长为2（负数表示从后往前）</p>
<p><strong>占位符</strong></p>
<p>{}做占位符或者%</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&#x27;A&#x27;</span></span><br><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我是%s，今年%d岁&#x27;</span> % (name,age))<span class="comment">#可以指定精度宽度啥的%7d,%.3f</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我是&#123;0&#125;，今年&#123;1&#125;岁&#x27;</span>.<span class="built_in">format</span>(name,age))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我是<span class="subst">&#123;name&#125;</span>，今年<span class="subst">&#123;age&#125;</span>岁&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="chap_4-函数"><a class="markdownIt-Anchor" href="#chap_4-函数"></a> CHAP_4: 函数</h2>
<h3 id="创建和调用"><a class="markdownIt-Anchor" href="#创建和调用"></a> <strong>创建和调用</strong></h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1c11ldrql58g.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc</span>(<span class="params">a,b</span>):</span><br><span class="line">	<span class="keyword">return</span> (a*a-b*b)</span><br><span class="line"><span class="built_in">print</span>(calc(<span class="number">10</span>,<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<p>注意冒号和空格</p>
<h3 id="参数"><a class="markdownIt-Anchor" href="#参数"></a> 参数</h3>
<p><strong>参数的默认值</strong>：def fun(a,b=10):#表示说可以传1个参数，传两个就该啥啥</p>
<p><strong>参数传递</strong></p>
<p>python中的参数传递有两种方式:位置实参和关键字实参</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#位置实参</span></span><br><span class="line">calc(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"><span class="comment">#关键字实参</span></span><br><span class="line">calc(b=<span class="number">10</span>,a=<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong></p>
<p>不可变对象(int，字符串，元组)在函数体的修改不会影响实参的值，可变对象（列表，字典，集合）会影响</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">a,b</span>):</span><br><span class="line">	<span class="built_in">print</span>(a)</span><br><span class="line">	<span class="built_in">print</span>(b)</span><br><span class="line">	a=<span class="number">10</span></span><br><span class="line">    b.append(<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">	<span class="built_in">print</span>(b)</span><br><span class="line">a = <span class="number">11</span></span><br><span class="line">b = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">fun(a,b)<span class="comment">#a不会变，b会</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure>
<p><strong>个数可变的参数</strong></p>
<p>位置参数：*,结果是元组</p>
<p>关键字参数：**，结果是字典</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">*args</span>):</span><br><span class="line">	<span class="built_in">print</span>(args)</span><br><span class="line">fun(<span class="number">10</span>)</span><br><span class="line">fun(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">**args</span>)</span><br><span class="line">	<span class="built_in">print</span>(args)</span><br><span class="line">fun(a=<span class="number">10</span>,b=<span class="number">20</span>,c=<span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<p>注意：可变的参数只能有1个，但可变的位置参数和可变的关键字参数能一起存在</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.pm175k8lq00.png" alt="yaimage" style="zoom:80%;" />
<p>函数支持参数时，调用能用*这样子搞</p>
<h3 id="返回值"><a class="markdownIt-Anchor" href="#返回值"></a> <strong>返回值</strong></h3>
<p>多个时以元组形式返回</p>
<h3 id="例题斐波那契数列"><a class="markdownIt-Anchor" href="#例题斐波那契数列"></a> 例题：斐波那契数列</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fabo</span>(<span class="params">i</span>):</span><br><span class="line">	<span class="keyword">if</span> i &lt;= <span class="number">0</span>:</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">elif</span> i == <span class="number">1</span> <span class="keyword">or</span> i == <span class="number">2</span>:<span class="comment">#注意or，写成|愣了好久</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">return</span> fabo(i-<span class="number">1</span>)+fabo(i-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fabo(<span class="number">6</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="chap_5-类与对象"><a class="markdownIt-Anchor" href="#chap_5-类与对象"></a> CHAP_5: 类与对象</h2>
<p>面向过程与面向对象</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.64l4z8lpdpo0.png" alt="yaimage" /></p>
<h3 id="类与对象"><a class="markdownIt-Anchor" href="#类与对象"></a> 类与对象</h3>
<h4 id="类"><a class="markdownIt-Anchor" href="#类"></a> 类</h4>
<p>类：多个类似事物组成的群体的总称</p>
<p>类的组成：属性，实例方法，静态方法和类方法【类里面的函数叫做方法】</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.58dx6d8w2xs0.png" alt="yaimage" /></p>
<p>类属性：直接定义在类里面（类方法外）的变量，被类的所有对象共享，可以使用类名直接访问</p>
<p>初始化方法（注意是两个下划线）:相当于构造函数，self理解为this指针</p>
<p>实例方法：类里面的函数</p>
<p>静态方法：用@staticmethod进行修饰，使用类名直接访问的方法（<a href="http://Student.cm">Student.cm</a>()）</p>
<p>类方法：用@classmethod进行修饰，使用类名直接访问的方法</p>
<h4 id="对象"><a class="markdownIt-Anchor" href="#对象"></a> 对象</h4>
<p>类的实例化就是对象的创建</p>
<p>stu1 = Student(‘张三’，20)</p>
<p>其实stu1由3部分组成，name，age和类指针（指向了Student类）</p>
<h4 id="动态绑定"><a class="markdownIt-Anchor" href="#动态绑定"></a> 动态绑定</h4>
<p>直接使用对象名添加属性并赋值，也可以给他添加方法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>()</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">stu1.gender = <span class="string">&#x27;男&#x27;</span></span><br><span class="line">stu1.show = show</span><br><span class="line">stu1.show()</span><br></pre></td></tr></table></figure>
<p>好任性啊感觉</p>
<h3 id="封装-继承与多态"><a class="markdownIt-Anchor" href="#封装-继承与多态"></a> 封装、继承与多态</h3>
<h4 id="封装"><a class="markdownIt-Anchor" href="#封装"></a> 封装</h4>
<p>私有属性没有专有修饰符，在前面打两个下划线表示私有属性</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">		self.name=name</span><br><span class="line">		self.__age=age<span class="comment">#可以在类里面使用但不能在外面使用</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(self.name,self.__age)</span><br><span class="line">stu1 = Student(<span class="string">&#x27;张三&#x27;</span>，<span class="number">20</span>)</span><br><span class="line">stu1.show()</span><br><span class="line"><span class="built_in">print</span>(stu1.__age)<span class="comment">#就不行</span></span><br></pre></td></tr></table></figure>
<p>硬要使用也是可以的，用dir(stu1)去读然后有个啥就可以用了，不过说不推荐</p>
<h4 id="继承"><a class="markdownIt-Anchor" href="#继承"></a> 继承</h4>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.45i5nuts2ws0.png" alt="yaimage" /></p>
<p>python支持多继承，如果一个类没有继承任何类，则默认继承object类</p>
<p><strong>子类的构造函数(init)必须调用父类的构造函数：super().<em>init</em>_（）</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HaoStudent</span>(<span class="title class_ inherited__">Student</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,score</span>):</span><br><span class="line">		<span class="built_in">super</span>().__init__(name,age)</span><br><span class="line">		self.score=score</span><br><span class="line">stu2 = HaoStudent(<span class="string">&#x27;张一&#x27;</span>,<span class="number">20</span>,<span class="number">98</span>)</span><br><span class="line">stu2.show()</span><br></pre></td></tr></table></figure>
<p><strong>方法重写</strong>：调用+重写–&gt;super().xxx()，然后后面加就成</p>
<p><strong>OBJECT类</strong>：所有类的父类</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3p8ounx87vs0.png" alt="yaimage" style="zoom:50%;" />
<h4 id="多态"><a class="markdownIt-Anchor" href="#多态"></a> 多态</h4>
<p>没懂</p>
<h3 id="特殊属性与特殊方法"><a class="markdownIt-Anchor" href="#特殊属性与特殊方法"></a> <strong>特殊属性与特殊方法</strong></h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.31jzpp5297s0.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">		self.name=name</span><br><span class="line">		self.__age=age<span class="comment">#可以在类里面使用但不能在外面使用</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.name)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self,other</span>):</span><br><span class="line">		<span class="keyword">return</span> self.name+other.name</span><br><span class="line">stu1 = Student(<span class="string">&#x27;张二&#x27;</span>，<span class="number">20</span>)</span><br><span class="line">stu2 = Student(<span class="string">&#x27;张四&#x27;</span>，<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(stu1))</span><br><span class="line"><span class="built_in">print</span>(stu1.__add__(stu2))</span><br></pre></td></tr></table></figure>
<p>new那个不太懂，不太想懂</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.71yw3ckb1pw0.png" alt="yaimage" /></p>
<h3 id="赋值-浅拷贝-深拷贝"><a class="markdownIt-Anchor" href="#赋值-浅拷贝-深拷贝"></a> 赋值、浅拷贝、深拷贝</h3>
<p>赋值：只是形成两个变量，实际还是指向同一个对象</p>
<p>浅拷贝：包含的子对象内容不拷贝，源对象与拷贝对象引用同一个子对象</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2hj1e1i46ie0.png" alt="yaimage" style="zoom:50%;" />
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CPU</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Disk</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Computer</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,cpu,disk</span>):</span><br><span class="line">		self.cpu = cpu</span><br><span class="line">		self.disk = disk</span><br><span class="line"></span><br><span class="line"><span class="comment">#赋值--&gt;内存地址是一致的</span></span><br><span class="line">cpu1 = CPU()</span><br><span class="line">cpu2 = cpu1</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(cpu1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(cpu2))</span><br><span class="line"></span><br><span class="line"><span class="comment">#浅拷贝--&gt;computer不一样但cpu和disk是一样的</span></span><br><span class="line">disk = Disk()</span><br><span class="line">computer = Computer(cpu1,disk)</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">computer2 = copy.copy(computer)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(computer),<span class="built_in">id</span>(computer.cpu),<span class="built_in">id</span>(computer.disk))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(computer2),<span class="built_in">id</span>(computer2.cpu),<span class="built_in">id</span>(computer2.disk))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#深拷贝--&gt;computer,cpu,disk都不一样</span></span><br><span class="line">computer3 = copy.deepcopy(computer)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(computer),<span class="built_in">id</span>(computer.cpu),<span class="built_in">id</span>(computer.disk))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(computer3),<span class="built_in">id</span>(computer3.cpu),<span class="built_in">id</span>(computer3.disk))</span><br></pre></td></tr></table></figure>
<p>深拷贝：递归拷贝对象中包含的子对象，源对象与拷贝对象所有的子对象也不相同</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.c4i9gaft6xs.png" alt="yaimage" /></p>
<h2 id="chap_6-文件模块化编程"><a class="markdownIt-Anchor" href="#chap_6-文件模块化编程"></a> CHAP_6: 文件，模块化编程</h2>
<h3 id="文件"><a class="markdownIt-Anchor" href="#文件"></a> 文件</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.ddstr5lu81c.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;a.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)<span class="comment">#只读</span></span><br><span class="line">file.read()<span class="comment">#读所有</span></span><br><span class="line">file.read(<span class="number">3</span>)<span class="comment">#读3个</span></span><br><span class="line">file.readline()<span class="comment">#读一行</span></span><br><span class="line">file.readlines()<span class="comment">#读所有行到列表</span></span><br><span class="line">file.seek(<span class="number">2</span>)<span class="comment">#从第几位开始读，默认0</span></span><br><span class="line">file.tell()<span class="comment">#返回文件当前指针位置</span></span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file2 = <span class="built_in">open</span>(<span class="string">&#x27;b.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)<span class="comment">#只写，如果文件不存在则创建，覆盖写,追加写是a</span></span><br><span class="line">file2.write(<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line">file2.flush()<span class="comment">#缓冲</span></span><br><span class="line">file2.writelines(<span class="string">&#x27;python&#x27;</span>)<span class="comment">#不加换行符写</span></span><br><span class="line">file2.close()</span><br><span class="line"></span><br><span class="line">file3 = <span class="built_in">open</span>(<span class="string">&#x27;a.png&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>)<span class="comment">#二进制读,可以读图片</span></span><br><span class="line">file4 = <span class="built_in">open</span>(<span class="string">&#x27;b.png&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>)<span class="comment">#二进制写</span></span><br><span class="line">file4.write(file3.read())</span><br><span class="line">file3.close()</span><br><span class="line">file4.close()</span><br></pre></td></tr></table></figure>
<p><strong>with</strong>：上下文管理器，不用写close()</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1tx3i4zfqf40.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;a.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">	file.read()</span><br></pre></td></tr></table></figure>
<p>也可以用在类上</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> A() <span class="keyword">as</span> file:</span><br><span class="line">	file.__init__(<span class="string">&#x27;5&#x27;</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p><strong>OS模块</strong>：操作系统和文件系统模块</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.6hk5idueq840.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#可以执行exe</span></span><br><span class="line">os.startfile(<span class="string">&#x27;d:\\qq.exe&#x27;</span>)</span><br><span class="line">os.mkdir(<span class="string">&#x27;newdir&#x27;</span>)<span class="comment">#创建目录</span></span><br><span class="line"><span class="comment">#os.path</span></span><br><span class="line"><span class="keyword">import</span> os.path()</span><br><span class="line">os.path.abspath()<span class="comment">#返回绝对路径</span></span><br></pre></td></tr></table></figure>
<h3 id="模块化编程"><a class="markdownIt-Anchor" href="#模块化编程"></a> 模块化编程</h3>
<p>一个.py的文件就是一个模块，导入模块</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.5rspxx74lrs0.png" alt="yaimage" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> pi<span class="comment">#注意一下顺序哟</span></span><br></pre></td></tr></table></figure>
<p>自定义模块报错时：在目录文件右键：mark directory–&gt;sources root</p>
<p>主程序：就是这下面的内容只有在运行这个py文件时才运行，调用时不运行</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ = <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>学习区</category>
        <category>暑假的乱七八糟</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>SSTEM01</title>
    <url>/2021/12/06/SSTEM01/</url>
    <content><![CDATA[<h1 id="概要"><a class="markdownIt-Anchor" href="#概要"></a> 概要</h1>
<p>介绍SysML和其简单应用,对TD1的内容进行简单的总结与归纳。</p>
<span id="more"></span>
<h1 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h1>
<p>SysML: un <u>outil</u> pour modéliser les Systèmes</p>
<p>But: Analyse et description des systèmes( Besoin, Description de sous-systèmes, Chîne d’information)</p>
<p>But pour cet TD: Analyse externe d’un systèmes</p>
<h1 id="etape以exemples进行更好说明"><a class="markdownIt-Anchor" href="#etape以exemples进行更好说明"></a> Etape（以exemples进行更好说明）</h1>
<h2 id="0exemples"><a class="markdownIt-Anchor" href="#0exemples"></a> 0.Exemples</h2>
<p>Analyse externe d’un <u>radio-réveil</u>.</p>
<h2 id="1identification-de-la-finalité-des-missions-et-objectifs-du-système"><a class="markdownIt-Anchor" href="#1identification-de-la-finalité-des-missions-et-objectifs-du-système"></a> 1.Identification de la <em>finalité</em> des  <em>missions</em> et <em>objectifs</em> du système</h2>
<p>​	<strong>finalité</strong>: Qu’est-ce qu’<u>apporte</u> le Système?à quoi <u>sert</u>-il?</p>
<p>​	<strong>missions:</strong> Comment le Système contribue-t-il à la <strong>finalité</strong>. Sur quels principes reposent la <u>mise</u> en <u>oeuvre</u> de la finalité?</p>
<p>​	<strong>objectifs:</strong> Comment le Système met-il en oeuvre ses <strong>missions</strong>?</p>
<p><strong>Exemples:</strong></p>
<p>​	<strong>finalité</strong>: réveiller une personne endormie</p>
<p>​	<strong>missions:</strong>  réveiller l’utilisateur à l’aide d’un signal sonore  (bip ou radio choisie) à une heure prédéfinie. <u>Diffuser</u> le signal sonore émit par une station  radio.</p>
<p>​	<strong>objectifs:</strong> Émettre un son suffisamment fort pour le réveil (ex: &gt;  90db).</p>
<h2 id="2identification-de-interacteurs-ou-parties-prenantes-du-système"><a class="markdownIt-Anchor" href="#2identification-de-interacteurs-ou-parties-prenantes-du-système"></a> 2.Identification de <em>interacteurs</em> ou <em>parties prenantes</em> du système</h2>
<ul>
<li>
<p><strong>Faire une liste des parties prenantes:</strong> les éléments qui sont relies au Systèmes (systèmes physiques, personnes…) via une action sur ce système.</p>
<p><strong>Note:</strong> Les <strong>éléments interne</strong> du Système <strong>ne font pas</strong> partie des ‘parties prenantes’</p>
<p><strong>Exemples:</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202115864.webp" alt="yaimage-20211205202115864" /></p>
</li>
<li>
<p><strong>Faire un diagramme de bloc</strong></p>
<p>Le système est placé au centre du <u>schéma</u>.</p>
<p>Il est relié aux parties prenantes.</p>
<p>Sur le lien, on peut faire <u>figurer</u> la nature du lien</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202143042.webp" alt="yaimage-20211205202143042" style="zoom:80%;" />
</li>
</ul>
<h2 id="3les-cas-dutilisation"><a class="markdownIt-Anchor" href="#3les-cas-dutilisation"></a> 3.Les  cas d’utilisation</h2>
<p>Le cycle de vie du Système peut comporter: <u>conception, implémentation, implémentation, utilisation, démantèlement, recyclage</u>.</p>
<p>​	<strong>Règles de dessin</strong></p>
<ul>
<li>
<p>Les parties prenantes qui utilisent ou ont une action sur le Système seront représentées comme des <strong>acteurs</strong>, <em>un petit bonhomme</em></p>
</li>
<li>
<p>Le Système est représenté comme <em>un bloc</em></p>
</li>
<li>
<p>Dans le bloc figurent les <strong>actions(fonctionnalités) que peuvent faire les acteurs</strong>. Elles sont représentées par une <em>ellipse</em>.</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202233671.webp" alt="yaimage-20211205202233671" style="zoom:80%;" />
</li>
<li>
<p>Dans le bloc, on doit dessiner les actions importantes et les liaisons entre les actions.</p>
<p>2 types: extend, include(<u>obligatoirement</u>).</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202213800.webp" alt="yaimage-20211205202213800" style="zoom:80%;" />
</li>
</ul>
<h2 id="4les-interfaces"><a class="markdownIt-Anchor" href="#4les-interfaces"></a> 4.Les interfaces</h2>
<p>Certaines des parties prenantes alimentent/sont alimentées par le Système. Pour chacune d’elle, on peut définir le/les <u>flux</u>(matière-énergie-information) qui sont échangés.</p>
<p>​	<strong>Règles de dessin</strong></p>
<ul>
<li>
<p>Le système est un bloc au centre du <u>schéma.</u></p>
</li>
<li>
<p>Les <u>flux</u> entrants et sortants du système sont indiqués par des boites de connexion sur le bord du bloc central.</p>
</li>
<li>
<p>Les flux sont également décrits par des boites sur le coté du diagramme.</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202258612.webp" alt="yaimage-20211205202258612" style="zoom:80%;" />
</li>
</ul>
<h1 id="td"><a class="markdownIt-Anchor" href="#td"></a> TD</h1>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202704990.webp" alt="yaimage-20211205202704990" style="zoom:80%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage-20211205202724279.webp" alt="yaimage-20211205202724279" style="zoom:80%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20211206205312.webp" alt="ya20211206205312" style="zoom:80%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20211206205403.webp" alt="ya20211206205403" style="zoom:80%;" />
<p>TD1小结：用学长的拼拼凑凑的搞上去的，但自己的第一次思考并没有把finalité,missions,objectif给找好。在理解上存在偏差。希望之后能够有所改进</p>
<h1 id="单词"><a class="markdownIt-Anchor" href="#单词"></a> 单词</h1>
<p>Outil:工具</p>
<p>Radio-réveil:收音机闹钟</p>
<p>Sert:服务、帮助</p>
<p>Apporte：带来，提供</p>
<p>Mise:安装</p>
<p>oeuvre:工作</p>
<p>Diffuser:扩散、传播</p>
<p>Schéma:图解、提纲</p>
<p>Figurer:画出、代表</p>
<p>conception, implémentation, implémentation, utilisation, démantèlement, recyclage：设计，实施，实施，使用，拆卸，回收。</p>
<p>Flux:流动</p>
<p>Obligatoirement：必须的</p>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>来法国后的第一篇博客真的太多想说了的。（虽然在国内也没写几篇</p>
<p>首先就是上这节课的那天下午是流体的期末，所以对课上很多内容都不知道，包括TD1的实例，也有其他许多待修正的部分。</p>
<p>其次就是很多地方都是照搬的PPT，没有起到一个很好的总结和思考。</p>
<p>这篇博客完成的也是磕磕绊绊，对法语键盘的不熟悉（比如打不出oe和^i)和法语的不熟悉。</p>
<p>最后的最后，希望自己坚持下去，做好记录，出现越来越少不认识的单词和行文中越来越少的中文。</p>
<p>就祝自己能以此为新开始，用Blog的形式见证我在南特这两年的跌跌撞撞的成长。</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI1</category>
        <category>SSTEM</category>
      </categories>
      <tags>
        <tag>SysML</tag>
      </tags>
  </entry>
  <entry>
    <title>Voyage-Italie</title>
    <url>/2022/02/01/Voyage-Italie/</url>
    <content><![CDATA[<h1 id="行程"><a class="markdownIt-Anchor" href="#行程"></a> 行程</h1>
<p>马耳他<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>罗马<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>米兰</p>
<span id="more"></span>
<h1 id="马耳他"><a class="markdownIt-Anchor" href="#马耳他"></a> 马耳他</h1>
<p>好看！</p>
<p>看到海就真的超级开心</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201231830.webp"height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201231634.webp" height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201231445.webp" height="200">
    </div>
<p>能在这个岛上过暑假的小孩应该很幸福吧</p>
<p>但就是住的好远（晕车真的难顶</p>
<p>体验了壁炉和烤鸡</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201231721.webp"width=40% height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201232158.webp" width=40% height="200">
</div>
<p>还有偷偷摘下来的仙人掌的果</p>
<p>整体风格蛮中东的</p>
<p>但又特别电影</p>
<p>穷途末路的英雄的流浪故事</p>
<p>碰到的司机大叔也人超级好</p>
<p>希望这两年间能再去一次</p>
<p>带着夏企和橘子汽水</p>
<p>想念夏天</p>
<h1 id="罗马"><a class="markdownIt-Anchor" href="#罗马"></a> 罗马</h1>
<p>西班牙台阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>总统府（？maybe）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>圣天使堡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>梵蒂冈<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>万神庙<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>斗兽场<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>什么祭坛</p>
<h2 id="day1"><a class="markdownIt-Anchor" href="#day1"></a> DAY1</h2>
<p>西班牙台阶，总统府和一个喷泉(and 张女士)</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234600.webp"height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234616.webp"height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234815.webp"height="200">   </div>
<p>夕阳好看！</p>
<p>龙虾意面好吃！</p>
<p>冰淇淋好吃！</p>
<div align="center">
     <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234928.webp" height="200">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234943.webp" height="200">
      <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201234958.webp" height="200">
    </div>
<h2 id="day2"><a class="markdownIt-Anchor" href="#day2"></a> DAY2</h2>
<p>圣天使堡+法院+梵蒂冈+万神庙</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235138.webp"width="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235129.webp" width="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235447.webp" width="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235151.webp" width="200">
    </div>
<p>夕阳好看！</p>
<p>在梵蒂冈被骗了10欧QAQ</p>
<p>但暴走了两次不亏！（Cappella Sistina</p>
<p>看到了前前前手机壁纸，开心</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235204.webp" alt="img" style="zoom:50%;" />
<h2 id="day3"><a class="markdownIt-Anchor" href="#day3"></a> DAY3</h2>
<p>斗兽场+祭坛</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235423.webp"height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201235732.webp" height="200">
</div>
<p>中餐好吃！</p>
<p>臭鸟拉屎（猖狂到当地老太太会打伞的程度，可恶</p>
<h1 id="米兰"><a class="markdownIt-Anchor" href="#米兰"></a> 米兰</h1>
<p>个人不官方的宣布</p>
<p>米兰就是旅游荒漠</p>
<p>只就去了大教堂，然后有猥琐的偷偷喂鸽子</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201230627.webp"height="200"><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201230643.webp" height="200">
</div>
<p>但是！</p>
<p>米兰火锅！好好吃！店名：“巴倒辣”。人生建议：不能点中辣不能点中辣不能点中辣！（上次被辣成瓜娃子还是在重庆的时候了</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201230545.webp" alt="img" style="zoom:80%;" />
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>虽然没去佛罗伦萨和威尼斯，但得歇一段时间不看人文类风光啦~</p>
<p>意大利再见﻿ε≡٩(๑&gt;₃&lt;)۶</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201230618.webp" alt="img" style="zoom:80%;" />
]]></content>
      <categories>
        <category>生活区</category>
        <category>Voyage</category>
      </categories>
  </entry>
  <entry>
    <title>Voyage-Paris</title>
    <url>/2021/12/08/Voyage-Paris/</url>
    <content><![CDATA[<h1 id="行程"><a class="markdownIt-Anchor" href="#行程"></a> 行程</h1>
<p>铁塔<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>迪士尼<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>卢浮宫<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>奥赛<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>先贤祠</p>
<span id="more"></span>
<h1 id="day-1"><a class="markdownIt-Anchor" href="#day-1"></a> Day 1</h1>
<p>下午到的</p>
<p>铁塔上看的夕阳</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_2021120823584513.webp" alt="ya微信图片_2021120823584513" style="zoom:80%;" />
<p>超好看！</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20211209000220.png" alt="ya20211209000220" style="zoom:80%;" />
<p>顺便打卡盗梦空间的桥</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_20211208235845.webp" alt="ya微信图片_20211208235845" style="zoom:80%;" />
<h1 id="day-2"><a class="markdownIt-Anchor" href="#day-2"></a> Day 2</h1>
<p>迪士尼好玩的</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358453.webp" alt="ya微信图片_202112082358453" style="zoom:60%;" />
<p>未来的日子永远爱跳跳虎</p>
<h1 id="day-3"><a class="markdownIt-Anchor" href="#day-3"></a> Day 3</h1>
<p>卢浮宫真的好大就是说</p>
<p>法国斥巨资修建这座宫殿或许比里面的展品还要了不起。</p>
<p>雕塑真的好厉害。</p>
<p>伊斯兰教的艺术印象蛮深。</p>
<p>然后镇馆三宝打卡成功：维纳斯、蒙娜丽莎、胜利女神</p>
<center class="half">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358454.webp"/>
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358455.webp" />
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358456.webp" />
</center>
<p>画的话，宗教类、宫廷很多。一开始很震撼，看多了，嗯，装不下。</p>
<h1 id="day-4"><a class="markdownIt-Anchor" href="#day-4"></a> Day 4</h1>
<p>奥赛博物馆的话就是好看的画</p>
<p>梵高好看</p>
<p>莫奈也好好看</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_20211208235859.jpg" alt="ya微信图片_20211208235859" style="zoom:50%;" />
<p>还有个点彩画派</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358457.webp" alt="ya微信图片_202112082358457" style="zoom:50%;" />
<p>很喜欢的画买了明信片但忘记画家了T^T</p>
<p>出来时的公园，好看到分不清是不是在画中</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082358459.webp" alt="ya微信图片_202112082358459" style="zoom:67%;" />
<p>（或许还记得出来一家商店里面的9000欧的衣服？</p>
<h1 id="day-5"><a class="markdownIt-Anchor" href="#day-5"></a> Day 5</h1>
<p>先贤祠</p>
<p>外面比里面好看</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_2021120823584510.webp" alt="ya微信图片_2021120823584510" style="zoom:50%;" />
<p>只记得里面的钟摆了</p>
<p>看到了一群穿正装的未来大佬们</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_2021120823584511.webp" alt="ya微信图片_2021120823584511" style="zoom:50%;" />
<p>听说隔壁是很法国很厉害的大学</p>
<p>站在那里真的会有</p>
<p>一种学术的</p>
<p>很厉害的感觉</p>
<p>听说建筑仿的是意大利的万神庙</p>
<p>那就正好</p>
<h1 id="下一站"><a class="markdownIt-Anchor" href="#下一站"></a> 下一站</h1>
<p>意大利！</p>
<h1 id="最后"><a class="markdownIt-Anchor" href="#最后"></a> 最后</h1>
<p>巴黎再会~</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_2021120823584512.webp" alt="ya微信图片_2021120823584512" style="zoom:50%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082352193.webp" alt="ya微信图片_202112082352193" style="zoom:80%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya微信图片_202112082352192.webp" alt="ya微信图片_202112082352192" style="zoom:80%;" />
]]></content>
      <categories>
        <category>生活区</category>
        <category>Voyage</category>
      </categories>
      <tags>
        <tag>Paris</tag>
      </tags>
  </entry>
  <entry>
    <title>PAPY_CM2</title>
    <url>/2022/09/16/PAPY_CM2/</url>
    <content><![CDATA[<h1 id="papy_cm2"><a class="markdownIt-Anchor" href="#papy_cm2"></a> PAPY_CM2</h1>
<p>是老师的ipynb文件啦</p>
<span id="more"></span>
<p>Structuration et types de données</p>
<p><strong>Contenu</strong></p>
<ul>
<li>Variables, références et gestion de la mémoire</li>
<li>Programmation fonctionnelle</li>
<li>Programmation orientée objet (OOP) : les classes</li>
<li>Conseils généraux pour la programmation</li>
</ul>
<!-- more -->
<p><strong>Rappel : les types de base en python</strong></p>
<ul>
<li><code>int</code> (entier)</li>
<li><code>float</code> (flottant)</li>
<li><code>str</code> (chaîne de caractères)</li>
<li><code>bool</code> (booléen)</li>
<li><code>list</code> (liste)</li>
<li><code>tuple</code> (tuple)</li>
<li><code>complex</code> (complexe)</li>
</ul>
<h2 id="variables-références-et-gestion-de-la-mémoire"><a class="markdownIt-Anchor" href="#variables-références-et-gestion-de-la-mémoire"></a> Variables, références et gestion de la mémoire</h2>
<h3 id="variables-et-affectation"><a class="markdownIt-Anchor" href="#variables-et-affectation"></a> Variables et affectation</h3>
<blockquote>
<p>En python tout est objet <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟹</mo></mrow><annotation encoding="application/x-tex">\Longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">⟹</span></span></span></span> la variable <code>v</code> peut changer de type.</p>
</blockquote>
<blockquote>
<p><strong>Definition:</strong> <em>Une variable est un identificateur associé à une valeur. En Python, c’est une référence d’objet.</em></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">v=<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;v=&#125;</span>,<span class="subst">&#123;<span class="built_in">type</span>(v)&#125;</span>&quot;</span>)</span><br><span class="line">v=<span class="string">&quot;bonjour&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;v=&#125;</span>,<span class="subst">&#123;<span class="built_in">type</span>(v)&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">v</span>(<span class="params">param</span>) : <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;v=&#125;</span>,\t<span class="subst">&#123;v(<span class="number">1</span>)=&#125;</span>,\t<span class="subst">&#123;<span class="built_in">type</span>(v)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Sytème d’affectation des variables immutables[可变的和不可变的<br />
不可更改的变量的分配系统]</strong><br />
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABngAAAJcCAYAAADac6qYAAAIAnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjItMDctMjdUMDklM0E0NSUzQTI5Ljg0MVolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChXaW5kb3dzKSUyMiUyMGV0YWclM0QlMjJUazhWVUlQR0xGRUpRckZuVVRvViUyMiUyMHZlcnNpb24lM0QlMjIyMC4wLjIlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIyazBUc1FRWFBqS1pIM1JvOXJ4VnIlMjIlMjBuYW1lJTNEJTIyUGFnZS0xJTIyJTNFN1Z0ZGM5bzRGUDAxVEo1MkIxdjRnOGNFa3U1RE85Tk9PdDN1bzdBRmFDdGJyQzBDNmElMkJ2aEdXd2ZjMjR5MkRMWmlBemlYVmxTZGE1OXg1SkoyYUVadEglMkJRNEkzNjA4OEpHeGtqOFA5Q00xSHRqMzFMZmxiR2Q0emcydHJ3eXFoWVdZcUdGN3BUNktOWTIzZDBwQ2twUnNGNTB6UVRka1k4RGdtZ1NqWmNKTHdYZm0ySldmbFVUZDRSWURoTmNBTVd2JTJCbW9WaG5WdCUyRjJUdmElMkZDRjJ0ODVFdGQ1clZSRGklMkZXYzhrWGVPUTd3b205RHhDczRSemtWMUYlMkJ4bGhDcnNjbDZ6ZHk1bmE0NE1sSkJhJTJGMCUyQkJmejdJJTJGVGIlMkJ3bDhYNDQ5U1B0aSUyRlBYOE0lMkZuS3lYTjh5MmVzSllQNjE0enlHUTNVaTBaZUZwdDZhQ3ZHNXdvR3AyMHQlMkZTdGhZUmt5VkxYdUowazdsZ1NmZEVqdnEwcEl6Tk9PUEpvU08wWEJJM0NLUTlGUW4lMkZRUW8xb1RkZGpNZXlSajhPU1FUWm41Mm5kVVJQUmgzaEVSSEp1N3dsYnpEV2dPY1JwNHU3ayUyRnNtMnJRdWVDNjNZUjB3cTJQSEowemxoWWIxZjBEc0FZZ3RBUEV3Z0ozMkMxZ2ZBQXRETnc0ZkZRbklVc0J3bXRLZ0RHekN0M0dvRUowcmpNaWVpdSUyQjZSbDMlMkZvJTJCeCUyRk9ybzAzeGR1bTclMkZuaFZoTzVYdXhVR2lsaXFkbWgxTGVMbnRVRWdMMnFYaERUb2R2azRBMDU3REF5WXFJcGtDRTNpMjR6Nmx4WDI1TENNT0N2cFVmdDg2bmVvVFBuTXFKSElQbkdDMDZlT3h4SlN5eWFlcFdSUnFyZElTc2NrZVdVJTJCa293d0YwZEFpeDQ3UXZqN29waUxyRnJUR21aUnZPN056RkJaQmhiZzhEMm1uZm9MWHVyRm5NNDBiV3RNYjFEalpFbSUyQjZWYVBPNHdlNklOaTBieEYxd2M3enBtMDV1QkVCR044S2J4cUdkM0htemxNak54SW42Ukp6SXZoWnhlaDBUWjAzY3VVeUM5UlRTTjNtNVVwZjRFRWZhTG9jcFZJRW9sVWtweW5GWnp1U1l4NlNTOXRxRUdWM0ZLcmhsMEJCcGYxSXBUZ1BNSG5WRlJNT1FuYVB2Y3ZRSFBCYVl4cXFiJTJCZFhvdU9RbzF3R000ZGJFRzJxTE1lQ0NWJTJCTzRoYXl4NzQ0cmM3MXQySE53RmEzeG5PVDJPYnA3cnJKS0clMkZhY0JmWE1yd21ucVJwTGJsd0NJWmNVSHF0aSUyQkNDblNFbVM5dFJaUyUyQm1zRnh4UnBxRDlScElReCUyRmc2UG5QT25DZ0tQck82ZFpvTG5EWjRFWHJTTXhIYXVoa1ZldEl6RmRxNnk5RGxORzQlMkJHQmdWb3AxckNkR3VZU0hhdWtFbHVrcWJ4dVhTZlB6aEs5RlYzalFQN1YySkxpZHlJM0VXWGh2b0EzRmVLa1ZYaWJOcktUcVBzMXVTb2dGeG10Wkw3UzZrYUVmOTFFSHJIajc2R0ZXd1o1JTJCV0NOVTQ1TDJXcUwwT0dUV2YlMkJNQVk5V0tOR2pCcXh4cTFEVSUyQlhTaDZEMjlGJTJCYUNzdENHSGdyUlRUU3BnTmo2VWZzU3lIUEk1SE16UjZuQkpaUWlyalVoVko2WGF6U1doMHFwTG9wJTJGOXQxVldnSWoycldHWiUyRkpDcUJxdW1yZzlzVHp4QTZzd2txJTJCUG00biUyQm5HMGZBWU9IajF6UFhLS0p2V2VITG50YXFlR2QzTWVHN1BFTDhmRHN2cDNiaVZtUmpkeXZoVlhyeFVWZlA5eWtMYXNhcUc0T0Z3OEtwYWxVNk5TejhJ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" width="1186" height="422" style="cursor:pointer;max-width:100%;" onclick="(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('https://viewer.diagrams.net/?client=1&page=0&edit=_blank');}})(this);"/></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line">c=<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;a=&#125;</span>, <span class="subst">&#123;b=&#125;</span>, <span class="subst">&#123;c=&#125;</span>&quot;</span>)</span><br><span class="line">c=b</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;a=&#125;</span>, <span class="subst">&#123;b=&#125;</span>, <span class="subst">&#123;c=&#125;</span>&quot;</span>)</span><br><span class="line">a=<span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;a=&#125;</span>, <span class="subst">&#123;b=&#125;</span>, <span class="subst">&#123;c=&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="mutables-et-non-mutables"><a class="markdownIt-Anchor" href="#mutables-et-non-mutables"></a> Mutables et non-mutables</h3>
<blockquote>
<p><em>Les variables simples vue jusqu’ici sont dites <strong>non-mutable</strong> i.e.</em></p>
<ol>
<li>on ne modifie jamais le contenu d’une case mémoire</li>
<li>on affecte la variable à une nouvelle case</li>
</ol>
</blockquote>
<blockquote>
<p><em>Il existe des objets dits <strong>mutables</strong>, dont le contenu est directement modifié.</em></p>
<p>Par exemple les listes <code>ma_liste=[1,&quot;chaine&quot;]</code></p>
</blockquote>
<p>Les listes, mutable par excellence</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">L2=L <span class="comment">#on crée une nouvelle référence</span></span><br><span class="line"><span class="built_in">print</span>(L==L2)--&gt;<span class="literal">True</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>⚠️ Toute modification par l’un des “pointeurs” entraine une modification de la liste pointée.</p>
<p>任何一个 &quot;指针 &quot;的修改都会导致对被指向的列表的修改。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L2[<span class="number">2</span>]=<span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(L==L2, <span class="built_in">id</span>(L)==<span class="built_in">id</span>(L2))<span class="comment">#True True</span></span><br><span class="line"><span class="built_in">print</span>(L)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L2=<span class="number">4</span> <span class="comment">#on change l&#x27;affectation de la variable</span></span><br><span class="line"><span class="built_in">print</span>(L==L2)<span class="comment">#Flase</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Si on veut créer une copie de la liste et pas un pointeur</span></span><br><span class="line"><span class="comment">#Copie simple</span></span><br><span class="line">Lcopie=L[:]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(L))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(Lcopie))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Les deux variables ont la même addresse mémoire ?&quot;</span>,<span class="built_in">id</span>(Lcopie)==<span class="built_in">id</span>(L))<span class="comment">#Flase</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Par le module copie </span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">Lcopie=copy.copy(L) <span class="comment">#shallow</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(L))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(Lcopie))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Les deux variables ont la même addresse mémoire ?&quot;</span>,<span class="built_in">id</span>(Lcopie)==<span class="built_in">id</span>(L)) </span><br></pre></td></tr></table></figure>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABs4AAASCCAYAAAASfxmDAAAKPnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjItMDctMjdUMTUlM0EzOSUzQTQzLjU3NVolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChXaW5kb3dzKSUyMiUyMGV0YWclM0QlMjJ2RlhTQ3RZVGpwNmFyYU9hVmNFbyUyMiUyMHZlcnNpb24lM0QlMjIyMC4wLjIlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIySmtuQ0dUMU9EVVNlcG9oQ0YtMGQlMjIlMjBuYW1lJTNEJTIyUGFnZS0xJTIyJTNFN1Z4YmMlMkJJMkZQNDFUSiUyQlN3Wkp2UEhMSjdqNGswJTJCNWtwOTA4S3JZQXRjYWlSaVN3djc0U2xyRXRpY0VsNEVzZ21RbldrU3hiMzdub084Y21QVGhlYkw0bWFEbCUyRm9pR09lcUFmYm5wdzBnTmc0RnY4cnhCc1U0RUxwR0NXa0RBVkZRVFA1QmVXd3I2VXJrbUlWNldCak5LSWtXVlpHTkE0eGdFcnlWQ1MwUGZ5c0NtTnlsZGRvaG5XQk04QmluVHBYeVJrODFUcUF5JTJCWGY4TmtOcyUyQnViTG1EdEdlQnNzRnlKYXM1Q3VsN1FRUWZlbkNjVU1yU284Vm1qQ09CWFlaTGV0NlhBNzM3RzB0d3pLcWNNSmtIZyUyQjMzNzclMkIlMkJSajklMkJ4SGkxJTJGbjFvRCUyQjVjTjUzbURVVnJ1V0o1dDJ5YlFUQm5pNGdmV1QwNDJxJTJCaHp4c2hXczF4S0Jzb0lyT1lId2Y4Ym5EQ0JXODRZWVRqT0pRZEN4S0dZa1l4eDFMTXZOak1oTVhjcDFvQzkzeHNSTmRzS0pwaWRtRXcxdTQ2d3BhQU9Jb3BDd1NvZktuM2ZTaXVLZ1olMkZ3eWpNeGs1cHpLUVI3YzZRcSUyQlAzZ2pjSGNiUDIydUJXak9rQ3MyVExoOGdUZ0M4VktDMFlER1Q3UGJjSG1DbDVYclNGYkNDU05qamJ6NTJyaVI5SVRmMFByVm1hMHBDbU5UNE45eEVCJTJCUHVjTVB5OFJJSG9lZWVZYzFsQnAyaTFUQjFuU2paQ25hTXBpYUl4aldpeW13aE9wOWdOQXFFNGx0QiUyRmNLRW45QWF2JTJGVE9oYktrbzZ5RGJCb3p0UzBFTU5JZ3REZUpPQUF1OGRnRUxqd2NjSEljeUNreUNDSzFXSkNnRG05QjFITzRqRDk0UTlsUDJpT01YSWI5M1pHdXlLUXliYkxOR3pKZnlzOWdvbkNXYSUyQldtN1ZuWmVlcXM0MVBZTVJSdDhPWFNkQlBpNER6T1V6REE3Wm9pNmRndnFjd3pxeTJRSmpoQWpiJTJCWGJOZWxVWHVFUFN2aEM5c1lEN2JMeFdLNWlGdWt5NVZuRnpVZWRhS0JNWkNrVHBUaG9FJTJCMU1iTCUyRnNEMFRNdnNIczNJaUo3WVc4OGNPWk9FUTdNNUp5ZnAxQ2wyYWszQ05aMlN6TGJoelRHQ3MlMkJMMFhWdDBwVGdDa2JQNmM5REpGWVRETTVVOEJRTkFVY0xWNjRCb09ERjl2cjlJQXg1Q0ZoRm5PN3ByRmdsciUyQnR4UWRmSGVFd3RGTk5ncFo4UVFzU0NWRCUyRnhFbUlZblNtZlJNcWpnWDElMkJHN1ZxekQ3ODdFVHAyV2JxT1hVUUU4YzhXdEMxdDM5U0xNdXlOT2Y4eUR1dWkxRHZFS2lkQjI4eGE1SVhLRGJKSFB4MUxoNEtuUHglMkZHYVpDOUREYVhuJTJGNHd6bDN6WGQwWmYxYkNIME9ZYTk0UURuOHF2YkZCM2dIOTBVdVNKcjNCU2hIajdnMlFOMkxWdWhHcGo5aGdNejlBeUIyY0Rzd1loM2dtc245N1piOW95bTJUMzBOZTA5b1pnczE5R2UzdU1WJTJGOHZSdlZ1c0dYcU5STE9WMnJwRTZSRU15bkhNMDUwTmVyWHFhNkRwNjFIblFkMGk5d3BUZ0liTm90YUk1dGc2b3B5NVBjc21UZGljem1pTW9vZGNxdGhpUHVhUjBxVkUlMkIyJTJGTTJGWmFLRm96V3RaRlJrZHpDdnBTNkRsR1IzTUclMkJsSWlvR1k2YW5hVnM5RFRUQ3RINmFsem9MQldtWGQlMkJTTWZaYlJaM0xXZlU3em1UYnJJQ0M3VE1pV3o5R1ludVZkZVFyMlVSJTJCNmhEMkgyemh1dkoxeXlsN0doN0olMkJaclFDbFoyNkRlZk0ydVVxJTJGa3lWayUyRklpc21QaCUyRkZJR2ZFVHhzN0p2OXZEN3N4Skd1RlNHN1pId3dsbWNJTXoxZU5sbmN4a21QcktjVTRTYlBxUTBva0F1RkZPaVlraUNTNFczbzhCMW10OEp3Y21KNlRYMDZQT2xuTjhqOEJRMGs5V2ExRWROeXRkaFk5NUFNc2U3blp3WlBYVXRLVThZbUdaTXAxa05yRFBxbE01ODJ5eWpOZGE1Y0ZDV05EdWNXNWFDR1VHNyUyQnVsdW1JeHpURDVaSEU0cHM2R0lPVVRCeTRzMWJhcHBydlhpQ2pVcDlEMm9ieUJUUmx3SmRqJTJCem9UTkdiQVY1ajlLb21aNCUyQmpGaW5xejMlMkJ3R2JwblpDVVRVcWZyR2d3UE5abEZQWnVZWUVnY2VVN3VibWJrdHk4d2NvQUhjMFZLNG12VGElMkZhYWgxWE1QUFdKMUExcTNiZERxRDNBNlglMkZnRWclMkZMREFHaURoa0gyYnZ2cjZmdXJYM0YlMkZkUnV0ZkRyNkU1OU9WejZoM3pJbnlpTG56WWxPY0NLM0trbDFHeVdwN2ljanFUWm9teFBwSk5YcTY0N1ZDWERWQ0dWYlRZT3IwMVRRVlhCVnkyMGVYUDE5TVZFWnZKcXFFZFJDaWFjcHBOWlhYRnlkOEhRJTJCYzNDdGxoVVZzbTlkM2tqUENhUW5xNkVlSlQyZTNTVHB5Vzd6czJRT1hyOWxUdVRkM3Brb2glMkJ6akR0SG9PeE9lOHEyVWs5JTJCWjhOVkNaczN2VEhnR083dEY3NnJSRzFZMVZxZlI2RzM0NG0lMkJYVTFiUGJsdjAxb2wlMkZSNSUyQnJxQnRqNDhWJTJGVCUyRiUyQjZYVWVmcTZoVzJ6eTA3aTMwbng3NnZZcWgzeiUyRkFVMm9LJTJGWWF2NkRnajBOM1E3N2N0OVBzM0p6cmRpYXElMkJJTzBmc0lxYW5NandNcU40YTdpclRxVG1ISTA3VWViVW42SGtyMGFveHJkNVh5OHRkTGJrcjJYTGx3T1hOJTJGTiUyRkVKZG0yJTJGbCUyRjJZTVAlMkZ3RSUzRCUzQyUyRmRpYWdyYW0lM0UlM0MlMkZteGZpbGUlM0W6tISDAAAgAElEQVR4nOzdb6wcZ50v+N+AJjA3I1hy3l0hFBmR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" width="1248" height="821" style="cursor:pointer;max-width:100%;" onclick="(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('https://viewer.diagrams.net/?client=1&page=0&edit=_blank');}})(this);"/>
<h4 id="les-dictionnaires-listes-clévaleur"><a class="markdownIt-Anchor" href="#les-dictionnaires-listes-clévaleur"></a> Les dictionnaires : “listes” clé/valeur</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">valeur=<span class="number">10</span></span><br><span class="line">dictionnaire=&#123;<span class="string">&quot;clé&quot;</span>:valeur,<span class="string">&quot;recursif&quot;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dictionnaire[<span class="string">&quot;clé&quot;</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dic2=copy.copy(dictionnaire)</span><br><span class="line">dic2[<span class="string">&quot;recursif&quot;</span>][<span class="number">1</span>]=<span class="number">50</span></span><br><span class="line">dic2[<span class="string">&quot;complex&quot;</span>]=<span class="number">1</span>+<span class="number">2j</span> <span class="comment">#on enrichi le dictionnaire</span></span><br><span class="line"><span class="built_in">print</span>(dictionnaire)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>⚠️ La “shallow” copy n’a créé de copie que pour le niveau supérieur.</strong></p>
<p>Pour tout copier, on utilise <code>copy.deepcopy()</code></p>
<p>深复制，即将被复制对象完全再复制一遍作为独立的新个体单独存在。所以改变原有被复制对象不会对已经复制出来的新对象产生影响。递归拷贝对象中包含的子对象，源对象与拷贝对象所有的子对象也不相同。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dictionnaire=&#123;<span class="string">&quot;clé&quot;</span>:valeur,<span class="string">&quot;recursif&quot;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br><span class="line">dic2=copy.deepcopy(dictionnaire)</span><br><span class="line">dic2[<span class="string">&quot;recursif&quot;</span>][<span class="number">1</span>]=<span class="number">50</span></span><br><span class="line">dic2[<span class="string">&quot;complex&quot;</span>]=<span class="number">1</span>+<span class="number">2j</span> <span class="comment">#on enrichi le dictionnaire</span></span><br><span class="line"><span class="built_in">print</span>(dictionnaire)</span><br><span class="line"><span class="comment">#on utilise l&#x27;opérateur ** pour &quot;unpack&quot; un dictionnaire, très utile pour en concaténer deux</span></span><br><span class="line"><span class="comment">#**操作符用于解压一个字典，这对于连接两个字典非常有用</span></span><br><span class="line">new_dic=&#123;**dictionnaire,**&#123;<span class="string">&quot;var&quot;</span>:<span class="number">1.2</span>&#125;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="le-tuple-une-liste-non-mutable"><a class="markdownIt-Anchor" href="#le-tuple-une-liste-non-mutable"></a> Le <code>tuple</code>, une liste non-mutable</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># exemple de tuple</span></span><br><span class="line">vecteur=(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;vecteur=&#125;</span>, <span class="subst">&#123;<span class="built_in">type</span>(vecteur)=&#125;</span>&quot;</span>)</span><br><span class="line">vecteur[<span class="number">1</span>]=<span class="number">2</span><span class="comment">#会报错，因为不能被修改</span></span><br></pre></td></tr></table></figure>
<p>L’opération précédente est illégale puisque le tuple n’est pas modifiable après sa création. Il faut réallouer la variable par un nouveau tuple contenant la valeur souhaitée.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vecteur=(vecteur[<span class="number">0</span>],vecteur[<span class="number">1</span>],<span class="number">2</span>)</span><br><span class="line"><span class="comment">#que l&#x27;on peut remplacer par l&#x27;opération suivante</span></span><br><span class="line">vecteur=(*vecteur[:<span class="number">1</span>],<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h4 id="quelques-autres-types-qui-peuvent-etre-utile"><a class="markdownIt-Anchor" href="#quelques-autres-types-qui-peuvent-etre-utile"></a> Quelques autres types qui peuvent etre utile</h4>
<ul>
<li>
<p><code>set</code> est une collection itérable non ordonnée d’éléments hachables uniques 集合，无序</p>
</li>
<li>
<p>module <code>collections</code></p>
<p>collections是Python内建的一个集合模块，提供了许多有用的集合类和方法。可以把它理解为一个容器，里面提供Python标准内建容器 dict , list , set , 和 tuple 的替代选择。</p>
<ol>
<li>
<p><code>defaultdic</code> du  propose des dictionnaires avec valeur par défaut：当字典里的key不存在但被查找时，返回的不是keyError而是一个默认值，可以是list、set、str等，用法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line">dict1 = defaultdict(<span class="built_in">int</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>counter</code> bien pratique pour des dictionnaires de dénombrement: 作用是计算出字符串或者列表等中不同元素出现的个数，返回值可以理解为一个字典</p>
</li>
<li>
<p><code>deque</code> pour des listes à accés rapide des extrémités (<em>file,tas</em> ):可以实现双端队列</p>
</li>
</ol>
</li>
<li>
<p>module <code>heapq</code> pour des opérations efficaces sur les tas：实现堆栈</p>
</li>
</ul>
<blockquote>
<p>Plus d’infos dans <em>Programmation Python Avancée, X. Olive</em></p>
</blockquote>
<h3 id="gestion-de-la-mémoire"><a class="markdownIt-Anchor" href="#gestion-de-la-mémoire"></a> Gestion de la mémoire</h3>
<blockquote>
<p><em>Contrairement aux langages plus bas niveau, python gère “automatiquement” la mémoire.</em> Il l’alloue et la libère tout seul.</p>
<p>自动管理内存：自己分配和释放内存</p>
</blockquote>
<h4 id="garbage-collector"><a class="markdownIt-Anchor" href="#garbage-collector"></a> Garbage collector</h4>
<blockquote>
<p>si une donnée en mémoire n’est plus référencée, le <em>garbage collector</em> <code>gc</code> de Python la supprime automatiquement (car son nombre de références tombe à zéro)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">donnee=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(donnee)) <span class="comment"># le texte lui meme plus le passage à getrefcount</span></span><br><span class="line">maliste=donnee</span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(donnee))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>la fonction <code>del</code> permet de supprimer une référence, pas son contenu.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">del</span>(donnee)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Le contenu est nettoyé par le garbage collector <strong>automatiquement</strong>.</p>
</blockquote>
<p>On peut néanmoins accéder au <code>gc</code> ainsi</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> gc</span><br><span class="line">gc.collect() <span class="comment"># fait le ménage</span></span><br><span class="line">gc.get_threshold() <span class="comment"># un second mécanisme &quot;générationel&quot; traite les récursions, avec les propriétés suivantes</span></span><br></pre></td></tr></table></figure>
<h4 id="evaluation-de-lusage-mémoire"><a class="markdownIt-Anchor" href="#evaluation-de-lusage-mémoire"></a> Evaluation de l’usage mémoire</h4>
<blockquote>
<p><em>Pour des programmes complexes ou traitant de grandes données, on peut suivre l’usage mémoire par profiler</em></p>
</blockquote>
<p>Il existe une multitude de solution, la plupart vont aller chercher activement l’usage mémoire à interval regulier (ou lors des allocations) pour obtenir une bonne estimation de l’usage mémoire. Ici, on peut installer l’outil <code>memory_profiler</code> qui s’intègre facilement à jupyter.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">!mamba install -c conda-forge memory_profiler -y</span><br><span class="line">%load_ext memory_profiler</span><br><span class="line"># que l&#x27;on appelle ensuite ainsi</span><br><span class="line">%memit [i for i in range(100000)]</span><br></pre></td></tr></table></figure>
<p>Il existe une version ligne par ligne <code>%mprun</code> qui ne fonctionne que pour les fonctions définies dans des fichiers externe. (cf TP)</p>
<h2 id="programmation-fonctionelle"><a class="markdownIt-Anchor" href="#programmation-fonctionelle"></a> Programmation fonctionelle</h2>
<h3 id="fonctions"><a class="markdownIt-Anchor" href="#fonctions"></a> Fonctions</h3>
<p>On défini une fonction de la façon suivante:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fonc</span>(<span class="params">x, y=<span class="number">0</span>, *args, **kwargs</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Un docstring est fortement recommandé</span></span><br><span class="line"><span class="string">    ---docstring?&quot;&quot;&quot;</span></span><br><span class="line">    x*y</span><br><span class="line">    <span class="keyword">return</span> <span class="comment"># même si on ne renvoie rien!</span></span><br></pre></td></tr></table></figure>
<p>Que l’on appèlerai ainsi:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fonc(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"><span class="comment">#ou</span></span><br><span class="line">fonc(<span class="number">10</span>,y=<span class="number">20</span>)</span><br><span class="line"><span class="comment">#ou, avec les arguments surnuméraires en supposant args et kwargs bien définis</span></span><br><span class="line">args=[]</span><br><span class="line">kwargs=&#123;&#125;</span><br><span class="line">fonc(<span class="number">10</span>,args, kwargs)</span><br></pre></td></tr></table></figure>
<div class="alert alert-success">Les arguments d'une fonction peuvent etres passés nommés ou non. S'ils ne le sont pas l'ordre est important.</div>
<h4 id="détails-sur-le-passage-des-arguments"><a class="markdownIt-Anchor" href="#détails-sur-le-passage-des-arguments"></a> Détails sur le passage des arguments</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fonc</span>(<span class="params">x, y=<span class="number">0</span>, *args, **kwargs</span>):</span><br><span class="line">    <span class="comment">#actions</span></span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fonc(<span class="number">10</span>,args, kwargs)</span><br></pre></td></tr></table></figure>
<div class="alert alert-danger"> <b>Le passage se fait par assignation</b> et pas par références en soi. C'est à dire, qu'un nouvel alias est créé, pointant vers la case mémoire concernée. Deux cas de figure suivant que l'objet est:
<ol>
    <li> <b>immutable</b> : toute modification dans le corps de la fonction entraine une nouvelle assignation/allocation. </li>
    <li> <b>mutable</b> : toute modification dans le corps de la fonction entraine une modification de l'objet pointé. Donc de l'objet dans l'espace global.</li>
???????    
</ol>
<blockquote>
<p>⚠️ Ne pas utiliser des mutables en valeur par défaut. Leur durée de vie dépasse l’appel de la fonction!</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ajout_liste</span>(<span class="params">L=[],elem=<span class="string">&quot;elem&quot;</span></span>):</span><br><span class="line">    <span class="comment">#une liste inutile qui ajoute un élément à une liste</span></span><br><span class="line">    L.append(elem)</span><br><span class="line">    <span class="built_in">print</span>(L)</span><br><span class="line"></span><br><span class="line">ajout_liste(elem=<span class="number">1</span>)</span><br><span class="line">ajout_liste(elem=<span class="number">2</span>)  <span class="comment">#quel résultat est attendu?</span></span><br></pre></td></tr></table></figure>
 <div class="alert alert-success"> <b>Les fonctions sont des objets/variables comme les autres!</b> 
    <br> Mais on peut les appeler (callable).
    <br> ➡️ On peut passer une fonction comme argument
     <br> 函数和其他的对象/变量一样！但它们可以被调用（可调用）。➡️ 可以将一个函数作为参数传入
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fonc2</span>(<span class="params">fonc</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*(fonc(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>
<p>On dispose même des <em>fonctions anonymes</em> <code>lambda function</code> qui sont définies à la volée, tant qu’elles sont mono-instruction.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fonc2(<span class="keyword">lambda</span> x: x+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>En pratique on les utilisera seulement si l’instruction est très simple et facile à comprendre. Sinon on déclare une nouvelle fonction!</p>
<p>在实践中，只有在指令非常简单和容易理解的情况下才应使用它们。否则，将声明一个新的函数.</p>
<h4 id="type-hinting-python35"><a class="markdownIt-Anchor" href="#type-hinting-python35"></a> Type hinting <code>python&gt;=3.5</code></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hello_name</span>(<span class="params">name: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="keyword">return</span>(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="portée范围-des-variables"><a class="markdownIt-Anchor" href="#portée范围-des-variables"></a> Portée[范围] des variables</h3>
<p>Variables locales, variables globales</p>
<ul>
<li>
<p>Les variables définies (ou passées) à la fonctions sont <strong>locales</strong> i.e. accessibles uniquement depuis la fonction et détruites ensuite.</p>
</li>
<li>
<p>Les variables définies à l’extérieur d’une fonction sont des variables globales. Leur contenu est « visible » de l’intérieur d’une fonction, mais la fonction ne peut pas le modifier.</p>
<p>在一个函数之外定义的变量是全局变量。它们的内容在一个函数中是 “可见的”，但函数不能改变它们。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = <span class="string">&quot;global&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    x = x * <span class="number">2</span> <span class="comment">#会报错，改成1也不行</span></span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.2f0230qsslno.png" alt="yaimage" /></p>
<p>On peut aussi utiliser (rarement) le mot clé <code>global</code> pour s’assurer que l’on modifie une variable globale du programme.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = <span class="string">&quot;global &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">    <span class="keyword">global</span> x <span class="comment"># Essayer avec et sans! </span></span><br><span class="line">    y = <span class="string">&quot;local&quot;</span></span><br><span class="line">    x = x * <span class="number">2</span><span class="comment">#字符串也有乘法的</span></span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">    <span class="built_in">print</span>(y)</span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>
<p>Le cas <code>nonlocal</code> pour les fonctions imbriqués</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">    x = <span class="string">&quot;local&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="keyword">nonlocal</span> x</span><br><span class="line">        x = <span class="string">&quot;nonlocal&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;inner:&quot;</span>, x)</span><br><span class="line">    inner()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;outer:&quot;</span>, x)</span><br><span class="line">outer()</span><br></pre></td></tr></table></figure>
<h3 id="paradigme范式-la-programmation-fonctionnelle"><a class="markdownIt-Anchor" href="#paradigme范式-la-programmation-fonctionnelle"></a> Paradigme[范式] : La programmation fonctionnelle</h3>
<h4 id="un-petit-peu-de-théorie-de-la-programmation"><a class="markdownIt-Anchor" href="#un-petit-peu-de-théorie-de-la-programmation"></a> <em>Un petit peu de théorie de la programmation</em></h4>
<div class="alert alert-success" role="alert">
  <b>La programmation impérative 命令式编程</b> est le paradigme le plus répendu. On découpe le programme en une séquence d'instructions à exécuter. C'est une description de l'algo à exécuter pour résoudre le problème. <br>
    🚀 Offre un bon controle de la performmance.
</div>
<div class="alert alert-success" role="alert">
  <b>La programmation déclarative声明式编程 </b> considère le programme par une description du problème. Le moteur du language met en oeuve l'algo permettant la résolution. C'est un paradigme de programmation sans <i>effet de bord</i> c.à.d. sans état interne permanent. Exemple : Latex, CSS. <br>
    ✔️ Formel donc permet de prouver que les résultats sont corrects.
</div>
<div class="alert alert-success" role="alert">
  <b>La programmation fonctionnelle </b> est une variante de programmation déclarative. La programmation est vue comme l'évaluation de fonctions mathématiques sans effet de bord. <br>
    ☞ Langages fonctionnels : Haskell, Scala, OCaml
</div>
<p><strong>Par exemple:</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">10</span>,-<span class="number">1</span>]</span><br><span class="line">L.sort(),L </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">10</span>,-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">sorted</span>(L),L </span><br></pre></td></tr></table></figure>
<ul>
<li>La méthode <code>.sort</code> est impérative[命令]. Elle modifie l’input avec une série d’instructions.</li>
<li>La fonction <code>sorted</code> suit un modèle fonctionnel, sans effet de bord. Deux appels successifs ne changent pas le résultat.</li>
</ul>
<div class="alert alert-danger" role="alert">
  Un programme utile aura toujours des effets de bords, il interragit avec le monde extérieur.
</div>
<p>Python n’est pas un langage fonctionnel. Cependant, les recommandations de la programmation fonctionnelle:</p>
<ul>
<li>limiter les effets de bord et états internes</li>
<li>limiter les mutables</li>
<li>programmation qui caractérise la solution plutot que la procédure</li>
</ul>
<p>permettent un style modulaire et donc compsable.</p>
<p><strong>En pratique cela facilite aussi le teste et les débugs et certaines accélérations (jit, parallèlisme, GPU).</strong></p>
<p>Les bibliothèques <code>pandas</code> et <code>altair</code> ont une approche très fonctionnelle. <code>numpy</code> beaucoup moins comme on le verra.</p>
<h4 id="fonctions-pures-et-dordre-supérieur"><a class="markdownIt-Anchor" href="#fonctions-pures-et-dordre-supérieur"></a> Fonctions pures et d’ordre supérieur</h4>
<div class="alert alert-success" role="alert">
  Une <b>fonction pure</b> est une fonction dont le résultat dépend uniquement de ses arguments, donc sans effets de bord. En programmation foncitonnelle on utilise que des fonctions pures<br>
</div>
<div class="alert alert-success" role="alert">
  Une <b>fonction d'ordre supérieur</b> est une fonction qui prend en argument une fonction ou renvoie une fonction.<br>
</div>
<div class="alert alert-info" role="alert">
    <b> Exercice:</b> Ecrire une fonction pure <code>fibonacci</code>(et récursive) qui calcule le n-ème terme de la suite de Fibonacci. <br>
    Rappel $f_0=1,f_1=1$ et $\forall n >1, \quad f_n=f_{n-1}+f_{n-2}$.
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fibonacci</span>(<span class="params">n:<span class="built_in">int</span></span>)-&gt;<span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span>(fibonacci(n-<span class="number">1</span>)+fibonacci(n-<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<div class="alert alert-info" role="alert">
  <b> Exercice:</b> Ecrire une fonction d'ordre supérieur <code>n_premiers</code> qui renvoie une fonction qui calcule les n permiers termes de la suite de Fibonacci.
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">n_premiers</span>(<span class="params">func: <span class="string">&quot;int -&gt; int&quot;</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:<span class="comment">#注意这里参数的是函数</span></span><br><span class="line">    <span class="keyword">return</span> [func(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"><span class="built_in">print</span>(n_premiers(fibonacci,<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<div class="alert alert-info" role="alert">
  <b> Exercice:</b> Ecrire une fonction d'ordre supérieur <code>premiers</code> qui renvoie une fonction qui calcule les n permiers termes d'une suite  et l'appliquer Fibonacci.
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#关于这里声明的理解，输出是函数，然后输出的函数式int做输入，list做输出</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">premiers</span>(<span class="params">func: <span class="string">&quot;int -&gt; int&quot;</span></span>) -&gt; <span class="string">&quot;int -&gt; List[int]&quot;</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">n_premiers_func</span>(<span class="params">n: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="keyword">return</span> n_premiers(func,n)</span><br><span class="line">    <span class="keyword">return</span> n_premiers_func</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">n_premiers_fibonacci=premiers(fibonacci)</span><br><span class="line">n_premiers_fibonacci(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<h3 id="deux-mots-sur-les-décorateurs"><a class="markdownIt-Anchor" href="#deux-mots-sur-les-décorateurs"></a> Deux mots sur les décorateurs</h3>
<p>Un décorateur de fonction (d’ordre supérieur) est un outil qui permet de marquer une fonction afin d’en modifier le comportement. Il est marqué par le <code>@décorateur</code> avant une fonction.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">timer</span>(<span class="params">func:<span class="string">&quot;fonction&quot;</span></span>)-&gt;<span class="string">&quot;fonction&quot;</span>:</span><br><span class="line">    name=func.__name__</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">timed_func</span>(<span class="params">*args</span>):</span><br><span class="line">        t1=time()</span><br><span class="line">        arg_str=<span class="string">&#x27;, &#x27;</span>.join(<span class="built_in">repr</span>(arg) <span class="keyword">for</span> arg <span class="keyword">in</span> args)</span><br><span class="line">        resultat=func(*args)</span><br><span class="line">        elapsed=time()-t1</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;name&#125;</span>(<span class="subst">&#123;arg_str&#125;</span>) elapsed time [<span class="subst">&#123;elapsed:<span class="number">0.8</span>f&#125;</span>s]&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> resultat</span><br><span class="line">    <span class="keyword">return</span> timed_func</span><br><span class="line"></span><br><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factorielle</span>(<span class="params">n: <span class="built_in">int</span></span>)-&gt;<span class="built_in">int</span>:</span><br><span class="line">    res=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">        res*=i</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"><span class="built_in">print</span>(factorielle(<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<p>Attention aux fonctions réccursives, l’appel sera affiché à chaque fois!</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factorielle_rec</span>(<span class="params">n: <span class="built_in">int</span></span>)-&gt;<span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n*factorielle_rec(n-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(factorielle_rec(<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<h3 id="itérateurs-et-générateurs"><a class="markdownIt-Anchor" href="#itérateurs-et-générateurs"></a> Itérateurs et générateurs</h3>
<blockquote>
<p>En programmation fonctionelle, la récursion joue souvent le role d’<strong>itérateur</strong> à la place des boucles <code>for</code>.</p>
</blockquote>
<p>Si on voit l’itération comme <em>une structure générique qui fourni un service</em>, alors les structures itérables fournissent des élément un à un sans avoir à les charger intégralement en mémoire. On peut:</p>
<ul>
<li>les parcourir avec un <code>for</code></li>
<li>construire des structures en les <em>consommant</em></li>
<li>les manipuler par compréhension</li>
<li>les déballer</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">type</span>(<span class="built_in">range</span>(<span class="number">10</span>))<span class="comment">#range</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<h4 id="retour-sur-lécriture-en-compréhension"><a class="markdownIt-Anchor" href="#retour-sur-lécriture-en-compréhension"></a> Retour sur l’écriture en compréhension</h4>
<p>On peut utiliser les listes en compréhension pour créer des nouvelles structures et améliorer (un peu) la performance.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%%timeit </span><br><span class="line">L=[<span class="number">2</span>*x**<span class="number">3</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>)]</span><br><span class="line"><span class="comment">#等价于</span></span><br><span class="line">%%timeit <span class="comment">#可以用于计时</span></span><br><span class="line">L=[]</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">    L.append(<span class="number">2</span>*x**<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h4 id="créer-ses-propres-itérateurs-avec-le-mot-clé-yield"><a class="markdownIt-Anchor" href="#créer-ses-propres-itérateurs-avec-le-mot-clé-yield"></a> Créer ses propres itérateurs avec le mot clé <code>yield</code></h4>
<blockquote>
<p><em>Une fonction qui contient le mot-clé <code>yield</code> renvoie un générateur.</em></p>
</blockquote>
<p>Lorsqu’une fonction rencontre <code>yield</code>:</p>
<ul>
<li>elle renvoie la valeur courante</li>
<li>attend la prochaine itération dans la boucle</li>
<li>reprend le programme la ou il s’était arrété</li>
</ul>
<p>La suite de Syracuse est définie ainsi:</p>
<p>Pour tout entier <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>, l’entier suivant est défini par</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">w</mi></mrow><mtext>  </mtext><mi>n</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mi>n</mi><mn>2</mn></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>si </mtext><mi>n</mi><mtext>  </mtext><mtext>est pair</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>n</mi><mtext> sinon</mtext><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> \mathrm{new} \; n = \begin{cases} \frac{n}{2} &amp;\text{si }  n \; \text{est pair}
\\[4px] 3n+1 &amp; \text{if }  n \text{ sinon}.\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">n</span><span class="mord mathrm">e</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2815em;vertical-align:-1.3907500000000002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8907499999999997em;"><span style="top:-3.8907499999999997em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.04925em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">3</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3907500000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8907499999999997em;"><span style="top:-3.8907499999999997em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">si </span></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">est pair</span></span></span></span><span style="top:-2.04925em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">n</span><span class="mord text"><span class="mord"> sinon</span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3907500000000002em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<div class="alert alert-info" role="alert">
  <b> Exercice:</b> Ecrire un <i>générateur</i> de al suite de Syracuse grâce au mot-clé <code>yield</code>. Y ajouter une fonction qui calcule la longueur jusqu'à atteindre 1 <code>length</code> et celle qui donne la hauteur max <code>max</code>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">syracuse</span>(<span class="params">n: <span class="built_in">int</span></span>)-&gt;<span class="string">&quot;generator&quot;</span>:</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>   ...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>   <span class="keyword">yield</span> n</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(syracuse(<span class="number">10</span>))</span><br><span class="line">[<span class="number">10</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">syracuse</span>(<span class="params">n: <span class="built_in">int</span></span>)-&gt;<span class="string">&quot;generator&quot;</span>:</span><br><span class="line">    <span class="keyword">yield</span> n <span class="comment">#première itération, renvoie simplement l&#x27;input (pas de récursion ici)</span></span><br><span class="line">    <span class="keyword">while</span> n!=<span class="number">1</span>: <span class="comment"># le programme s&#x27;interrompt lorsque n=1, comme prévu</span></span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">0</span>:</span><br><span class="line">            n=n//<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            n=<span class="number">3</span>*n+<span class="number">1</span></span><br><span class="line">        <span class="keyword">yield</span> n <span class="comment"># renvoie la nouvelle valeur de n à chaque passage</span></span><br><span class="line"><span class="built_in">list</span>(syracuse(<span class="number">10</span>))  <span class="comment">#[10,5,16,8,4,2,1]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">length</span>(<span class="params">iterable</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(<span class="number">1</span> <span class="keyword">for</span> _ <span class="keyword">in</span> iterable)</span><br><span class="line">length(syracuse(<span class="number">27</span>))<span class="comment">#122</span></span><br><span class="line"><span class="comment"># trick</span></span><br><span class="line"><span class="string">&quot;-&gt;&quot;</span>.join(<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> syracuse(<span class="number">27</span>))</span><br></pre></td></tr></table></figure>
<div class="alert alert-success" role="alert">
   <b> Pour aller plus loin : </b> 
    <ol>
        <li> le module <code>itertools</code> permet des manipulations poussées des itérateurs</li>
        <li> la fonction <code>next</code> renvoie la première valeur du générateur </li>
        <li> les <b>coroutines</b> consomment des éléments à chaque appel </li>
    </ol>
</div>
<h3 id="des-built-ins-et-functool"><a class="markdownIt-Anchor" href="#des-built-ins-et-functool"></a> Des “built-ins” et <code>functool</code></h3>
<h4 id="map"><a class="markdownIt-Anchor" href="#map"></a> <code>map</code></h4>
<p><strong>map(func, sequence)</strong> applique une fonction à tous les éléments d’une séquence avec évaluation paresseuse (<em>lazy</em>).</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">map</span>(fibonacci,[<span class="number">1</span>,<span class="number">10</span>,<span class="number">20</span>])</span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(fibonacci,[<span class="number">1</span>,<span class="number">10</span>,<span class="number">20</span>]))</span><br></pre></td></tr></table></figure>
<h4 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> <code>filter</code></h4>
<p><strong>filter(func,x)</strong> fonctionne de la même façon et renvoie les éléments de <code>x</code> pour lesquels <code>func</code> renvoie vrai.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">paire</span>(<span class="params">n:<span class="built_in">int</span></span>)-&gt;<span class="built_in">bool</span>:</span><br><span class="line">    <span class="keyword">return</span>(n%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">filter</span>(paire,[<span class="number">1</span>,<span class="number">10</span>,<span class="number">11</span>]))</span><br></pre></td></tr></table></figure>
<h4 id="reduce"><a class="markdownIt-Anchor" href="#reduce"></a> <code>reduce</code></h4>
<p><strong>reduce(func,x)</strong> applique de façon cummulative [累积] la fonction <code>func</code> aux éléments de <code>x</code>.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> add</span><br><span class="line">reduce(add,[<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>])</span><br><span class="line"><span class="comment">#sum fait le meme travail...</span></span><br><span class="line"><span class="built_in">sum</span>([<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>])</span><br></pre></td></tr></table></figure>
<p>Dans le meme esprit on a : <code>any</code> et <code>all</code> pour les opérations booléennes</p>
<h2 id="programmation-orientée-objet"><a class="markdownIt-Anchor" href="#programmation-orientée-objet"></a> Programmation orientée objet</h2>
<blockquote>
<p>Python est un langage fondamentalement orienté objet (OOP), les <em>classes</em>, <em>instances</em> et <em>méthodes</em> étant omniprésentes.</p>
</blockquote>
<p>A reprendre au tableau<br />
<img src="https://ds055uzetaobb.cloudfront.net/brioche/uploads/9zf47a20NN-cpt-object-var-procsvg.png?width=2000" alt="" /></p>
<p>Quelques notions à avoir en tete avant de commencer :</p>
<ul>
<li><strong>encapsulation:</strong> l’objet embarque toutes ses propriétés (varibales, méthodes) dans un espace de nommage 封装</li>
<li><strong>interface:</strong> on part du service rendu qui est présenté à l’utilisateur pour concevoir la machinerie interne 接口</li>
<li><strong>factorisation [结构化]:</strong> on mutualisera au maximum les portions de code similaires grace aux concepts d’héritage[继承] et de composition[组合]</li>
</ul>
<h3 id="les-classes"><a class="markdownIt-Anchor" href="#les-classes"></a> Les classes</h3>
<blockquote>
<p>On va suivre l’excellente présentation du livre de <em>Xavier Olive</em>, “Programmation python avancée” qui utilise les “Boids”</p>
</blockquote>
<p>Un Boid (<em>bird-oid</em>) est une représentation simplifiée proposée par Craig Reynolds pour modéliser le comportement d’oiseaux avec les regles suivantes :</p>
<ul>
<li>de <em>séparation</em> pour préserver une distance minimum entre les individus</li>
<li>de <em>cohésion</em> pour que les boids volent en groupe</li>
<li>d’<em>alignement</em> pour qu’ils volent dans la meme direction</li>
</ul>
<p>[博伊德（<em>鸟类</em>）是克雷格-雷诺兹提出的一种简化表示法，用于模拟鸟类的行为，其规则如下。</p>
<ul>
<li>隔离*以保持个人之间的最小距离</li>
<li>凝聚力*，从而使boids成群结队地飞行</li>
<li>对齐*，使它们飞向同一方向]</li>
</ul>
<h4 id="création-dune-classe"><a class="markdownIt-Anchor" href="#création-dune-classe"></a> Création d’une classe</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Boid</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b=Boid()</span><br><span class="line">b.x, b.y, b.v_x, b.v_y= <span class="number">0</span>,<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span></span><br></pre></td></tr></table></figure>
<div class="alert alert-danger" role="alert">
    <b> Attention: </b> Il n'y a pas de notion d'attributs publics et privés en python[没有私有或者公有的概念] ! <br> <br>
    On utilisera des attribus pseudo privés notés par <code>_x</code>
</div>
<p>Une <em>méthode</em> est une “fonction” définie dans le corps de la classe et qui vie dans son espace de nommage.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Boid</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">module_vitesse</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> np.sqrt(self.v_x**<span class="number">2</span>+self.v_y**<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">b=Boid()</span><br><span class="line">b.x, b.y, b.v_x, b.v_y= <span class="number">0</span>,<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">b.module_vitesse()</span><br></pre></td></tr></table></figure>
<p>La méthode réservée <code>__init__</code> est le <strong>constructeur</strong> de la classe. Il est appelé chaque fois que cette classe est instanciée.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Boid</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, position: <span class="built_in">tuple</span>, vitesse: <span class="built_in">tuple</span></span>)-&gt; <span class="literal">None</span>:</span><br><span class="line">        self.x, self.y=position</span><br><span class="line">        self.v_x, self.v_y=vitesse</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">module_vitesse</span>(<span class="params">self</span>)-&gt;<span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> np.sqrt(self.v_x**<span class="number">2</span>+self.v_y**<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">avance</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.x += self.v_x</span><br><span class="line">        self.y += self.v_y</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b=Boid((<span class="number">0</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">b.avance()</span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<p><code>__repr__(self) -&gt; str</code> définie une représentation de l’objet qui est renvoyée par l’interpréteur</p>
<p><code>__str__(self) -&gt; str</code> est l’affichage renvoyé par <code>print()</code>. Renvoie <code>__repr__</code> si non défini</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Boid</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, position: <span class="built_in">tuple</span>, vitesse: <span class="built_in">tuple</span></span>)-&gt; <span class="literal">None</span>:</span><br><span class="line">        self.x, self.y=position</span><br><span class="line">        self.v_x, self.v_y=vitesse</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">module_vitesse</span>(<span class="params">self</span>)-&gt;<span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> np.sqrt(self.v_x**<span class="number">2</span>+self.v_y**<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">avance</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.x += self.v_x</span><br><span class="line">        self.y += self.v_y</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>)-&gt;<span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Boid(<span class="subst">&#123;self.x,self.y&#125;</span>, <span class="subst">&#123;self.v_x,self.v_y&#125;</span>)&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b=Boid((<span class="number">0</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">b.avance()</span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<div class="alert alert-success" role="alert">
  On peut choisir de programmer des méthodes qui modifient ou non l'état interne. <br> De même, on peut choisir des méthodes qui renvoient ou non un résultat.
</div>
<p><strong>Arguments par défaut</strong>. On veut pouvoir initialiser automatiquement nos instances (avec un peu de hasard). C’est l’idée programmatique de <em>factory</em>.</p>
<p>Une <strong>variable de classe</strong> est une variable qui est liée à la <em>classe</em> et non à l’<em>instance</em>.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Boid</span>:</span><br><span class="line"></span><br><span class="line">    taille = <span class="number">300</span> <span class="comment"># dimension du domaine des positions</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, position=<span class="literal">None</span>, vitesse=<span class="literal">None</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.x = (</span><br><span class="line">            position</span><br><span class="line">            <span class="keyword">if</span> position <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span></span><br><span class="line">            <span class="keyword">else</span> np.random.uniform(-Boid.taille, Boid.taille, <span class="number">2</span>)</span><br><span class="line">        )</span><br><span class="line">        self.dx = vitesse <span class="keyword">if</span> vitesse <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> np.random.uniform(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>)</span><br><span class="line">        Boid.count +=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Boid(<span class="subst">&#123;self.x.<span class="built_in">round</span>(<span class="number">2</span>)&#125;</span>, <span class="subst">&#123;self.dx.<span class="built_in">round</span>(<span class="number">2</span>)&#125;</span>, parmi <span class="subst">&#123;Boid.count&#125;</span>)&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">vitesse</span>(<span class="params">self</span>)-&gt; <span class="built_in">float</span>:</span><br><span class="line">        <span class="keyword">return</span> np.linalg.norm(self.dx)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">avance</span>(<span class="params">self</span>) -&gt; <span class="string">&quot;Boid&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> Boid(self.x+self.dx, self.dx)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>): <span class="comment">#on implémente un destructeur pour s&#x27;assurer que count est mis à jours correctement</span></span><br><span class="line">        Boid.count-=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;__del__ was called&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b=Boid()</span><br><span class="line">c=b.avance()</span><br><span class="line">b, c</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b=<span class="number">0</span></span><br><span class="line"><span class="keyword">del</span>(b)</span><br><span class="line">c=<span class="literal">None</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Boid.count</span><br></pre></td></tr></table></figure>
<div class="alert alert-danger" role="alert">
  ☣️ Nous n'avons pas de contrôle direct sur le <i>garbage collector</i>. Le comportement est plus reproductible sur un appel python type <code>python file.py</code>
</div>
<h4 id="décorer-ses-objets"><a class="markdownIt-Anchor" href="#décorer-ses-objets"></a> Décorer ses objets</h4>
<p>A défaut d’attributs privés, on peut imposer certains comportements:</p>
<ul>
<li><code>@property</code> définit un raccourcis qui s’utilise comme une variable. (utile de l’ustiliser avec <code>_var_name</code> pour “protéger” une variable.</li>
<li><code>@var_name.setter</code> pour pouvoir modifier la valeur de la variable</li>
</ul>
<p>On défini une propriété <code>vitesse</code> de la façon suivante</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vitesse</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">    <span class="keyword">return</span> np.linalg.norm(self.dx)</span><br><span class="line"></span><br><span class="line"><span class="meta">@vitesse.setter</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vitesse</span>(<span class="params">self, value: <span class="built_in">float</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    self.dx = self.dx * value / self.vitesse</span><br></pre></td></tr></table></figure>
<p>De même il est parfois utile de définir une nouvelle façon d’initialiser une instance de notre classe. Le décorateur <code>@classmethod</code> le permet:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">polaire</span>(<span class="params">cls, r, theta, v, direction</span>):</span><br><span class="line">    <span class="keyword">return</span> cls(r*np.array([np.cos(theta),np.sin(theta)]),v*np.array([np.cos(direction),np.sin(direction)]))</span><br></pre></td></tr></table></figure>
<p>Enfin, on peut souhaiter encapsuler une “fonction” dans une classe par exemple pour controler sa visibilité. On utilisera le décorateur <code>@staticmethod</code> lors de la déclaration de la fonction.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@staticmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scene</span>(<span class="params">n:<span class="built_in">int</span></span>) -&gt; <span class="string">&quot;list[Boid]&quot;</span>:</span><br><span class="line">    <span class="keyword">return</span> [Boid() <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br></pre></td></tr></table></figure>
<div class="alert alert-info" role="alert">
    <b> Exercice : Make'em fly</b> <br>
    Avec le squellette de classe fourni dans <code>boid_partial.py</code>, faire voler la nuée.
</div>
<p>Appel pour exécuter le script et tracer la figure. La classe animation est déjà écrite.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">7</span>, <span class="number">7</span>))</span><br><span class="line">simulation = Simulation(n=<span class="number">100</span>, ax=ax)</span><br><span class="line">anim = animation.FuncAnimation(</span><br><span class="line">    fig,</span><br><span class="line">    simulation.iteration,</span><br><span class="line">    frames=<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">200</span>),</span><br><span class="line">    interval=<span class="number">150</span>,</span><br><span class="line">    blit=<span class="literal">True</span>,</span><br><span class="line">    repeat=<span class="literal">True</span>,</span><br><span class="line">)</span><br><span class="line">anim.save(<span class="string">&quot;boids.mp4&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>On pourra aussi jouer avec les variables de classes qui modifient le rapport de force entre les composantes qui dirigent le vol.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sep_coef=<span class="number">10</span></span><br><span class="line">align_coef=<span class="number">8</span></span><br><span class="line">cohere_coef=  <span class="number">100</span></span><br><span class="line">centripete_coef= <span class="number">200</span></span><br></pre></td></tr></table></figure>
<h3 id="héritage-et-composition"><a class="markdownIt-Anchor" href="#héritage-et-composition"></a> Héritage et composition</h3>
<p>Une classe fille peut <strong>hériter</strong> des propriétés (et méthodes) d’une classe mère. Ceci permet de factoriser efficacement le code.</p>
<p>Attention, dans bien des cas, une relation de <strong>composition</strong> est plus judicieuse. Dans ce cas, un des attribus de la classe est un objet d’une autre classe.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># exemple d&#x27;héritage: </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Personne</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, nom, prenom, age</span>):</span><br><span class="line">        self.nom=nom</span><br><span class="line">        self.prenom=prenom</span><br><span class="line">        self.age=age</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;self.nom&#125;</span> <span class="subst">&#123;self.prenom&#125;</span> (<span class="subst">&#123;self.age&#125;</span>ans)&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">gen_ID</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> (self.nom+self.prenom[<span class="number">0</span>]).lower()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">anniversaire</span>(<span class="params">self</span>):</span><br><span class="line">        self.age+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Joyeux anniversaire&quot;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Eleve</span>(<span class="title class_ inherited__">Personne</span>): <span class="comment">#La classe Eleve herite de toutes les proprietes de Personne</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, nom, prenom, age</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(nom, prenom, age)</span><br><span class="line">        self.student_ID=<span class="string">&quot;S&quot;</span>+self.gen_ID()</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().__repr__()+<span class="string">f&quot; <span class="subst">&#123;self.student_ID&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">eleve=Eleve(<span class="string">&quot;Dupont&quot;</span>, <span class="string">&quot;Jean&quot;</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(eleve.anniversaire())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">super</span>(eleve).name)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Exemple de composition</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bulletin</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, date, notes :<span class="string">&quot;ndarray&quot;</span></span>):</span><br><span class="line">        self.date=date</span><br><span class="line">        self.notes=notes</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">moyenne</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> np.average(notes)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Eleve</span>(<span class="title class_ inherited__">Personne</span>): <span class="comment">#La classe Eleve herite de toutes les proprietes de Personne</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, nom, prenom, age</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(nom, prenom, age)</span><br><span class="line">        self.student_ID=<span class="string">&quot;S&quot;</span>+self.gen_ID()</span><br><span class="line">        self.bulletins=[]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>().__repr__()+<span class="string">f&quot; <span class="subst">&#123;self.student_ID&#125;</span>&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">meilleure_note</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> np.array([B.notes <span class="keyword">for</span> B <span class="keyword">in</span> self.bulletins]).<span class="built_in">max</span>()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">jean=Eleve(<span class="string">&quot;Dupont&quot;</span>, <span class="string">&quot;Jean&quot;</span>, <span class="number">10</span>)</span><br><span class="line">jean.bulletins.append(Bulletin(<span class="string">&quot;2021&quot;</span>,np.array([<span class="number">10</span>,<span class="number">11</span>,<span class="number">2</span>,<span class="number">1</span>])))</span><br><span class="line">jean.bulletins.append(Bulletin(<span class="string">&quot;2021&quot;</span>,np.array([<span class="number">10</span>,<span class="number">11</span>,<span class="number">20</span>,<span class="number">1</span>])))</span><br><span class="line">jean.meilleure_note()</span><br></pre></td></tr></table></figure>
<h2 id="quelques-conseils-de-structuration"><a class="markdownIt-Anchor" href="#quelques-conseils-de-structuration"></a> Quelques conseils de structuration</h2>
<h3 id="bien-comprendre-le-problème-et-le-cahier-des-charges"><a class="markdownIt-Anchor" href="#bien-comprendre-le-problème-et-le-cahier-des-charges"></a> Bien comprendre le problème et le cahier des charges</h3>
<ul>
<li>analyser le problème</li>
<li>quels sont les objectifs</li>
<li>quel structure générale est nécessaire
<ul>
<li>exécutable</li>
<li>script</li>
<li>API</li>
</ul>
</li>
<li>quelles sont les classes/variables de haut niveau</li>
<li>choisir le bon environnement de travail</li>
</ul>
<h3 id="ebauche"><a class="markdownIt-Anchor" href="#ebauche"></a> Ebauche</h3>
<ul>
<li>écrire un petit code test n’est pas interdit</li>
<li>créer les grandes structures et fonctions en premier, quitte à les laisser vide mais commentées</li>
<li>&quot;<em>simple is beautiful&quot;</em> -&gt; zen of python</li>
</ul>
<h3 id="dev-test"><a class="markdownIt-Anchor" href="#dev-test"></a> Dev / Test</h3>
<ul>
<li>si possible écrire les tests / appels API en premier -&gt; contraint le dev dans la bonne direction</li>
<li>test driven programming?</li>
<li>s’assurer du bon fonctionnement des briques élémentaires au fur et à mesure</li>
</ul>
<div class="alert alert-danger" role="alert">
   <b> Rappel : </b> développer c'est environs 90% de débuggage <br>
    => Il faut <b>absolument</b> écrire du code lisible!!
</div>
<h3 id="vers-un-code-en-production-optimisation-et-parallèlisme"><a class="markdownIt-Anchor" href="#vers-un-code-en-production-optimisation-et-parallèlisme"></a> Vers un code en production : Optimisation et parallèlisme</h3>
<ul>
<li>Optimisation
<ul>
<li>ne pas chercher à optimiser dès le départ</li>
<li>mais avoir en tête un ensemble de pratiques favorables</li>
<li>utiliser des outils de profiling
<ol>
<li>Améliorer son code python / algo</li>
<li>Utiliser (mieux) des libraries</li>
<li>Chercher des améliorations techniques (JIT, langages compilés)</li>
</ol>
</li>
</ul>
</li>
<li>Parallèlisation
<ul>
<li>python n’est pas très propice au //</li>
<li>un bon code séquentiel est un prérequis absolu</li>
<li>dans quelques cas, on pourra avoir un gain de performance</li>
<li>pour les tableaux : calcul GPU</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_1</category>
        <category>PYTHON</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Voyage-Suisse</title>
    <url>/2022/11/12/Voyage-Suisse/</url>
    <content><![CDATA[<h1 id="行程"><a class="markdownIt-Anchor" href="#行程"></a> 行程</h1>
<p>日内瓦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>Interlaken<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>Grindelwald<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>Bern</p>
<span id="more"></span>
<h1 id="day-1"><a class="markdownIt-Anchor" href="#day-1"></a> Day 1</h1>
<p>浅浅逛了下日内瓦，很舒服也很秋天</p>
<p>没看到喷泉但喂了鹅子，碰见一个普通话贼好的纪念品店老板娘</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/ya7e70252596f8bb22b0f1397b9a742e1.3sy0dt0o3620.jpg" alt="ya7e70252596f8bb22b0f1397b9a742e1" style="zoom:7%;" />
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20221112191004761.png" alt="image-20221112191004761" style="zoom:25%;" />
<h1 id="day-2"><a class="markdownIt-Anchor" href="#day-2"></a> Day 2</h1>
<p>就是莫名其妙花了200欧上雪山了，至今也不知道是first还是少女峰</p>
<p>虽然大家都鬼迷日眼的，但莫名觉得很可爱的一些丑图！</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/ya6cdfb4157e663d678b48014b489b64c.6q7056jwohc0.jpg" alt="ya6cdfb4157e663d678b48014b489b64c" style="zoom:25%;" />
<p>一起歪歪头吧！</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/ya4b840a2880f7ac6c41271090d0f4aa5.67af5cwtx0s0.jpg" alt="ya4b840a2880f7ac6c41271090d0f4aa5" style="zoom:9%;" />
<p>然后格林德沃真的真的真的太美了,完全无滤镜直拍！虽然一股子牛粪味！</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/yaf6b90728c241d3e3048ad8ed4f7e347.2chy3zbq2n9.jpg" alt="yaf6b90728c241d3e3048ad8ed4f7e347" style="zoom:15%;" />
<h1 id="day-3"><a class="markdownIt-Anchor" href="#day-3"></a> Day 3</h1>
<p>滑翔伞！(想吐版</p>
<p>感觉就是只有第一下失重那下爽，还是跳伞爽呜呜呜</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/ya8d9f53f70f1435221eb8e3a721e6c65.4jf1kp6c4as0.jpg" alt="ya8d9f53f70f1435221eb8e3a721e6c65" style="zoom:40%;" />
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20221112190446819.png" alt="image-20221112190446819" style="zoom:25%;" />
<p>转车的功夫去了瑞士首都，好冷的冷知识，瑞士首都是伯恩，去了爱因斯坦故居，可能由于待的时间不多所以对整个城市影响超级好，很有历史韵味的欧洲城市，去的时候是大太阳，走在路上好舒服好舒服，有板栗的香味。</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/yad2c3f5a6f57ce17f2f71d93b7e87517.7gjb6tr5ok40.jpg" alt="yad2c3f5a6f57ce17f2f71d93b7e87517" style="zoom:15%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/yabfdab12526c155bb78d46736b0518ea.3qnsjzz2k640.jpg" alt="yabfdab12526c155bb78d46736b0518ea" style="zoom:15%;" />
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> 结语</h1>
<p>最后回南特的飞机上看到了很好看很好看的落日，要开始新一轮的勇敢学习啦！</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221112/ya729d8f293517675067f59df1395b61f.512j3fv2g9g0.jpg" alt="ya729d8f293517675067f59df1395b61f" style="zoom:25%;" />
<p>开始期待圣诞</p>
]]></content>
      <categories>
        <category>生活区</category>
        <category>Voyage</category>
      </categories>
      <tags>
        <tag>Suisse</tag>
      </tags>
  </entry>
  <entry>
    <title>序言</title>
    <url>/2021/12/05/hello-world/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>太晚了，明天写。</p>
<p>截断测试</p>
<span id="more"></span>
<p>图片测试：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/111.webp" alt="111" /></p>
<p>数学公式测试</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>C</mi><mrow><mi>o</mi><mi>p</mi><mi>i</mi></mrow></msub><mo>∗</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\sum_i C_{opi} * C_i(n)  
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.327674em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p>
<p>公式测试2</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>C</mi><mrow><mi>o</mi><mi>p</mi><mi>i</mi></mrow></msub><mo>∗</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\sum_i C_{opi} * C_i(n)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.327674em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p>
<p>Flags：</p>
<p>侧边栏多级分类</p>
<p>FLUID整理</p>
<p>Pro20整理</p>
<p>SSTEM一周一记</p>
]]></content>
      <categories>
        <category>生活区</category>
        <category>杂谈</category>
      </categories>
      <tags>
        <tag>测试</tag>
      </tags>
  </entry>
  <entry>
    <title>博弈论(三)</title>
    <url>/2023/01/30/%E5%8D%9A%E5%BC%88%E8%AE%BA3/</url>
    <content><![CDATA[<h1 id="jeux-répétés-et-apprentissage-basé-sur-le-regret"><a class="markdownIt-Anchor" href="#jeux-répétés-et-apprentissage-basé-sur-le-regret"></a> Jeux répétés et apprentissage basé sur le regret</h1>
<p>反复博弈和基于后悔的学习</p>
<span id="more"></span>
<h1 id="1-jeux-répétés"><a class="markdownIt-Anchor" href="#1-jeux-répétés"></a> 1. Jeux répétés</h1>
<h2 id="11-定义"><a class="markdownIt-Anchor" href="#11-定义"></a> 1.1 定义</h2>
<p>Dilemme du prisonnier répétés</p>
<p>On suppose qu’Alice et Bob jouent au Dilemme du prisonnier deux fois de suite.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.74rtf36svow0.png" alt="yaimage" /></p>
<p>stratégies pures d’Alice：</p>
<blockquote>
<p>T puis T ,S puis S,S puis T,S puis S</p>
<p>S puis si Bob S alors S,S puis si Bob S alors T,S puis si Bob T alors S</p>
<p>…</p>
</blockquote>
<p>On a un jeu sous forme extensive.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.3g502wm6o220.png" alt="yaimage" /></p>
<p>Jeux répétés et stratégies</p>
<ul>
<li>
<p>Un jeu répété <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>G</mi><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">G^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span> est défini par un jeu de base (stage game) en <mark>forme normale</mark> G et un nombre de répétition N ;</p>
</li>
<li>
<p>Les gains des joueurs peuvent être définis comme :</p>
<ul>
<li>le total des gains : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></msubsup><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sum^N_{k=0}u_i(s^k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>ou la moyenne par tour des gains : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></msubsup><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mi>k</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac1N\sum^N_{k=0}u_i (s^k )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>ou la somme actualisée (discounted) par un facteur$ 0 &lt; γ &lt; 1 : \frac1N\sum^N_{k=0} γ^k u_i(s^k)$</li>
</ul>
</li>
<li>
<p><mark>L’historique</mark> des coups <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">h_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> du jeu au tour k est une séquence donnant l’alternance des coups de chaque joueur jusque là</p>
<p>par exemple, au tour 3, tTtT signifie Alice et Bob ont tous les deux trahi lors des deux premiers tours</p>
</li>
<li>
<p>Une <mark>stratégie pure</mark> du joueur i dans un jeu répété est une fonction qui à tout historique associe une action ai ∈ Ai</p>
</li>
<li>
<p>Une <mark>stratégie mixte</mark> donne une distribution sur les stratégies pures</p>
</li>
<li>
<p>Une <mark>stratégie comportementale</mark> donne une distribution sur Ai pour tout historique</p>
</li>
</ul>
<p>Exercice</p>
<p><em>t(s,t) indique qu’Alice trahit puis soutient si elle est trahie et trahit si elle est soutenue: t(s,t)表示爱丽丝背叛，然后在她被背叛时支持，在她被支持时背叛</em> Quels sont les équilibres de Nash en stratégies pures de ce jeu ?</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.4ixwsqvjw9e0.png" alt="yaimage" /></p>
<h2 id="12-equilibres-de-nash-dans-les-jeux-répétés"><a class="markdownIt-Anchor" href="#12-equilibres-de-nash-dans-les-jeux-répétés"></a> 1.2 Equilibres de Nash dans les jeux répétés</h2>
<p>如果两个玩家都在每个巡回赛中玩纳什均衡，我们就得到一个纳什均衡。更一般地说，如果他们在每一轮中都玩任何纳什均衡，情况就是这样。</p>
<p>Exemple:</p>
<p>(Métal, Piano) (Piano, Métal) dans Sortie Musicale joué deux fois</p>
<p>(Lent, Rapide) (Rapide, Lent) dans Poule Mouillée joué deux fois.</p>
<h2 id="13-folk-théorème"><a class="markdownIt-Anchor" href="#13-folk-théorème"></a> 1.3 Folk théorème</h2>
<p>Exercice: Répétons Poule mouillée:</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.fpzjwitw3pk.png" alt="yaimage" /></p>
<ol>
<li>
<p>Le gain (2, 2) est-il un équilibre de Nash du jeu de base ?</p>
</li>
<li>
<p>Quelle est la valeur minimale qu’Alice peut forcer Bob a obtenir a chaque étape ? Avec quelle stratégie ?</p>
</li>
</ol>
<p>Supposons qu’Alice et Bob jouent deux fois et se mettent d’accord pour jouer (Lent, Lent)</p>
<ol start="3">
<li>
<p>Comment Alice peut-elle empêcher Bob de jouer Rapide au premier tour ?</p>
</li>
<li>
<p>Alice peut-elle empêcher Bob de jouer Rapide au deuxième tour</p>
</li>
<li>
<p>Supposons qu’ils jouent N &gt; 3 fois. Comment Alice peut-elle empêcher Bob de jouer Rapide à tous les tours sauf les trois derniers ?</p>
</li>
<li>
<p>Dans les deux derniers tours, on joue des équilibres de Nash. Lesquels ? Comment cela empêche-t-il Bob de dévier dans les trois derniers tours ?</p>
</li>
<li>
<p>Quel est le gain moyen de l’équilibre de Nash obtenu (en fonction de N) ?</p>
</li>
</ol>
<h2 id="14-folk-théorème-dans-les-jeux-répétés-finis"><a class="markdownIt-Anchor" href="#14-folk-théorème-dans-les-jeux-répétés-finis"></a> 1.4 Folk théorème dans les jeux répétés finis</h2>
<p>Soit G un jeu tel que pour tout joueur i il existe un équilibre de Nash <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>s</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">s^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> avec <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mtext>∗</mtext></msup><mo stretchy="false">)</mo><mo>&gt;</mo><mi>m</mi><mi>i</mi><mi>n</mi><mi>m</mi><mi>a</mi><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">u_i(s^∗) &gt; minmax_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∗</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>Le gain x est <mark>faisable</mark> (可行的) s’il est dans l’enveloppe convexe[凸包络] des résultats de G</p>
<p>Il est <mark>individuellement</mark> rationnel si ∀i, xi ≥ minmaxi</p>
<p>Alors pour tout  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span>&gt; 0, il existe N ∈ N tel que pour tout x faisable et individuellement rationnel et tout n ≥ N, il existe un équilibre de Nash <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>s</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">s^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> du jeu répété <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>G</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">G^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> dont le gain moyen de chaque joueur i est proche à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span> prés de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>Il existe une variante pour les coûts actualisés.</p>
<h2 id="15-folk-théorème-dans-les-jeux-répétés-infinis"><a class="markdownIt-Anchor" href="#15-folk-théorème-dans-les-jeux-répétés-infinis"></a> 1.5 Folk théorème dans les jeux répétés infinis</h2>
<p>Si le jeu est répété à l’infini, alors on n’a plus besoin de prévoir un coda pour gérer les déviations tardives[处理后期的偏差],et on obtient donc un résultat exact.</p>
<p>Dans les jeux répétés infinis, pour tout <em><strong>gain x faisable est individuellement</strong></em> rationnel, il existe un équilibre de Nash de valeur x.</p>
<p>Il existe une variante un peu plus complexe pour les coûts actualisés</p>
<p>Exercice: Donner un équilibre de Nash de valeur ( 7/4 , 7/4 ) dans Poule mouillée répété à l’infini.</p>
<h2 id="16-folk-théorème-et-équilibres-parfaits-en-sous-jeux"><a class="markdownIt-Anchor" href="#16-folk-théorème-et-équilibres-parfaits-en-sous-jeux"></a> 1.6 Folk théorème et équilibres parfaits en sous-jeux</h2>
<p>La peur de la punition[惩罚] doit suffire à ce que Bob ne dévier pas 足以让Bob走上正轨</p>
<p>Mais s’il dévier ? Alice est-elle prête à (potentiellement) se sacrifier pour mettre en œuvre la punition? 但如果他真的偏离了呢？爱丽丝是否愿意（有可能）牺牲自己来执行惩罚？</p>
<p>Il existe une version du Folk théorème qui permet d’obtenir des <strong>équilibres parfaits</strong> en sous-jeux :</p>
<ul>
<li>Un sous-ensemble de joueurs punit[惩罚] la déviation de Bob</li>
<li>Un autre sous-ensemble punit les justiciers qui n’appliquent pas la punition</li>
<li>etc.</li>
</ul>
<h1 id="2-apprentissage-basé-sur-le-regret"><a class="markdownIt-Anchor" href="#2-apprentissage-basé-sur-le-regret"></a> 2. Apprentissage basé sur le regret</h1>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>博弈论</category>
      </categories>
  </entry>
  <entry>
    <title>algorithm-绪论</title>
    <url>/2021/12/06/algorithm01/</url>
    <content><![CDATA[<h1 id="算法_第一章__绪论"><a class="markdownIt-Anchor" href="#算法_第一章__绪论"></a> 算法_第一章__绪论</h1>
<span id="more"></span>
<h2 id="1算法的五大特征"><a class="markdownIt-Anchor" href="#1算法的五大特征"></a> 1.算法的五大特征</h2>
<p>输入、输出、确定性、有穷性、可行性</p>
<h2 id="2算法的描述方法"><a class="markdownIt-Anchor" href="#2算法的描述方法"></a> 2.算法的描述方法</h2>
<ul>
<li>自然语言描述</li>
<li>流程描述</li>
<li>伪代码描述</li>
</ul>
<h2 id="3算法的重要问题"><a class="markdownIt-Anchor" href="#3算法的重要问题"></a> 3.算法的重要问题</h2>
<p>排序、查找、字符串匹配、图问题、组合问题、几何问题、数值问题</p>
<h2 id="4算法基本的数据结构"><a class="markdownIt-Anchor" href="#4算法基本的数据结构"></a> 4.算法基本的数据结构</h2>
<p>线性结构、数结构、图结构、集合</p>
<h2 id="5算法设计的方法策略"><a class="markdownIt-Anchor" href="#5算法设计的方法策略"></a> 5.算法设计的方法策略</h2>
<p>蛮力法、递归与分治、动态规划、贪心算法、回溯与分治</p>
]]></content>
      <categories>
        <category>SWJTU</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>算法基础</tag>
      </tags>
  </entry>
  <entry>
    <title>博弈论(一)</title>
    <url>/2023/01/30/%E5%8D%9A%E5%BC%88%E8%AE%BA1/</url>
    <content><![CDATA[<h1 id="jeux-en-forme-normale"><a class="markdownIt-Anchor" href="#jeux-en-forme-normale"></a> Jeux en forme normale</h1>
<p>博弈论的一般形式</p>
<span id="more"></span>
<h1 id="1-基本术语和定义"><a class="markdownIt-Anchor" href="#1-基本术语和定义"></a> 1. 基本术语和定义</h1>
<h2 id="11-le-dilemme-du-prisonnier"><a class="markdownIt-Anchor" href="#11-le-dilemme-du-prisonnier"></a> 1.1 Le dilemme du prisonnier</h2>
<p>Alice et Bob sont deux bandits notoires[臭名昭著的土匪], qui ont été arrêtés[被捕] pour un délit mineur. Tout le monde sait qu’ils sont aussi coupables de crimes horribles mais il n’y a pas de preuves[证据]. Le juge leur propose le marché suivant :<br />
• si vous dénoncez[告发] l’autre et que lui ou elle ne vous dénonce pas, il ou elle part en prison pour 10 ans et pour vous on oublie tout<br />
• si chacun[每个都] dénonce l’autre c’est 8 ans pour tout le monde, avec la clémence due  la coopération avec la justice ;<br />
• si personne ne dénonce l’autre, vous irez tous deux quand même 2 ans en prison pour le délit.<br />
Si Alice et Bob ne se soucient que de leur peine de prison à venir[只关心他们即将到来的监狱判决], quelle est leur meilleure stratégie ? et s’ils peuvent se concerter avant ?</p>
<p>画bimatrix矩阵</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.78kadnbods40.png" alt="yaimage" /></p>
<h2 id="12-jeu-non-coopératif-en-forme-normale"><a class="markdownIt-Anchor" href="#12-jeu-non-coopératif-en-forme-normale"></a> 1.2 Jeu non-coopératif en forme normale</h2>
<p>Un jeu fini à n joueurs en forme normale est un triplet (n, A, u), où</p>
<ul>
<li>n est le nombre de joueurs. On suppose les joueurs ordonnés arbitrairement[任意排序]</li>
<li>A = A1 × · · · × An à pour tout i ∈ [1…n], Ai est l’ensembles des actions possibles du joueur i. Tout vecteur (a1, . . . , an) est appelé <mark>profil d’action</mark> (action profile)</li>
<li>u = (u1, . . . , un) ou pour tout i ∈ [1…n], ui : A → R est la fonction d’utilité (utility), aussi appelée fonction de <mark>gain</mark> (payoff ), du joueur i.</li>
</ul>
<p>Chaque joueur cherche à maximiser son espérance d’utilité, on dit qu’il est <mark>rationnel</mark>[理性的] si c’est le cas.</p>
<p>On peut représenter un tel jeu avec un tableau à n dimensions par joueur, donc pour deux joueurs, on a un couple de matrices : une <mark>bimatrice</mark> (bimatrix).</p>
<h2 id="13-stratégies"><a class="markdownIt-Anchor" href="#13-stratégies"></a> 1.3 Stratégies</h2>
<p>Une <mark>stratégie (mixte)</mark> du joueur i, est une distribution si de probabilité sur Ai .</p>
<p>S’il existe a ∈ Ai tel que si (a) = 1 alors si est appelée <mark>stratégie pure</mark>.</p>
<p>Le <mark>support</mark> de si est l’ensemble de stratégie pures (≡ actions) :{<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><msub><mi>A</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a\in A_i|s_i(a)&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>}</p>
<p>Profil de stratégies</p>
<p>Un profil de stratégie est un tuple s = (s1, . . . , sn) tel que pour tout i ∈ [1…n], si est une stratégie du joueur i.</p>
<p>On note <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> le profil partiel obtenu en supprimant la stratégie du joueur i ;</p>
<p>On note <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s&#x27;_i , s_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> le profil de stratégie obtenu en remplaçant dans s la stratégie <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> du joueur i par sa stratégie <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s_i&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> .</p>
<p>L’espérance utilité du joueur i pour le profil de stratégie s est: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>∈</mo><mi>A</mi></mrow></msub><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msubsup><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>s</mi><mi>j</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i(s)=\sum_{(a_1,..,a_n)\in A}u_i(a_i)\prod_{j=1}^ns_j(a_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.279002em;vertical-align:-0.47471em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.22528999999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.47471em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.5kjeav52r5o0.png" alt="yaimage" /></p>
<h2 id="14-exercice-matching-pennies"><a class="markdownIt-Anchor" href="#14-exercice-matching-pennies"></a> 1.4 Exercice: Matching pennies</h2>
<p>Alice et Bob ont chacun une pièce de 1 euro. Ils choisissent en secret de la mettre côté pile ou côté face. On révèle ensuite les choix. Si les deux pièces sont du même côté Alice les empoche, sinon c’est Bob qui les prend.</p>
<ol>
<li>
<p>Ecrire la bimatrice de ce jeu</p>
<p>略</p>
</li>
<li>
<p>Quelle stratégie doit jouer Alice si elle pense que Bob va plus probablement jouer face ?</p>
<p>Face</p>
</li>
<li>
<p>Quelle stratégie doit jouer Alice si elle pense que Bob pense qu’elle pense qu’il va plus probablement jouer face (et qu’il est rationnel) ?</p>
<p>Pile</p>
</li>
<li>
<p>Prouver qu’il existe un profil de stratégies pour lequel, pour les deux joueurs, la connaissance de la stratégie adverse n’incite pas à changer la sienne[了解对手的策略并不鼓励人们改变自己的策略].</p>
<p>Alice 的 stratégie (mixte)：pF+(1-p)P</p>
<p>Bob 的 stratégie (mixte)：qF+(1-q)P</p>
<p>//但实际这里是根据bimatrix算的</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>A</mi></msub><mo>=</mo><mi>p</mi><mi>q</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>−</mo><mi>q</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>−</mo><mi>p</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>4</mn><mi>p</mi><mi>q</mi><mo>−</mo><mn>2</mn><mi>p</mi><mo>−</mo><mn>2</mn><mi>q</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">u_A=pq+(1-p)(1-q)-q(1-p)-p(1-q)=4pq-2p-2q+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>B</mi></msub><mo>=</mo><mo>−</mo><mi>p</mi><mi>q</mi><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>+</mo><mi>q</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mi>p</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>4</mn><mi>p</mi><mi>q</mi><mo>+</mo><mn>2</mn><mi>p</mi><mo>+</mo><mn>2</mn><mi>q</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">u_B=-pq-(1-p)(1-q)+q(1-p)+p(1-q)=-4pq+2p+2q-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord">4</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p>
<p>==&gt;因为是somme nulle的，所以算一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">u_A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>就行了</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>u</mi><mi>A</mi></msub></mrow><mi>p</mi></mfrac><mo>=</mo><mn>4</mn><mi>q</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\frac{\partial{u_A}}{p}=4q-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3775209999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8964129999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.410305em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3567071428571427em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.14329285714285717em;"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">q=\frac12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>时无论p为多少（也就是无论Alice选择那种策略）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>A</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u_A=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>==》没太懂这个求导的逻辑在哪儿其实</p>
<p>这个题是想让我们明白，Alice选择两个策略的收益是一样的,可以从bimatrix来</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>q</mi><mo>−</mo><mi>p</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>−</mo><mi>q</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mo>=</mo><mo>&gt;</mo><mi>q</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">pq-p(1-q)=(1-p)(1-q)-q(1-p)==&gt;q=\frac 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
</li>
</ol>
<h1 id="2-stratégies-dominées"><a class="markdownIt-Anchor" href="#2-stratégies-dominées"></a> 2. Stratégies dominées</h1>
<h2 id="21-stratégies-strictement-dominées"><a class="markdownIt-Anchor" href="#21-stratégies-strictement-dominées"></a> 2.1 stratégies strictement dominées</h2>
<p>定义：une stratégie si du joueur i est strictement dominée par une autre de ses stratégies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>pour toutes stratégies s−i des autres joueurs, on a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>u</mi><mo stretchy="false">(</mo></msub><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u(s_i , s_{−i} ) &lt; u_(s&#x27;_i , s_{−i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mopen mtight">(</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
<p>Une stratégie strictement dominée ne sera jamais jouée par un joueur rationnel[maximiser espérance de son gain].</p>
<p>Exemple</p>
<ul>
<li>
<p>Dans le dilemme du prisonnier, soutenir est strictement dominée par trahir</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.78kadnbods40.png" alt="yaimage" /></p>
<p>拿Bob来说，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>T</mi></msub><mo>=</mo><mo>−</mo><mn>8</mn><mi>p</mi><mtext> </mtext><mo>&lt;</mo><mtext> </mtext><msub><mi>u</mi><mi>S</mi></msub><mo>=</mo><mo>−</mo><mn>8</mn><mi>p</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">u_T=-8p \ &lt;\ u_S = -8p-2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord">8</span><span class="mord mathnormal">p</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord">8</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p>
</li>
<li>
<p>Dans la matrice ci-dessous, correspondant aux gains du joueur 1 (sur 2), la 2e ligne correspond à une stratégie strictement dominée, par une stratégie mixte.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.le79p0ykesg.png" alt="yaimage" /></p>
<p>这个矩阵这样看：横着的是玩家1的三个纯策略，竖着的是玩家2的两个纯策略，6格式分别代表6种组合的gain，题目意思是玩家1的策略2会被1/3的混合策略给严格主导: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>p</mi><mi>q</mi><mo>+</mo><mi>q</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>+</mo><mi>p</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>+</mo><mn>4</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>4</mn><mo>−</mo><mn>3</mn><mi>p</mi><mo>−</mo><mn>3</mn><mi>q</mi><mo>+</mo><mn>6</mn><mi>p</mi><mi>q</mi><mtext> </mtext><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">4pq+q*(1-p)+p*(1-q)+4*(1-p)*(1-q)=4-3p-3q+6pq\ &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></p>
</li>
</ul>
<p>stratégie est <strong>dominée en temps polynomial</strong>,si:</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.4srw0cx367i0.png" alt="yaimage" /></p>
<p><strong>On peut ne regarder que les profils de stratégies pures</strong> des autres joueurs car pour tout <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> , il existe <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">a_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> telle que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>≤</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i(s_i , s_{−i} ) ≤ u_i (s_i , a_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,证明如下</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.11magcti9h0g.png" alt="yaimage" /></p>
<h2 id="22-suppression-des-stratégies-strictement-dominées"><a class="markdownIt-Anchor" href="#22-suppression-des-stratégies-strictement-dominées"></a> 2.2 Suppression des stratégies strictement dominées</h2>
<p>On suppose que la rationalité des joueurs est une connaissance commune，Alice ne jouera pas une stratégie dominée et Bob le sait, et Alice sait que Bob le sait, et ainsi de suite pour les deux</p>
<p>On peut alors toujours éliminer[消除] les stratégies strictement dominées, et après élimination d’une stratégies, de nouvelles relations de domination sur les stratégies restantes peuvent apparaître, on calcule donc itérativement un plus grand point fixe</p>
<p>L’ordre élimination est indifférent[不明确/无所谓的], <strong>on élimine que des stratégies pures</strong> car si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> n’est pas dominée par <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> à cause d’une stratégie mixte <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msubsup><mi>s</mi><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">)</mo><mo>≤</mo><mi>u</mi><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo separator="true">,</mo><msubsup><mi>s</mi><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s&#x27;_j (u(s_i , s&#x27;_j ) ≤ u(s&#x27;_i , s&#x27;_j ))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.146664em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.146664em;vertical-align:-0.394772em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>, alors il existe une stratégie pure dans le support de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">s_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> qui empêche[阻碍] également la domination. On ne crée donc pas de nouvelle domination en supprimant <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.146664em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span> .</p>
<p>Exemple</p>
<ul>
<li>Dilemme du prisonnier : après élimination des stratégies strictement dominées, il ne reste que trahir pour chaque joueur. 囚徒困境:在消除了严格控制的策略后，每个玩家只剩下背叛。</li>
<li>Alice et Bob choisissent chacun un nombre entier positif ou nul et reçoivent un gain égal à leur choix. 爱丽丝和鲍勃各自选择一个正整数或零，并得到与他们选择相等的奖金。</li>
</ul>
<h2 id="23-dautres-variations-sur-le-dilemme-du-prisonnier"><a class="markdownIt-Anchor" href="#23-dautres-variations-sur-le-dilemme-du-prisonnier"></a> 2.3 D’autres variations sur le dilemme du prisonnier</h2>
<p>Exercice</p>
<ol>
<li>
<p>Les prisonniers amoureux. Bonnie et Clyde se retrouvent dans la situation d’Alice et Bob face au juge. Contrairement à ceux-ci, ils s’aiment d’un amour tendre et savoir l’autre souffrant en prison leur coûte comme s’ils passaient eux-même la moitié du temps correspondant en prison.</p>
<ol>
<li>
<p>Ecrire la nouvelle bimatrice de ce jeu.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.2v1g8dvk1k60.png" alt="yaimage" /></p>
</li>
<li>
<p>Une stratégie domine-t-elle l’autre?</p>
<p>Soutenir:-&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>T</mi></msub><mo>=</mo><mo>−</mo><mn>12</mn><mi>p</mi><mo>−</mo><mn>5</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mtext> </mtext><mo>&lt;</mo><mtext> </mtext><mo>−</mo><mn>10</mn><mi>p</mi><mo>−</mo><mn>3</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_T=-12p-5*(1-p)\ &lt; \ -10p-3*(1-p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">2</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">0</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span></p>
</li>
</ol>
</li>
<li>
<p>Les prisonniers avec des remords. Supposons qu’Alice et Bob sont tout de même un peu gênés de trahir l’autre. Une trahison unilatérale leur coûte ainsi équivalent de 3 ans de prison en affres moraux.</p>
<ol>
<li>
<p>Ecrire la nouvelle bimatrice de ce jeu</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.696r6blo13k0.png" alt="yaimage" /></p>
</li>
<li>
<p>Une stratégie domine-t-elle l’autre ?</p>
<p>选Trahir</p>
</li>
</ol>
</li>
</ol>
<h2 id="24-domination-très-faible"><a class="markdownIt-Anchor" href="#24-domination-très-faible"></a> 2.4 Domination (très) faible</h2>
<p>On peut définir des formes plus faibles de domination:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s_i&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> domine très faiblement <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> : pour toutes stratégies des <em>autres</em> joueurs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>, on a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>≤</mo><mi>u</mi><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u(s_i, s_{−i}) ≤ u(s&#x27; _i , s_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> domine faiblement <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> domine très faiblement <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">s&#x27;_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> et il existe une stratégies des autres joueurs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>, telle que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>&lt;</mo><mi>u</mi><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u(s_i, s_{−i} ) &lt; u(s&#x27;_i , s_{−i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</li>
</ul>
<p>就是极弱的是所有的都小于等于，弱的是有一个小于等于，表示说它比另一种策略更劣，但它不能被另一种策略所支配。即使有更优秀的策略存在，它仍然可能被采用，因为它是可行的。</p>
<p>Dans la suppression itérée, supprimer des stratégies (très) faiblement dominées ne conduit pas au même ensemble selon l’ordre élimination: 在迭代删除中，删除（非常）弱支配的策略并不导致相同的集合，这取决于消除的顺序</p>
<p>Exemple，在最经典的囚徒困境问题里面：</p>
<p>Si Alice et Bob ont un peu moins de remords[悔意] alors soutenir est faiblement dominée par trahir. La stratégie soutenir n’est moins bonne que trahir que si Bob choisit lui-même trahir.</p>
<p>Après élimination de soutenir on retrouve une unique stratégie dominante (faiblement) : trahir.</p>
<p>Même la très faible domination ne permet pas d’éliminer soutenir quand les remords sont équivalents à 3 ans.</p>
<h1 id="3-equilibres-de-nash"><a class="markdownIt-Anchor" href="#3-equilibres-de-nash"></a> 3. Equilibres de Nash</h1>
<h2 id="31-定义"><a class="markdownIt-Anchor" href="#31-定义"></a> 3.1 定义</h2>
<p><mark>Meilleure réponse</mark>: La stratégie <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mtext>∗</mtext></msubsup></mrow><annotation encoding="application/x-tex">s^∗_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94736em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> du joueur i est une meilleure réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> des autres joueurs <strong>s’il n’existe pas une autre stratégie</strong> si pour lui telle que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mtext>∗</mtext></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i((s_i , s_{−i} )) &gt; u_i ((s^∗_i , s_{−i}))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>.</p>
<ul>
<li>Si <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> est une meilleure réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> alors toutes <em><strong>les stratégies pures de son support</strong></em> le sont aussi
<ul>
<li>Le support de si est l’ensemble de stratégie pures (≡ actions) :{<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>∈</mo><msub><mi>A</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a\in A_i|s_i(a)&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>}</li>
</ul>
</li>
<li>Et donc toutes les stratégies mixtes de même support aussi</li>
<li>La pondération précise[精确加权] des meilleures réponses pures permet d’obtenir un équilibre.</li>
</ul>
<p><mark>Equilibre de Nash</mark></p>
<p>Le profil de stratégies <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>s</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s=(s_1,...,s_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> est un équilibre de Nash si pour tout joueur i, si est une meilleure réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>  .</p>
<ul>
<li>Un équilibre de Nash (NE) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>s</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s=(s_1,...,s_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> est <mark>strict</mark> si pour tout joueur i, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> est <em><strong>l’unique meilleure</strong></em> réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>Dans un équilibre strict toutes les stratégies sont pures</li>
<li>Sans mécanisme additionnel de coordination, et si la rationalité de tous est une connaissance commune, seuls les équilibres de Nash sont des choix rationnels. 如果没有额外的协调机制，如果所有人的理性都是常识，那么只有纳什均衡是理性选择</li>
</ul>
<p>Exercice</p>
<p>Quels sont les équilibres de Nash dans les trois versions précédentes du dilemme du prisonnier ? Sont-ils stricts ?</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/ya48ae3a2361c9f04f7d430c5b688956f.48j23ycv4q80.jpg" alt="ya48ae3a2361c9f04f7d430c5b688956f" /></p>
<p>一个推论：Soit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> une stratégie mixte et soit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">σ_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> son support. Si si est une meilleure réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> alors toute stratégie pure <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>∈</mo><mi>σ</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">s&#x27;_i ∈ σi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal">i</span></span></span></span> est aussi une meilleure réponse à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">s_{−i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>On ne peut pas avoir pour tout <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>∈</mo><mi>σ</mi><mi>i</mi><mo separator="true">,</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mtext>∗</mtext></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>&lt;</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s&#x27;_i ∈ σi , u_i (s^∗_i , s_{−i} ) &lt; u_i (s_i , s_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.010556em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>Donc il y a forcément une <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo>+</mo></msubsup><mo>∈</mo><mi>σ</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">s^+_i ∈ σi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.088326em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.811462em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal">i</span></span></span></span> telle que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo>+</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>≥</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i (s^+_i , s_{−i} ) ≥ u_i (s_i , s_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.088326em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.811462em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>Si on avait <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msubsup><mi>s</mi><mi>i</mi><mo>+</mo></msubsup><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mrow><mtext>−</mtext><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i (s^+_i , s_{−i} ) &gt; u_i (s_i , s_{−i} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.088326em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.811462em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, on pourrait augmenter la probabilité de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>s</mi><mi>i</mi><mo>+</mo></msubsup></mrow><annotation encoding="application/x-tex">s^+_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.088326em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.811462em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span></span></span></span> pour obtenir mieux que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> .</li>
</ul>
<p>Exercice: Utiliser ce résultat pour calculer l’unique équilibre de Nash dans la version classique du jeu Matching Pennies.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.7c022llzwmc0.png" alt="yaimage" /></p>
<p>【不太确定】</p>
<p>对于Alice来说，她的meilleure réponse是混合策略，那Face也可以看作meilleure réponse，在这种情况下Bob的meilleure réponse就是Pile，所以右上是NE?</p>
<p>==<mark>&gt;计算混合策略下两种纯策略的收益相同：</mark></p>
<p>Alice的策略是pF+(1-p)P,Bob是qF+(1-q)P</p>
<p>对Alice: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>F</mi></msub><mo>=</mo><mi>q</mi><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>u</mi><mi>P</mi></msub><mo>=</mo><mo>−</mo><mi>q</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_F=q-(1-q)=u_P=-q+(1-q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span>==&gt;q=1/2</p>
<p>对Bob同理：解出p=1/2</p>
<h2 id="32-résolution-par-énumération-des-supports"><a class="markdownIt-Anchor" href="#32-résolution-par-énumération-des-supports"></a> 3.2 Résolution par énumération des supports</h2>
<p>meilleure réponse的推论提供了一种算法，通过枚举supports来找到n个玩家博弈的所有纳什均衡</p>
<p>Pour un jeu G = (n, A, u), σ1 ⊆ A1, . . . , σn ⊆ An, on définit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>σ</mi><mn>1</mn><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mi>σ</mi><mi>n</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>σ</mi><mn>1</mn><mo>×</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>×</mo><mi>σ</mi><mi>n</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>u</mi><msub><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>σ</mi><mn>1</mn></mrow></msub></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>u</mi><mrow><mi>n</mi><mi mathvariant="normal">∣</mi><mi>σ</mi><mi>n</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A_{σ1···σn} = (n, σ1 × · · · × σn, (u_{1_{|σ1}} , . . . , u_{n|σn )})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="mord mtight">1</span><span class="mpunct mtight">⋅</span><span class="mpunct mtight">⋅</span><span class="mpunct mtight">⋅</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1586400000000001em;vertical-align:-0.40864em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord">1</span><span class="mord">×</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">×</span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3694857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.40864em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> la restriction de G à σ1, . . . , σn</p>
<p>pour tous σ1, . . . , σn tels que pour tout i et tout ai ∈ σi , ai n’est pas strictement dominée dans Gσ1···σn , si le programme non-linéaire suivant est non-vide, alors toutes ses solutions sont des équilibres de Nash</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.424ni2rdyna0.png" alt="yaimage" /></p>
<p>S’il n’y a que deux joueurs, le programme précédent est linéaire :</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.7cr1bk8fu2c0.png" alt="yaimage" /></p>
<p>Exercice</p>
<ol>
<li>
<p>Chacun des gouvernements des n plus gros pays pollueurs de la planète se demande s’il faut voter une loi anti-pollution. Si la loi n’est pas votée par le gouvernement i, alors il inflige[处罚] à tous les pays, lui inclus, un coût de 1 sur la période jusqu’aux prochaines élections, lié à la surmortalité, les catastrophes naturelles, etc. Si la loi est votée, ce coût disparaît mais la loi elle-même a un coût économique immédiat de 2. En supposant que k pays votent la loi.</p>
<ol>
<li>
<p>Quel est le coût pour un pays qui vote la loi?</p>
<p>n-k+2</p>
</li>
<li>
<p>Quel est le coût pour un pays qui ne vote pas la loi ?</p>
<p>n-k</p>
</li>
<li>
<p>En supposant que les gouvernements cherchent uniquement a minimiser leur coût sur le mandat, quelle est leur meilleure stratégies ?</p>
<p>因为n-k+2 &gt; n-k,所以meilleure stratégies是n-k，即不投票</p>
</li>
<li>
<p>Obtient-on un équilibre de Nash ?</p>
<p>所有人都选meilleure stratégies</p>
<p>==&gt;Oui, tout le monde va polluer</p>
</li>
<li>
<p>Quel est alors le coût agrégée[总] pour tous les pays ? Comparer avec le coût si tout le monde vote la loi ?</p>
<p>coût agrégée: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>n</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>k</mi><mo>−</mo><mi>n</mi><mi>k</mi></mrow><annotation encoding="application/x-tex">k*(n-k+2)+(n-k)*(n-k)=n^2+2k-nk</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></p>
<p>每个都投票coût[k=n]: 2*n</p>
</li>
</ol>
</li>
<li>
<p>Dix familles d’un même village élèvent des chèvres dans un champ. Une chèvres qui paisse sur une fraction a du champ produit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mn>1</mn><mtext>−</mtext><mn>1</mn><mi mathvariant="normal">/</mi><mn>10</mn><mi>a</mi></mrow></msup></mrow><annotation encoding="application/x-tex">e^{1−1/10a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mord mtight">/</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span></span> seaux de lait. Le chef du village décide combien de chèvres allouer à chaque famille.</p>
<ol>
<li>
<p>Quel est le nombre de chèvres qui maximise la production de lait ?</p>
<p>10个家庭，假设一共n只羊，每只羊分到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi mathvariant="normal">/</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">a/n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord">/</span><span class="mord mathnormal">n</span></span></span></span>的地</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><mi>n</mi><mo>∗</mo><msup><mi>e</mi><mrow><mn>1</mn><mo>−</mo><mfrac><mn>1</mn><mrow><mn>10</mn><mo>∗</mo><mfrac><mi>a</mi><mi>n</mi></mfrac></mrow></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">P=n*e^{1-\frac 1{10*\frac an}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.25em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span style="top:-3.65898em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.5925285714285713em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mbin mtight">∗</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size1 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8175600000000001em;"><span style="top:-2.468em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal mtight">n</span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.387em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal mtight">a</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.532em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size1 size6"></span></span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7874714285714286em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>==&gt;乱七八糟的求导算完n=10a</p>
</li>
<li>
<p>Combien chaque famille recoit-elle dans une répartition équitable par le chef</p>
<p>带入n=a/10, 得到P=10a，分到每个家庭就是a</p>
</li>
<li>
<p>Le chef meurt dans un malheureux accident et son remplaçant décidé de laisser les familles libres de décider de l’exploitation du champ. Si G est le nombre total de chèvres des autres familles, quel est le nombre de chèvres gi qui maximise la production de lait pour la famille i ?</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>g</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>i</mi></msub><mo>∗</mo><msup><mi>e</mi><mrow><mn>1</mn><mo>−</mo><mfrac><mrow><mi>G</mi><mo>+</mo><msub><mi>g</mi><mi>i</mi></msub></mrow><mn>10</mn></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">P_i(g_i)=g_i*e^{1-\frac{G+g_i}{10}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.088475em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.088475em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0363928571428573em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5483000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.03588em;margin-right:0.1em;"><span class="pstrut" style="height:2.65952em;"></span><span class="mord mathnormal mtight">i</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.31472em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>，也是求导做出来得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mrow><mi>i</mi><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">g_{imax}=10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></p>
</li>
<li>
<p>Chaque famille faisant le mêmes <mark>raisonnement</mark>, quelle est la quantité totale de lait produite par la nouvelle organisation ?</p>
<p>就是每个玩家都取10，得到的P==&gt;n=100 ==&gt;a=10,所以P=100*<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mn>1</mn><mo>−</mo><mn>100</mn><mi mathvariant="normal">/</mi><mn>10</mn></mrow></msup></mrow><annotation encoding="application/x-tex">e^{1-100/10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">/</span><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>S’apercevant de son erreur le nouveau chef décide d’intervenir mais il ne veut pas revenir sur la liberté accordée aux familles de choisir leur nombre de chèvres. Il décide que chaque famille recevra 1/10e du total produit. Comment évolué alors la production ? ==&gt; 意识到自己的错误，新首领决定进行干预，但他不想放弃家庭选择山羊数量的自由。他决定每个家庭将获得总收益的十分之一, 那么生产是如何发展的呢?</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>g</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>∗</mo><msub><mi>g</mi><mi>i</mi></msub><mo>∗</mo><msup><mi>e</mi><mrow><mn>1</mn><mo>−</mo><mfrac><mrow><mi>G</mi><mo>+</mo><msub><mi>g</mi><mi>i</mi></msub></mrow><mn>10</mn></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">P_i(g_i)=1/10*g_i*e^{1-\frac{G+g_i}{10}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">/</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.088475em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.088475em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0363928571428573em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5483000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.03588em;margin-right:0.1em;"><span class="pstrut" style="height:2.65952em;"></span><span class="mord mathnormal mtight">i</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.31472em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>==&gt; g_i = 10-G ==&gt;每人一只</p>
</li>
</ol>
</li>
</ol>
<h2 id="33-existence-et-complexité"><a class="markdownIt-Anchor" href="#33-existence-et-complexité"></a> 3.3 Existence et complexité</h2>
<p>理论：Dans tout jeu fini (nombre de joueurs et nombre d’actions finis), il existe au moins un équilibre de Nash.</p>
<ul>
<li>
<p>L’existence d’un équilibre en <em><strong>stratégies pures</strong></em> n’est pas garantie[保证] (cf. Matching pennies)</p>
</li>
<li>
<p>Il peut y avoir une infinité[无限的] équilibres de Nash</p>
</li>
<li>
<p>Le calcul d’un équilibre de Nash en stratégie mixtes dans un jeu à 2 joueurs est PPAD-complet</p>
<p>Polynomial Parity Arguments on Directed graphs ; inclus dans NP</p>
</li>
<li>
<p>L’existence d’un équilibre avec contraintes est NP-complète : par exemple, un jeu à deux joueurs a-t-il</p>
</li>
</ul>
<h2 id="34-jeux-dégénérés"><a class="markdownIt-Anchor" href="#34-jeux-dégénérés"></a> 3.4 Jeux dégénérés</h2>
<p>定义：Un jeu à deux joueurs est dégénére[退化] s’il existe une stratégie mixte dont le support est de taille k, et pour laquelle il existe au moins[大于] k + 1 meilleures réponses pures</p>
<ul>
<li>Un jeu dégénérés peut avoir une infinité d’équilibres de Nash</li>
<li>Le système linéaire d’équations pour le joueur au plus grand support a plus d’inconnues que d’équations. 对于support最大的玩家来说，线性方程组的未知数比方程多</li>
</ul>
<p>Exemple</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.3vtas375jig0.png" alt="yaimage" /></p>
<ul>
<li>La stratégie pure a d’Alice a 2 meilleures réponses de Bob : c et d</li>
<li>a est une meilleure réponse d’Alice à c et à d</li>
<li><strong>(a, pc + (1 − p)d) est un équilibre de Nash</strong> pour toute valeur de p.</li>
</ul>
<h2 id="34-polyèdres-des-meilleures-réponses"><a class="markdownIt-Anchor" href="#34-polyèdres-des-meilleures-réponses"></a> 3.4 Polyèdres des meilleures réponses</h2>
<p>On considère un jeu à deux joueurs (non-dégénère)，on numérote les actions du joueur 1 de 1 à n et celles du joueur 2 de n+1 à n+m, 已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s_2 = (q_{n+1}, . . . , q_{n+m})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> une stratégie du joueur 2.</p>
<p>Pour une meilleure réponse du joueur 1 à s2, son utilité est égale à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>∈</mo><msub><mi>A</mi><mn>1</mn></msub></mrow></msub><msub><mi>u</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">max_{a_1∈A_1}u_1(a_1, s_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, on considère l’ensemble Q1 des points <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow></msub><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(q_{n+1}, . . . , q_{n+m},u)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span></span></span></span>  tels que <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo>≥</mo><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>∈</mo><msub><mi>A</mi><mn>1</mn></msub></mrow></msub><msub><mi>u</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u ≥ max_{a_1∈A_1} u_1(a_1, s_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>C’est un polyèdre convexe de <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">R^{m+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>, on étiquette[标记] chacun de ses sommets par：</p>
<ul>
<li>les numéros des actions du joueur 1, qui y réalisent le maximum de u</li>
<li>les numéros des actions du joueur 2, qui y ont une probabilité nulle.</li>
</ul>
<p>Exemple: 我们已知玩家1的gain矩阵为<span class='katex-error' title='ParseError: KaTeX parse error: \tag works only in display equations'>\left[ \begin{matrix}   0 &amp; 7 \\   2 &amp; 5 \\   3 &amp; 2  \end{matrix}  \right] \tag{3}</span>，可以画出这个凸面</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.4nfsainngv40.png" alt="yaimage" /></p>
<p>On définit de même un polyèdre Q2 des meilleures réponses pour le joueur 2.</p>
<p>Les <strong>équilibres de Nash</strong> sont alors les couples de sommets (v1, v2) tels que:</p>
<ul>
<li>v1 ∈ Q1 et v2 ∈ Q2</li>
<li>L’union des ensembles d’étiquettes de v1 et v2 est de taille n + m.,并集的大小为1</li>
</ul>
<p>我们可以通过枚举两个多面体的顶点来找到所有的NE，理论上比枚举支持的成本更低(L’algorithme de Lemke-Howson)</p>
<p>Exercice: Dilemme de sécurité. L’Alicie et le Bobistan sont deux pays aux relations tendues. Pour se protéger l’un de l’autres, les deux pays envisagent de développer et maintenir une force de dissuasion nucléaire. Le coût d’une telle force est très élevé mais ne pas l’avoir si l’autre l’a est encore pire. Dans l’ordre chaque pays préfère strictement :</p>
<ol>
<li>personne n’a cette force</li>
<li>je l’ai et l’autre non</li>
<li>on l’a tous les deux</li>
<li>je ne l’ai pas et l’autre l’a</li>
</ol>
<p>Trouver la bimatrice de ce jeu ainsi que tous les équilibres de Nash, en utilisant les polyèdres des meilleures réponses</p>
<h2 id="35-equilibre-de-nash-et-stratégies-dominées"><a class="markdownIt-Anchor" href="#35-equilibre-de-nash-et-stratégies-dominées"></a> 3.5 Equilibre de Nash et stratégies dominées</h2>
<p>Une stratégie dans un équilibre de Nash <strong>n’est jamais[从不会!]</strong> strictement dominée</p>
<p>Après suppression itérée des stratégies strictement dominées, les équilibres de Nash obtenus sont exactement ceux d’origine[完全相同]；Après suppression itérée des stratégies (très) faiblement dominées, les équilibres de Nash obtenus sont un sous-ensemble de ceux d’origine[子集]</p>
<p>Exercice</p>
<ol>
<li>
<p>Calculer les équilibres de <strong>Nash purs</strong> de ces jeux</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.2wa1zf5hs3c0.png" alt="yaimage" /></p>
<p>Peut-on tous les obtenir par élimination des stratégies (très) faiblement dominées ?</p>
</li>
<li>
<p>Paradoxe de Braess.</p>
<p>Chaque jour, 1000 personnes veulent se rendre simultanément d’un point A à un point B pour aller travailler. Il y a deux routes : par C ou par D. Certains tron¸cons sont des grosses routes et la vitesse dessus est insensible au nombre de personnes les empruntant, d’autres sont plus étroits et la vitesse y dépend du nombre de personnes x dessus.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230119/yaimage.7gc4ff3cfrw0.png" alt="yaimage" /></p>
<ol>
<li>
<p>Chaque personne est un joueur qui doit choisir son chemin pour minimiser son temps de trajet de A à B. Quels sont les équilibres de Nash dans ce jeu à 1000 joueurs ? Quelles sont leurs valeurs ？</p>
</li>
<li>
<p>Pour améliorer les conditions de circulation, la mairie décide d’ouvrir un tronçon de C vers D, sur lequel le temps de trajet est 1 (indépendamment du nombre de personnes). Quels sont maintenant les équilibres de Nash, ainsi que leurs valeurs</p>
</li>
</ol>
</li>
</ol>
<h1 id="4-coordination-et-équilibres-corrélés相关"><a class="markdownIt-Anchor" href="#4-coordination-et-équilibres-corrélés相关"></a> 4. Coordination et équilibres corrélés/相关</h1>
<h2 id="41-efficacité-de-pareto"><a class="markdownIt-Anchor" href="#41-efficacité-de-pareto"></a> 4.1 Efficacité de Pareto</h2>
<p>每个纳什均衡都对应着所有参与者的理性选择[ rationnels]，但当有几个纳什均衡时，要想选择并不容易==&gt;所以，在适用的情况下，一个标准是efficacité de Pareto</p>
<p>定义：</p>
<p>Pareto-domination: Un <mark>profil de stratégie</mark> s en domine un autre s’ au sens de Pareto si pour <em><strong>tout joueur</strong></em> i, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>≥</mo><msub><mi>u</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_i (s) ≥ u_i (s&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> et il existe un joueur j pour lequel <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>u</mi><mi>j</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">u_j (s) &gt; u_j (s&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.[这个tout和lequel怎么回事]</p>
<ul>
<li>Un profil de stratégie est un tuple s = (s1, . . . , sn) tel que pour tout i ∈ [1…n], si est une stratégie du joueur i.</li>
</ul>
<p>Pareto-efficacité: Un profil de stratégies est efficace au sens de Pareto s’il n’est dominé au sens de Pareto par aucun autre.</p>
<p>Exemple: 在最经典的囚徒问题中，(S,S)是Pareto-efficacité，但是(T,T)不是</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>博弈论</category>
      </categories>
  </entry>
  <entry>
    <title>博弈论(二)</title>
    <url>/2023/01/30/%E5%8D%9A%E5%BC%88%E8%AE%BA2/</url>
    <content><![CDATA[<h1 id="jeux-sous-forme-extensive"><a class="markdownIt-Anchor" href="#jeux-sous-forme-extensive"></a> Jeux sous forme extensive</h1>
<p>直译：广泛形式的博弈</p>
<span id="more"></span>
<h1 id="1-forme-extensive"><a class="markdownIt-Anchor" href="#1-forme-extensive"></a> 1. Forme extensive</h1>
<h2 id="11-定义"><a class="markdownIt-Anchor" href="#11-定义"></a> 1.1 定义</h2>
<p>对于像échecs[国际象棋]这样复杂的游戏, <mark>la forme normale</mark>[标准形式]是不实用的, 然后L’aspect <mark>séquentiel</mark>[顺序方面]不存在，所以我们引入了一种新型的游戏: <mark>les jeux sous forme extensive</mark>[广泛形式的游戏], 游戏由根树[arbre enraciné]表示(博弈树):</p>
<ul>
<li>**sommets[顶/尖]**是游戏中的位置/状态</li>
<li>每个<strong>sommet</strong>只属于一个玩家;</li>
<li>根是初始位置</li>
<li>arêtes[边]是可玩的动作</li>
<li>叶子代表每个玩家gain/utilité</li>
</ul>
<p>下面是Tic-tac-toe游戏的博弈树</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.4fbjlytuonw0.png" alt="yaimage" /></p>
<p>Exercice: Kayles. On considère une rangée de n quilles[小木桩] et deux joueurs. Chaque joueur, à son tour, abat une quille ou deux qui sont adjacentes[每次敲1个或者相邻的2个]. Le perdant est celui qui abat la dernière quille et l’autre est le gagnant[失败者是击倒最后一根针的人，另一个人就是胜利者].</p>
<p>Dessiner la forme extensive de ce jeu pour n = 4. On pourra regrouper les configurations issues d’une même configuration et qui sont les mêmes aux symétries près.</p>
<hr />
<hr />
<p>Forme extensive et forme normale</p>
<ul>
<li>
<p>对于每个forme extensive的博弈，我们可以定义他的forme normale</p>
</li>
<li>
<p>forme normale的每个行动都包括选择一个forme extensive的策略</p>
</li>
<li>
<p>相对于forme extensive，forme normale的大小通常是指数级的</p>
</li>
</ul>
<h2 id="12-stratégies"><a class="markdownIt-Anchor" href="#12-stratégies"></a> 1.2 Stratégies</h2>
<p>Une <mark>stratégie pure</mark> dans un jeu en forme extensive est une <strong>fonction</strong> qui à chaque sommet <strong>associe une action</strong> du joueur possédant le sommet. 广义博弈中的纯策略是一个函数，它将每个顶点与拥有该顶点的玩家的行动联系在一起。</p>
<ul>
<li>
<p>一旦两个玩家的策略被固定下来，我们在树上就有一个单一的路径</p>
</li>
<li>
<p>由于深度是有限的，我们得到一个单一的叶子，因此每个玩家都有一个单一的gain d’utilité[效用增益]</p>
</li>
<li>
<p>如前所述，我们将<mark>stratégie mixte:混合策略</mark>定义为纯策略的概率分布</p>
</li>
</ul>
<p>Une <mark>stratégie comportementale (behavioral)</mark> dans un jeu en forme extensive est une fonction qui à chaque sommet <strong>associe une distribution de probabilités</strong> sur les actions du joueur possédant le sommet. 广泛博弈中的行为策略是一个函数，它将每个顶点与拥有该顶点的玩家的行动的概率分布联系起来。</p>
<ul>
<li>
<p>对于任何行为策略，我们可以构建一个混合策略，对于所有对立的策略：stratégies adverses，到达每个状态的概率相同，因此产生的效用[utilites]也相同。</p>
</li>
<li>
<p>反之亦然</p>
</li>
</ul>
<p>ChatGPT说的</p>
<blockquote>
<p>在博弈论中，策略表示每个参与者在每种可能的状态下所采取的行动。</p>
<ul>
<li>行为策略（behavioral strategy）指的是一种策略，在某些状态下允许参与者采取多种行动</li>
<li>混合策略（mixed strategy）指的是一种策略，在某些状态下允许参与者采取多种行动，并且每种行动的概率是已知的</li>
<li>纯策略（pure strategy）指的是一种策略，在某些状态下参与者总是采取同一种行动。</li>
</ul>
</blockquote>
<p>例子==&gt;没看懂</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.6nn1e4fr5io0.png" alt="yaimage" /></p>
<ul>
<li>
<p>玩家1的纯策略由他的两个可访问的选择点（减少的策略）从上到下和从左到右描述。</p>
</li>
<li>
<p>玩家2的纯策略由他的三个选择点从上到下描述。</p>
</li>
<li>
<p>该游戏是一个 <mark>somme nulle</mark>[零和游戏]，只有玩家1的矩阵被写入</p>
<p>零和博弈：参与博弈的各方，在严格竞争下，一方的收益必然意味着另一方的损失，博弈各方的收益和损失相加总和永远为“零”，故双方不存在合作的可能</p>
</li>
<li>
<p>该游戏的纯策略值为-1。</p>
</li>
<li>
<p><mark>stratégie d’équilibres</mark>均衡策略对玩家2来说是122，对玩家1来说是任何策略</p>
</li>
</ul>
<h2 id="13-jeux-gagnants-perdants"><a class="markdownIt-Anchor" href="#13-jeux-gagnants-perdants"></a> 1.3 Jeux gagnants-perdants</h2>
<p>Von Neumann理论：在任何广泛形式的双人游戏中，结果是（类似于）玩家1获胜，玩家2获胜，以及平局，我们有：</p>
<ul>
<li>棋手1有一个肯定能赢的策略。</li>
<li>或玩家2有一个策略，以稳操胜券。</li>
<li>或双方都有一个策略来迫使对方平局</li>
</ul>
<p>Exercice: Chomp de David Gale.</p>
<p>Ce jeu à deux joueurs se joue sur une grille de taille m × n, dont les cases sont représentées par leur coordonnées (i, j) (i ≥ 1 horizontal, j ≥ 1 vertical). Chacun son tour, un joueur capture une case (i, j) telle qu’aucune[表示否定的] case (i‘, j’ ) avec i’≤ i et j’ ≤ j n’a déjà été capturée. Le joueur 1 commence et celui qui capture la case (1, 1) a perdu[输了]</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.6jyeobv4rmo0.png" alt="yaimage" /></p>
<p>Exhiber une stratégie gagnante pour le joueur 1 sur une grille carrée (m = n)</p>
<p>Montrer qu’en general, si le joueur 2 a une stratégie gagnante, alors le joueur 1 aussi</p>
<p>Conclure</p>
<h2 id="14-jeux-de-hasard"><a class="markdownIt-Anchor" href="#14-jeux-de-hasard"></a> 1.4 Jeux de hasard</h2>
<p>在广义博弈中加入随机现象[phénomènes aléatoires]</p>
<ul>
<li>On ajoute un joueur 0, Chance ou Nature, dont les actions portent[带有] des probabilités et sont résolus selon ces probabilités</li>
<li>Pour retrouver la forme normale, on met alors les espérances de gains dans la table</li>
</ul>
<p>在这种情况下Von Neumann理论将不是真的</p>
<p>Exercice</p>
<p>Blackjack à pièces. Alice lance une pièce, puis éventuellement une deuxième. Elle compte 1 pour pile et 2 pour face. Si elle obtient 4, Bob gagne. Sinon, Bob lance une pièce, puis éventuellement une deuxième. S’il obtient 3 ou moins mais plus qu’Alice, Bob gagne, sinon c’est Alice qui gagne. Celui ou celle qui gagne obtient 1 et l’autre 0. Modéliser (au moins partiellement) ce jeu sous forme extensive et déterminer le gain (moyen) des deux joueurs s’ils passent tous les deux tout le temps.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.2pcuc5m05fs0.png" alt="yaimage" /></p>
<h1 id="2-equilibre-parfait-en-sous-jeux"><a class="markdownIt-Anchor" href="#2-equilibre-parfait-en-sous-jeux"></a> 2. Equilibre parfait en sous-jeux</h1>
<h2 id="21-定义"><a class="markdownIt-Anchor" href="#21-定义"></a> 2.1 定义</h2>
<p>例子：Menaces non crédibles</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.v2risgvi0ao.png" alt="yaimage" /></p>
<ul>
<li>gG est un équilibre de Nash , gD n’est pas un équilibre</li>
<li>La menace du joueur 2 (G) lui permet d’augmenter son gain==&gt;?</li>
<li>Mais elle n’est pas crédible[不可信] car
<ul>
<li>elle concerne une partie du jeu qui n’est pas atteinte: 它涉及到游戏中未达到的部分</li>
<li>si elle était atteinte, cette stratégie ne serait pas optimale pour le joueur 2: 如果达到了，这个策略对玩家2来说就不是最优的</li>
</ul>
</li>
</ul>
<p><strong>équilibre parfait en sous-jeux</strong>: Dans un jeu sous forme extensive, un équilibre parfait en sous-jeux (subgame perfect equilibrium, SPE) est un équilibre de Nash tel que sa restriction à tout sous-jeu[其对任何子游戏的限制] est aussi un équilibre de Nash.</p>
<ul>
<li>Un sous-jeu可以被认为是un sous-arbre</li>
<li>La forme normale cache les aspects temporels de la forme extensive: 正常形式隐藏了广泛形式的时间性</li>
<li>纳什均衡的概念由 l’équilibre parfait en sous-jeux[子游戏中的完美均衡]来完善</li>
</ul>
<p>比如说在上面那个例子中：</p>
<ul>
<li>gG n’est pas un SPE car G n’est pas un NE du sous-jeu obtenu après d.</li>
<li>dD est un SPE.</li>
</ul>
<p>然后两个推论</p>
<ul>
<li>Tout SPE d’un jeu en forme extensive est un équilibre de Nash mais l’inverse n’est pas nécessairement vrai.</li>
<li>Tout jeu fini sous forme extensive a une SPE en stratégies pures</li>
</ul>
<p>Exercice: Mille-patte (Centipede) [1].</p>
<p>C’est le matin de Noel et Alice et Bob découvrent leurs cadeaux. Alice a eu un sac de 100 billes et Bob une boite de 100 briques en plastique à assembler. Mais Alice préfère 10 fois plus les briques aux billes et Bob préfère 10 fois plus les billes aux briques. Ils décident donc de procéder à un échange, mais ne se faisant aucune confiance, un objet à la fois : Alice décide d’abord soit d’interrompre l’échange, soit de donner une bille à Bob, puis Bob décide soit d’interrompre l’échange, soit de donner une brique à Alice, et ainsi de suite jusqu’à échange complet.</p>
<ol>
<li>
<p>Ecrire (partiellement) ce jeu sous forme extensive et trouver l’unique SPE</p>
</li>
<li>
<p>Quelles stratégies obtient-on en supprimant celles qui ne minimisent pas le regret ?</p>
</li>
</ol>
<h2 id="22-induction-en-arrière-后向归纳算法"><a class="markdownIt-Anchor" href="#22-induction-en-arrière-后向归纳算法"></a> 2.2 Induction en arrière: 后向归纳算法</h2>
<p>拿来计算SPE的</p>
<p>Un jeu réduit à une feuille est un SPE (dégénéré) ：一个被简化为叶子的游戏是一个（退化的）SPE</p>
<p>Dans un jeu avec un seul sommet (hors Chance) qui n’est pas une feuille, et qui est la racine de l’arbre, un NE (qui est aussi un SPE) choisit nécessairement une action qui conduit au meilleur gain (en espérance)  在有一个不是叶子的单一顶点（不包括Chance）的博弈中，并且是树的根，一个纳什平衡（也是一个SPE）必然会选择一个导致最佳回报的行动（在期望值中）</p>
<p>因此，我们从叶子开始向后进行</p>
<ul>
<li>
<p>pour tout sous-jeu avec une racine n’appartenant pas à Chance et qui ne contient en plus que des feuilles ou des sommets Chance, on le remplace par une feuille dont la valeur est celle de l’un des NE du sous-jeu</p>
<p>对于任何根不属于Chance且只包含Chance叶子或顶点的子游戏，我们用一个叶子代替它，其值是子游戏中的一个NEs的值</p>
</li>
<li>
<p>我们重新开始，直到我们到达游戏的根</p>
</li>
</ul>
<p>我们也可以简单地通过在sommets上标注其子游戏的价值来实现这一点，同时往上走。</p>
<p>例子：Blackjack à pièces的广义博弈树的SPE的这个算法</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yade7497a8b6bfe6c3c5ad811efd5ccca.5docn07ozn00.jpg" alt="yade7497a8b6bfe6c3c5ad811efd5ccca" /></p>
<h2 id="23-varepsilon-équilibre-de-nash"><a class="markdownIt-Anchor" href="#23-varepsilon-équilibre-de-nash"></a> 2.3 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span>-équilibre (de Nash)</h2>
<p>定义：Un profil de stratégies s est un <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span>-équilibre (pour <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\varepsilon &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">ε</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>) ,si$ ∀i, ∀{s’<em>i},u_i(s_i , s</em>{−i}) ≥ u_i(s’<em>i,s</em>{−i}) − \varepsilon$.</p>
<p>一些推论：</p>
<ul>
<li>Un EN est un <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span>-équilibre pour tout <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span> &gt; 0</li>
<li>L’utilité pour chaque joueur d’un <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span>-équilibre n’est pas forcément proche à  près du gain d’un équilibre de Nash：每个参与者的utilité不一定接近纳什均衡的gain</li>
<li>Pour qu’il soit possible, il faut que le fait que le joueur est indifférent à  près soit une connaissance commune：为了使这成为可能，玩家几乎漠不关心的事实必须是众所周知的</li>
</ul>
<p>Exemple: Dans Mille-patte, échanger tous les objets est un 1-équilibre.</p>
<h2 id="24-calcul-dun-spe-dans-les-gros-jeux"><a class="markdownIt-Anchor" href="#24-calcul-dun-spe-dans-les-gros-jeux"></a> 2.4 Calcul d’un SPE dans les gros jeux</h2>
<p>在许多实际问题中，游戏是’巨大的’, 管理这种复杂性的两个ideas</p>
<ul>
<li>缩小树的深度[profondeur]</li>
<li>减少树的分枝[branchement]</li>
</ul>
<h1 id="3-minimax-et-alphabeta"><a class="markdownIt-Anchor" href="#3-minimax-et-alphabeta"></a> 3. Minimax et Alphabeta</h1>
<h2 id="31-minimax"><a class="markdownIt-Anchor" href="#31-minimax"></a> 3.1 Minimax</h2>
<h3 id="311-基本定义"><a class="markdownIt-Anchor" href="#311-基本定义"></a> 3.1.1 基本定义</h3>
<p>Réduire la profondeur</p>
<p>我们固定一个最大深度L[profondeur maximale L], 所有深度为L的子游戏都被玩家的gain direct所取代, 这个gain由一个静态的评估函数获得[评估函数的获得方式：1.Obtenue via des experts ; 2.Ou par apprentissage (p. ex. apprentissage par renforcement).]</p>
<p>Expectiminimax et Minimax</p>
<p>我们认为游戏是<mark>somme nulle</mark>[零和博弈]，给定état s, profondeur maximale L, 和静态评估函数U，我们由此定义Expectiminimax</p>
<ul>
<li>构建根为s且深度最多为L的子游戏</li>
<li>remplacer toutes feuilles s’ dans lesquelles un joueur pourrait encore jouer par U(s’)</li>
<li>在所产生的树上计算SPE</li>
</ul>
<p>La valeur de s dans le SPE est plus précise que U(s) 因为L没有预期</p>
<p>如果没有nœud où Chance joue, Expectiminimax est appelé Minimax</p>
<p>En pratique 我们并没有明确地建立树: on en réalise un parcours un profondeur.</p>
<p>例题：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/ya2a6e77ddbd1bee98da95177d01ca05e.2s9wjby0mo80.jpg" alt="ya2a6e77ddbd1bee98da95177d01ca05e" /></p>
<h3 id="312-算法伪代码"><a class="markdownIt-Anchor" href="#312-算法伪代码"></a> 3.1.2 算法/伪代码：</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input:	s // état source</span><br><span class="line">		maximizer // 玩家</span><br><span class="line"> 		d // 深度</span><br><span class="line">output: U // valeur de l’équilibre en s</span><br><span class="line"></span><br><span class="line">if d = 0: // Feuille</span><br><span class="line">	U ← evaluate(s)</span><br><span class="line">else :</span><br><span class="line">	if maximizer: //玩家1</span><br><span class="line">		v ← −∞</span><br><span class="line">	foreach child s&#x27; of s:</span><br><span class="line">		v ← max(v, Minimax(s&#x27;, not maximizer, d − 1))</span><br><span class="line">	else : // 玩家2</span><br><span class="line">		v ← +∞</span><br><span class="line">		foreach child s&#x27; of s:</span><br><span class="line">			v ← min(v, Minimax(s&#x27;, not maximizer, d − 1))</span><br><span class="line">		U ← v</span><br></pre></td></tr></table></figure>
<h3 id="313-negamax"><a class="markdownIt-Anchor" href="#313-negamax"></a> 3.1.3 Negamax</h3>
<p>用min(a, b) = − max(−a, −b)来优化代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input:	s // état source</span><br><span class="line">		p // 玩家</span><br><span class="line"> 		d // 深度</span><br><span class="line">output: U // valeur de l’équilibre en s</span><br><span class="line"></span><br><span class="line">if d = 0: // Feuille</span><br><span class="line">	U ← evaluate(s)</span><br><span class="line">else :</span><br><span class="line">	v ← −∞</span><br><span class="line">	foreach child s&#x27; of s:</span><br><span class="line">		v ← max(v, p*negamax(s&#x27;,-p, d − 1))</span><br><span class="line">	U ← p*v</span><br></pre></td></tr></table></figure>
<h2 id="32-alpha-beta"><a class="markdownIt-Anchor" href="#32-alpha-beta"></a> 3.2 Alpha-beta</h2>
<p>定义：就是不去探索完，剪枝</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.79uke1gy2pg0.png" alt="yaimage" /></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>剪枝：对于当前搜索到的节点来说，如果当前节点的评估值已经<strong>大于</strong>父节点的alpha值（也就是最优值），那么就可以直接剪枝，不用继续搜索下去了。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>剪枝：对于当前搜索到的节点来说，如果当前节点的评估值已经<strong>小于</strong>父节点的beta值（也就是次优值），那么就可以直接剪枝，不用继续搜索下去了。</p>
<p>两种剪枝的区别在于，alpha剪枝是在当前局面为最优局面的前提下剪枝，而beta剪枝是在当前局面为次优局面的前提下剪枝。</p>
<p>例题：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.4miort1k3sm.png" alt="yaimage" /></p>
<p>Appliquer l’algorithme AlphaBeta à l’arbre ci-dessus, en explorant toujours le fils gauche d’abord.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yac7a714cb69add21954b0e1f6eb4a3c0.1hjn9lh6jfpc.jpg" alt="yac7a714cb69add21954b0e1f6eb4a3c0" /></p>
<p>Recommencer en explorant toujours le fils droit d’abord.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/ya9204ec8ad5abdf5419696502cd39592.p1ng6batskg.jpg" alt="ya9204ec8ad5abdf5419696502cd39592" /></p>
<p>这种方法可以减少探索次数，探索的方向很重要：les meilleures actions de chaque joueur doivent être explorés en priorité: 应首先探索每个玩家的最佳行动</p>
<h1 id="4-mcts"><a class="markdownIt-Anchor" href="#4-mcts"></a> 4. MCTS</h1>
<p>B站瞎听的</p>
<p>算法迭代的基本过程：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230111/yaimage.4x3d3ig8s7m0.png" alt="yaimage" /></p>
<ol>
<li>
<p>选择(Selection): 选择最大化UCB值的点，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mi>C</mi><mi>B</mi><mn>1</mn><mo stretchy="false">(</mo><msub><mi>S</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mover accent="true"><msub><mi>v</mi><mi>i</mi></msub><mo stretchy="true">‾</mo></mover><mo>+</mo><mi>c</mi><msqrt><mfrac><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><msub><mi>n</mi><mi>i</mi></msub></mfrac></msqrt><mo separator="true">,</mo><mi>c</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mi>N</mi><mo>:</mo><mtext>总的探索次数</mtext><mo separator="true">,</mo><msub><mi>n</mi><mi>i</mi></msub><mo>:</mo><mtext>当前结点探索次数</mtext></mrow><annotation encoding="application/x-tex">UCB1(S_i) = \overline{v_i}+c\sqrt {\frac{logn}{n_i}},c=2,N:总的探索次数,n_i:当前结点探索次数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">1</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.78056em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.8399999999999999em;vertical-align:-0.6114419999999999em;"></span><span class="mord mathnormal">c</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.228558em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.188558em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6114419999999999em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">探</span><span class="mord cjk_fallback">索</span><span class="mord cjk_fallback">次</span><span class="mord cjk_fallback">数</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">前</span><span class="mord cjk_fallback">结</span><span class="mord cjk_fallback">点</span><span class="mord cjk_fallback">探</span><span class="mord cjk_fallback">索</span><span class="mord cjk_fallback">次</span><span class="mord cjk_fallback">数</span></span></span></span></p>
</li>
<li>
<p>扩展(expansion): 创建子节点</p>
</li>
<li>
<p>仿真(simulation): 在某一节点用随机策略进行游戏，也叫playout/rollout</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def Rollout(S_i):</span><br><span class="line">	loop 1:</span><br><span class="line">		if S_i is a terminal state:#游戏结束</span><br><span class="line">			return value(S_i)</span><br><span class="line">		A_i = random(available-actions(S_i))#随机选取除本身外可行动作的任意一个</span><br><span class="line">		S_i = simulate(A_i,S_i)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>反向传播(backpropagation): 使用随机搜索的结果来更新整个搜索树</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230111/yaimage.hhlfj9hd0zc.png" alt="yaimage" /></p>
<h2 id="41-定义"><a class="markdownIt-Anchor" href="#41-定义"></a> 4.1 定义</h2>
<p>对于决策树：我们试图通过只探索一部分路径来减少分支[réduire le branchement]</p>
<p>第一个想法：在每个初始行动之后，随机地画出一小套路径开始, 每条路径都通向初始集合中的一个叶子,对产生的树应用Expectiminimax。</p>
<p>这样得到的平衡平均值收敛到真实值，但非常缓慢 , 许多路径被探索出来，而这些路径永远不会被最优策略所选择。</p>
<p>第二个更好的想法：est de combiner cette approche avec une <strong>construction incrémentale</strong> de l’arbre pour diriger[引导] la recherche vers les actions les plus prometteuses[有期望的]</p>
<ul>
<li>每当一个节点被添加到树上时，就会从该节点开始进行一次完整的随机播放 (random playout)</li>
<li>将获得的结果沿着路径反向传播回根部</li>
<li>计算并存储每个节点的平均奖励和随机游戏的数量[la récompense moyenne et le nombre de parties aléatoires]</li>
<li>怎么和上面讲的不太一样？</li>
</ul>
<p>这是一种强化学习算法，每个阶段的主要挑战是在以下方面做出选择</p>
<ol>
<li>Exploration : commencer à explorer une nouvelle branche, 开始探索一个新的分支[选择]</li>
<li>Exploitation : étendre une branche existante prometteuse, 扩展一个有前途的现有分支</li>
</ol>
<h2 id="42-uct"><a class="markdownIt-Anchor" href="#42-uct"></a> 4.2 UCT</h2>
<h3 id="421-machines-à-sous-et-ucb1"><a class="markdownIt-Anchor" href="#421-machines-à-sous-et-ucb1"></a> 4.2.1 Machines à sous et UCB1</h3>
<p>On considère n <em>machines à sous[老虎机]</em> avec différentes espérances de gains inconnues, si on gagne sur une machine, doit-on continuer à jouer dessus ou en essayer une autre qui pourrait être encore meilleure? Une stratégie possible est <mark>UCB1 (Upper Confidence Bound)</mark>: jouer sur la machine j qui maximise <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>r</mi><mi>j</mi></msub><mo stretchy="true">‾</mo></mover><mo>+</mo><msqrt><mfrac><mrow><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><msub><mi>n</mi><mi>j</mi></msub></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\overline{r_j}+\sqrt{\frac{2ln(n)}{n_j}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.916668em;vertical-align:-0.286108em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6211599999999999em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2188400000000001em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">n</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5423199999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.17884em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6211599999999999em;"><span></span></span></span></span></span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>r</mi><mi>j</mi></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{r_j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.916668em;vertical-align:-0.286108em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>: le <strong>gain empirique[经验的] moyen</strong> sur la machine j jusqu’à maintenant</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>:  le nombre total de parties jouées</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">n_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>: le nombre de parties jouées sur la machine j</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mfrac><mrow><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><msub><mi>n</mi><mi>j</mi></msub></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{\frac{2ln(n)}{n_j}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6211599999999999em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2188400000000001em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">n</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5423199999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.17884em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6211599999999999em;"><span></span></span></span></span></span></span></span></span>:  un majorant de la taille de l’intervalle de confiance pour le gain moyen tel que l’espérance de la vraie valeur est dedans avec une très grande probabilité[置信空间大小的增量，使真实值的期望值以极高的概率在其内]</li>
</ul>
<p>值越大玩得越少</p>
<h3 id="422-upper-confidence-on-trees"><a class="markdownIt-Anchor" href="#422-upper-confidence-on-trees"></a> 4.2.2 Upper Confidence on Trees</h3>
<p>把UCB1加到博弈树里面</p>
<p>Globalement</p>
<ul>
<li>
<p>需要进行多轮模拟</p>
</li>
<li>
<p>选择导致节点j的最大值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mtext>∗</mtext><msub><mi>r</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">p∗r_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751388em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">p</span><span class="mord">∗</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的行动，其中p=-1/1代表游戏者</p>
</li>
</ul>
<p>Dans chaque round, en <strong>commencant à la racine</strong>, 并且给定一个节点 :</p>
<ul>
<li>如果 un successeur direct 没有被探索过 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>j</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n_j = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>)
<ul>
<li>把它加到树上</li>
<li>从这个新的节点进行一次随机游戏</li>
<li>通过将结果与路径上遇到的所有节点的总增益相加，将其传播回根</li>
</ul>
</li>
<li>通过选择UCB1的继任者，沿着树的方向递归下去：使<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>∗</mo><mo stretchy="false">(</mo><mfrac><msub><mi>r</mi><mi>j</mi></msub><msub><mi>n</mi><mi>j</mi></msub></mfrac><mo>+</mo><mi>p</mi><mo>∗</mo><msqrt><mfrac><mrow><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><msub><mi>n</mi><mi>j</mi></msub></mfrac></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p*(\frac{r_j}{n_j}+p*\sqrt{\frac{2ln(n)}{n_j}})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.351032em;vertical-align:-0.5423199999999999em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.808712em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.50732em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5423199999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6211599999999999em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2188400000000001em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">n</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5423199999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.17884em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.8800000000000001em;"><svg width='400em' height='1.8800000000000001em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6211599999999999em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>最大化的那一个</li>
</ul>
<p>例子：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.54xuuqs8xx80.png" alt="yaimage" /></p>
<p>圆下面的表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">n_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>,上面的嘞？</p>
<p>最后：</p>
<ol>
<li>
<p>当模拟的数量增加到无穷大时，UCT会收敛到Minimax</p>
</li>
<li>
<p>如果我们随机抽签，偏向于每个玩家的最佳动作，收敛速度会更快。</p>
</li>
<li>
<p>每个节点中的meilleurs coups potentiels可以被学习到</p>
</li>
<li>
<p>UCT可以与深度限制相结合</p>
</li>
<li>
<p>AlphaGo使用有深度限制的MCTS，以及深度神经网络对位置进行静态评估（代替随机游戏），并寻找潜在的好棋。</p>
</li>
</ol>
<h1 id="5-jeu-à-information-imparfaite"><a class="markdownIt-Anchor" href="#5-jeu-à-information-imparfaite"></a> 5. Jeu à information imparfaite</h1>
<h2 id="51-定义"><a class="markdownIt-Anchor" href="#51-定义"></a> 5.1 定义</h2>
<p>Les jeux sous forme extensive 不允许 modéliser le Dilemme du prisonnier, le Poker, Stratego, etc, 在这些游戏中，其他玩家的状态只是部分已知。</p>
<p>On définit <strong>un jeu sous forme extensive à information imparfaite</strong>, 为每个玩家增加一组他的状态集的子集。</p>
<p>Chaque sous-ensemble est appelé <strong>ensemble d’information</strong> (information set)</p>
<ul>
<li>Un ensemble d’information du joueur i contient les états qui sont indistingables[无法区分] par ce joueur</li>
<li>Tous les états d’un ensemble d’information doivent avoir les mêmes actions possibles: 一个信息集合中的所有状态必须有相同的可能行动</li>
<li>Le <strong>joueur Chance</strong> a toujours des ensembles d’information qui sont des singletons[单列出来的]</li>
</ul>
<p><strong>Si tous les ensembles d’informations sont des singletons, on a un jeu à information parfaite.</strong></p>
<p>Exemple：Dilemme du prisonnier (forme extensive)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.2p6fxjqrokw0.png" alt="yaimage" /></p>
<p>对于任何的jeu en forme normale，我们可以构建他的forme extensive</p>
<ul>
<li>玩家1先玩</li>
<li>玩家i出牌后获得的所有状态构成玩家i+1的unique ensemble d’information[单一信息集]</li>
<li>当所有玩家都进行了游戏后，我们就有了gains associés：所得到的树上的每条路径都代表了一个un profil de stratégies pures[纯策略曲线]</li>
</ul>
<h2 id="52-stratégies-dans-les-jeu-sous-forme-extensive-à-information-imparfaite"><a class="markdownIt-Anchor" href="#52-stratégies-dans-les-jeu-sous-forme-extensive-à-information-imparfaite"></a> 5.2 Stratégies dans les jeu sous forme extensive à information imparfaite</h2>
<p>Une stratégie pure 分配 une action à chaque ensemble d’information, chaque joueur doit jouer la même action dans les états d’un même ensemble d’information</p>
<p>On modifie les définitions de stratégies mixtes et comportement de manière similaire[以类似的方式进行修改], on n’a plus d’équivalence entre les deux : mêmes probabilités d’atteindre les états pour toutes stratégies adverses. 两者之间不再存在等价关系：所有对立的策略达到状态的概率相同</p>
<p>Exercice:</p>
<ol>
<li>
<p>Trouver un jeu sous forme extensive et <mark>une stratégie comportementale qui n’a pas d’équivalent en stratégie mixte</mark></p>
</li>
<li>
<p>Trouver un jeu sous forme extensive et <mark>une stratégie mixte qui n’a pas d’équivalent en stratégie comportementale</mark></p>
<p>不是，这不是一个题吗TAT</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/ya8e38088426e9be060f0c3658e295e5c.6r5uyyrhv400.jpg" alt="ya8e38088426e9be060f0c3658e295e5c" /></p>
<h2 id="53-jeux-avec-mémoire-parfaite"><a class="markdownIt-Anchor" href="#53-jeux-avec-mémoire-parfaite"></a> 5.3 Jeux avec mémoire parfaite</h2>
<p>在前面的练习中，要么是玩家忘记了他做了什么动作，甚至是他是否做了一个动作，我们定义了一个子类dans laquelle ce n’est pas possible[就是定义一个子类来记忆他做了什么]</p>
<p>定义：Dans un jeu sous forme extensive à information imparfaite, le joueur i a une mémoire parfaite (perfect recall) si :</p>
<ol>
<li>
<p>从racine出发的每条路径最多经过玩家i的任何信息集[ensemble d’information]一次</p>
<p>Sinon, on a soit l’exemple précédent du conducteur, soit on pourrait distinguer les deux avec un état intermédiaire</p>
<p>否则，我们要么有前面的驱动程序的例子，要么我们可以用一个中间状态来区分两者</p>
</li>
<li>
<p>如果从racine出发的两条路径通过了相同的信息集，那么在这之前 :</p>
<ol>
<li>ils sont passés par les memes ensembles d’information du joueur i</li>
<li>dans le meme ordre</li>
<li>dans chacun de ces ensembles d’information, la meme action a été effectuée sur les deux chemins.  在每一个信息集中，两条路径上的行动都是相同的。</li>
</ol>
<p>les deux chemins sont indistingables pour le joueur qui se souvient de ce qu’il a fait et où il était. 对于记得自己做了什么和在哪里的玩家来说，两条路径是无法区分的</p>
</li>
</ol>
<p>Si tous les joueurs ont une mémoire parfaite, alors le jeu est dit à mémoire parfaite.</p>
<p>Kuhn理论：Dans un jeu à mémoire parfaite, <strong>pour toute stratégie comportementale, on peut construire une stratégie mixte avec, pour toutes les stratégies adverses, les mêmes probabilités d’arriver à chaque état</strong> et inversement.</p>
<p>例子：</p>
<ol>
<li>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.2w22v28rdwa0.png" alt="yaimage" /></p>
</li>
<li>
<p>Alice choisit un nombre entre 1 et 4. Bob a deux essais pour le trouver. Après le premier essai, s’il n’a pas trouvé, Alice lui dit si le nombre cherché est plus grand ou plus petit que sa proposition. Alice gagne si Bob ne trouve pas, et perd sinon et on a l’inverse pour Bob</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.jy7nyh0cwbk.png" alt="yaimage" /></p>
</li>
</ol>
<h2 id="54-forme-normale-pour-les-jeux-à-information-imparfaite"><a class="markdownIt-Anchor" href="#54-forme-normale-pour-les-jeux-à-information-imparfaite"></a> 5.4 Forme normale pour les jeux à information imparfaite</h2>
<p>On définit la forme normale comme pour les jeux à information parfaite, en <strong>utilisant les ensembles d’information plutôt que les sommets</strong>.</p>
<p>Exemple</p>
<ol>
<li>
<p>Alice a 1 ensemble d’information, Bob 7</p>
<blockquote>
<p>a1234 (après le choix initial d’Alice), b2a1 (Bob a déjà joué 2 alors qu’Alice a choisi 1), b2a34, b3a4, b3a12, b1a234, et b4a123</p>
<p>dans b2a1 et b3a4 la stratégie est forcée</p>
<p>une stratégie pure réduite combine un choix dans a1234 et un dans l’ensemble d’information résultant du premier choix dans lequel la stratégie n’est pas forcée</p>
<p>on a donc les stratégies pures : 12 (joue 1 puis 2), 13, 14, 23, 24, 32, 31, 41, 42, et 43.</p>
</blockquote>
</li>
<li>
<p>Alice a 4 stratégies pures, Bob 10 (sous forme réduite)</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.1d82mtoru5vk.png" alt="yaimage" /></p>
<p>Il n’y a pas d’équilibre en stratégies pures</p>
<p>Pour Alice, le jeu étant strictement compétitif, on cherche une stratégie de sécurité</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yaimage.56xjecm7tkk0.png" alt="yaimage" /></p>
<p>Pour Bob, par interchangeabilité[可互换性] des équilibres, on peut se restreindre[限制] aux meilleures réponses à <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo separator="true">,</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo separator="true">,</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo separator="true">,</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac14,\frac14,\frac14,\frac14)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></p>
<p>Ce sont les colonnes qui réalisent le max (pour Bob donc en inversant 0 et 1) avec cette stratégie : 23, 24, 31, 32</p>
<p>Et donc <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>B</mi></msub><mo>=</mo><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><mi>q</mi><mn>1</mn><mo separator="true">,</mo><mi>q</mi><mn>2</mn><mo separator="true">,</mo><mi>q</mi><mn>3</mn></mrow></msub><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">[</mo><mi>q</mi><mn>1</mn><mo>+</mo><mi>q</mi><mn>2</mn><mo>+</mo><mi>q</mi><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mtext>−</mtext><mi>q</mi><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mtext>−</mtext><mi>q</mi><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mtext>−</mtext><mi>q</mi><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mfrac><mn>3</mn><mn>4</mn></mfrac></mrow><annotation encoding="application/x-tex">maxmin_B = max_{q1,q2,q3 }min[q1 + q2 + q3, 1 − q3, 1 − q2, 1 − q1] =\frac34</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> quand tous sont égaux.</p>
</li>
</ol>
<h2 id="55-spe-dans-les-jeux-à-information-imparfaite"><a class="markdownIt-Anchor" href="#55-spe-dans-les-jeux-à-information-imparfaite"></a> 5.5 SPE dans les jeux à information imparfaite</h2>
<p>定义：On peut calculer des équilibres parfaits en sous-jeux dans un jeu à information imparfaite, un sous-jeu dans ce cas doit contenir tous les états d’un meme ensemble d’information</p>
<p>Exemple：dans le jeu de devinette précédent, les seuls sous-jeux non-triviaux[唯一非琐碎的子游戏] sont les réponses forcées de Bob (Alice a choisi 1 et Bob dit 2 initialement, par exemple) ; dans la forme extensive canonique d’un jeu en forme normale, il n’y a qu’un seul sous-jeu, le jeu lui-meme.</p>
<h2 id="56-forme-séquence-pour-les-jeux-à-information-imparfaite"><a class="markdownIt-Anchor" href="#56-forme-séquence-pour-les-jeux-à-information-imparfaite"></a> 5.6 Forme séquence pour les jeux à information imparfaite</h2>
<ul>
<li>在一般情况下，从 jeu sous forme extensive中重新计算forme normale有一个指数级的成本。</li>
<li>Forme séquence允许直接从jeu sous forme extensive中通过一个几乎是线性的约束系统来制定纳什均衡的存在</li>
<li>限制条件的数量与信息集的数量呈线性关系</li>
<li>Lemke的算法（不是Howson的算法）在指数时间内解决了这个约束系统。</li>
<li>对于严格竞争的游戏（或安全策略），约束条件是线性的，系统可以通过线性编程在多项式时间内得到解决。</li>
</ul>
<h2 id="57-exercice"><a class="markdownIt-Anchor" href="#57-exercice"></a> 5.7 Exercice</h2>
<ol>
<li>
<p>Le problème de Monty Hall. Alice participe à un jeu télévisé. L’animateur, Monty, lui présente trois portes fermées. Derrière deux d’entre-elles se trouve une chèvre, et derrière la troisième une voiture (on suppose qu’Alice préfère la voiture). Alice doit choisir une porte, puis avant de l’ouvrir Monty en ouvre une autre. Il sait où se trouve la voiture et n’ouvre ni la porte choisie par Alice, ni celle menant à la voiture. Alice a ensuite la possibilité de confirmer son choix initial ou de changer de porte. Enfin la porte choisie est ouverte et les gains distribués. On suppose que l’utilité de Monty est opposée à celle d’Alice.</p>
<ol>
<li>
<p>Modéliser ce jeu sous forme extensive. On pourra ne développer que le cas où Alice choisit la porte du milieu, les autres étant symétriques.</p>
<hr />
<hr />
</li>
<li>
<p>Trouver les équilibres de Nash dans ce jeu.</p>
<hr />
<hr />
</li>
</ol>
</li>
<li>
<p>Poker de Von Neumann simplifié [1]. Alice et Bob jouent au poker avec un jeu de trois cartes : valet, dame, roi de cœur. Le jeu se déroule ainsi :</p>
<ul>
<li>Le paquet est mélangé[混合的] puis Alice reçoit la première carte, et Bob la seconde.</li>
<li>Alice et Bob misent alors 1 chacun.</li>
<li>Alice peut surenchérir (raise), ajouter 1 à la mise) ou passer (check</li>
<li>Puis Bob peut ou abandonner (fold) ou, soit passer si Alice a passé, soit égaliser (call, ajouter 1 à sa mise aussi) si elle a surenchéri</li>
<li>si Bob n’abandonne pas, on révèle les deux cartes et le joueur avec la meilleure carte emporte la mise totale. Si Bob abandonne, c’est Alice qui emporte la mise totale sans que les cartes soient révélées.</li>
</ul>
<p>Modéliser ce jeu sous forme extensive et trouver l’unique équilibre de Nash. Notons que si Alice passe, Bob n’a jamais intérêt à abandonner donc on peut supposer que le jeu s’arrête tout de suite et les cartes sont révélées.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230118/yabfe3450d6651b9e78615037e38f40cc.5zozi9oy2dk0.jpg" alt="yabfe3450d6651b9e78615037e38f40cc" /></p>
<ol>
<li>
<p>Alice joue check avec proba p</p>
<p>gain de Bob pour fold: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>6</mn></mfrac><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo>−</mo><mn>1</mn><mo>−</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mi>p</mi><mo>∗</mo><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∗</mo><mn>2</mn><mo>+</mo><mi>p</mi><mo>∗</mo><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac16(-1-1-1+1+p*1+(1-p)*2+p*1+(1-p)*(-1))=\frac{p-1}6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.242216em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.897216em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>gain de Bob pour fold: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>6</mn></mfrac><mo stretchy="false">(</mo><mo>−</mo><mn>2</mn><mo>−</mo><mn>1</mn><mo>−</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mi>p</mi><mo>∗</mo><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∗</mo><mn>2</mn><mo>+</mo><mi>p</mi><mo>∗</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∗</mo><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><mn>2</mn><mi>p</mi></mrow><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac16(-2-1-1+1+p*1+(1-p)*2+p*1+2*(1-p)*=\frac{1-2p}6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.6597200000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mord">∗</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.242216em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.897216em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>==&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>−</mo><mn>1</mn><mo>=</mo><mn>1</mn><mo>−</mo><mn>2</mn><mi>p</mi><mo separator="true">,</mo><mi>p</mi><mo>=</mo><mfrac><mn>2</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">p-1=1-2p,p=\frac23</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
</li>
<li>
<p>Bob joue fold avec proba q</p>
<p>同理：q=2/3</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>博弈论</category>
      </categories>
  </entry>
  <entry>
    <title>戛纳动机信</title>
    <url>/2022/05/20/%E6%88%9B%E7%BA%B3%E5%8A%A8%E6%9C%BA%E4%BF%A1-1/</url>
    <content><![CDATA[<p>Cannes!!!</p>
<span id="more"></span>
<h2 id="开头"><a class="markdownIt-Anchor" href="#开头"></a> 开头</h2>
<p>Je suis une étudiante en double diplôme à l’Ecole Centrale de Nantes, en vue d’obtenir un diplôme d’ingénieur. Je suis très intéressé par le projet “Trois jours à Cannes” et j’aimerais partager avec vous ma principale motivation.</p>
<h2 id="喜欢电影"><a class="markdownIt-Anchor" href="#喜欢电影"></a> 喜欢电影</h2>
<p>J’ai 22 ans et je viens d’une petite ville de Chengdu, une province centrale de Chine. Influencé par mes parents, j’aime regarder des films depuis que je suis enfant. Je suis particulièrement reconnaissant aux films de m’avoir fait découvrir un monde après l’autre pendant mon enfance. Je me souviens du choc que j’ai ressenti en regardant <em>Harry Potter</em> pour la première fois quand j’étais enfant, et je n’ai pas pu me calmer longtemps après. Jouer au Quidditch avec Ron dans mes rêves, m’allonger sur le balcon en attendant ma lettre d’acceptation à Poudlard, lutter pour trouver le quai 9 et 3/4 en prenant le train. Je me souviens aussi d’avoir regardé <em>Les Chroniques de Narnia</em> et d’avoir joué à cache-cache avec mes amis pour ensuite me cacher dans l’armoire, désireuse de s’embarquer dans une aventure où il faut aussi faire preuve de courage. Il n’est pas exagéré de dire que les films ont construit mon enfance.</p>
<p>我今年22岁，来自中国中部省份成都的一个小镇。受父母影响，我从小便喜欢看电影。我特别感谢电影给我童年带我走进了一个又一个的世界。我记得我小时候第一次看哈利波特时的震撼，看完以后久久不能平静。在梦里和罗恩打魁地奇，趴在阳台等霍格沃兹的录取通知书，在乘坐火车时努力的寻找9又3/4站台。我也记得我看完纳尼亚传奇后，从此和朋友玩捉迷藏只躲在衣柜，渴望也能开启一段关于勇气的冒险。毫不夸张的讲，电影构建了我的童年。</p>
<p>Lorsque je suis entré dans l’enseignement secondaire, les films n’étaient jamais absents non plus. Je me souviens d’un cours de musique où le professeur de musique nous a montré un extrait de <em>Les choristes</em>, et depuis lors, les films français, ou plutôt la France, ont commencé à entrer dans mon univers. Après avoir regardé <em>Le fabuleux destin d’Amélie Poulain</em>, j’ai été captivé par la romance créée par le film et en même temps déterminé à faire l’expérience du pays et de la culture française par moi-même pendant mes années d’université. Mais je dois admettre que lorsque j’étais jeune, j’étais immature et j’avais une vision unilatérale du monde, mais ces films sur différents sujets m’ont énormément aidé à construire un système de pensée selon lequel le monde est divers, la beauté est diverse et la vie est diverse, et ces films ont façonné ma tolérance.</p>
<p>升入中学后，电影也从未缺席。还记得那时一节音乐课，音乐老师给我们放了放牛班的春天选段，自此法国电影或者说法国开始进入我的世界。在看完天使爱美丽后，我被电影创造出的浪漫所深深吸引，同时坚定了自己要在大学期间亲历这片土地和法国文化。但我不得不承认，年轻时我的思想并不成熟，看世界的角度也很片面，但这些不同题材的电影给我带来了巨大的帮助，让我建立了一个世界是多元的、美是多元的、生活是多元的思维体系，这些电影塑造了我的宽容。</p>
<p>Le célèbre réalisateur français, Abel Gance a dit : “Ce n’est pas l’image qui fait le film, c’est l’âme de l’image”. Je me rappelle encore comment je me suis sentie chez moi cet après-midi de 2020, lorsque j’ai fini de regarder Le grand bleu de Luc Paul Maurice Besson. La scène où Jean-marc regarde tendrement son amant puis se retourne et se jette dans les bras de la mer est gravée dans mon esprit. Peut-être que les gens viennent au monde avec un but, la vie n’est 1/2 qu’un processus, et suivre son cœur au maximum est aussi une façon de vivre. Jean-marc est né seul et ne pouvait pas combler sa solitude dans la foule, préférant se plonger dans l’obscurité de la mer pour profiter d’un moment de paix.</p>
<p>法国著名导演阿贝尔-甘斯说：“拍摄电影的不是影像，而是影像的灵魂”。我仍然记得2020年的那个下午，当我看完吕克-保罗-莫里斯-贝松的《Le grand bleu》时，我在家里的感觉。让-马克温柔地看着他的爱人，然后转身投入大海的怀抱，这一幕深深地刻在我的脑海里。也许人们来到这个世界上是有目的的，生活是1/2个过程，充分跟随自己的心也是一种生活方式。让-马克生来孤独，在人群中无法填补他的孤独，他宁愿将自己沉浸在黑暗的大海中，享受片刻的宁静。</p>
<h2 id="想来戛纳"><a class="markdownIt-Anchor" href="#想来戛纳"></a> 想来戛纳</h2>
<p>J’ai travaillé dur et j’ai pu poursuivre mes études en France comme je le souhaitais, les mots ne peuvent décrire mon excitation lorsque j’ai appris que j’aurais peut-être l’occasion d’aller au Festival du film de Cannes et de voir les meilleurs films du monde entier dans cette belle ville du sud, par une belle journée de mai. Le Festival de Cannes est pour moi un sanctuaire pour le pèlerinage des fidèles, un trésor si beau et si désirable pour les gourmands qui le cherchent tant. Mais aussi comme un bon ami, si familier, qui m’a rencontré dans mes rêves à travers d’innombrables films. C’est peut-être notre seule chance de nous rencontrer dans cette vie. Je pense que je n’oublierai jamais cette rencontre avec le Festival de Cannes et que ce sera l’une des expériences les plus importantes de ma vie. C’est pourquoi je demande au comité de me donner la possibilité de réaliser mon rêve de raconter mon histoire d’été à Cannes. Je vous en serais très reconnaissant.</p>
<p>现在我通过努力，如愿在法国开启我的学习生活，当我得知我可能有机会去参加戛纳电影节，在这个美丽的南方城市看到来自世界各地的最佳影片时，我的兴奋之情难以言表。戛纳电影节对我来说是一个供信徒朝圣的圣地，是一个如此美丽、如此令人向往的宝藏，让那些追求它的饕餮之徒欲罢不能。但也像一个好朋友，如此熟悉，通过无数的电影在梦中与我相遇。这可能是我们今生唯一的见面机会。我想我永远不会忘记这次与戛纳电影节的会面，这将是我人生中最重要的经历之一。这就是为什么我请求委员会给我机会实现我的梦想，在戛纳讲述我的夏季故事。我将非常感激。</p>
<h2 id="结尾"><a class="markdownIt-Anchor" href="#结尾"></a> 结尾</h2>
<p>Veuillez agréer, Mesdames, Messieurs, l’expression de ma considération distinguée.</p>
<p>Li NI</p>
]]></content>
      <categories>
        <category>生活区</category>
      </categories>
  </entry>
  <entry>
    <title>那些细碎而美好的存在</title>
    <url>/2022/02/01/%E7%BB%86%E7%A2%8E%E8%80%8C%E7%BE%8E%E5%A5%BD/</url>
    <content><![CDATA[<h1 id="序"><a class="markdownIt-Anchor" href="#序"></a> 序</h1>
<p>一个持续更新的日常记录</p>
<span id="more"></span>
<h1 id="2022_2_1"><a class="markdownIt-Anchor" href="#2022_2_1"></a> 2022_2_1</h1>
<p>我画画真好看，嘿嘿</p>
<center>
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220201221611.webp"height="250"width="250">
</center>
<h1 id="2022_2_2"><a class="markdownIt-Anchor" href="#2022_2_2"></a> 2022_2_2</h1>
<p>-经过一天的讨论，滑雪假兜兜转转起起伏伏，最终成为了和学长一起的法国自驾游（开心期待</p>
<p>-希望快点长大到可以开着车向着随机方向选择随机地点随机停留的那天</p>
<p>-莫名其妙的去测了MBTI，第三次了吧，真的好神奇，还是INFJ，从高考填志愿到大一再到今天。</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220202235702.webp"height="250"width="450">    </div>
<h1 id="2022_2_3"><a class="markdownIt-Anchor" href="#2022_2_3"></a> 2022_2_3</h1>
<p>安然给的国家爸爸发的大白兔，四舍五入我也收到大使馆的春节礼物啦</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207223907.webp"height="250"width="450">    </div>
<h1 id="2022_2_4"><a class="markdownIt-Anchor" href="#2022_2_4"></a> 2022_2_4</h1>
<p>很难不记录</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220204154934.webp">    </div>
<h1 id="2022_2_7"><a class="markdownIt-Anchor" href="#2022_2_7"></a> 2022_2_7</h1>
<p>周六周末没有学习，可恶</p>
<p>看到一个好有意思的财神爷饭，周五做给大家吃，期待复刻，嘿嘿</p>
<h1 id="2022_2_9"><a class="markdownIt-Anchor" href="#2022_2_9"></a> 2022_2_9</h1>
<p>关于财神饭的复刻,成功!</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220207223313.webp"height="250"width="250">    </div>
<h1 id="2022_2_10"><a class="markdownIt-Anchor" href="#2022_2_10"></a> 2022_2_10</h1>
<p>抓住摸鱼的zwl子</p>
<div align="center">
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220211192132.webp"height="250"width="350">    </div>
<h1 id="2022_2_11"><a class="markdownIt-Anchor" href="#2022_2_11"></a> 2022_2_11</h1>
<p>摸了一个谷爱凌</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220213210356.webp"height="200"width="300">
    </div>
<h1 id="2022_2_12"><a class="markdownIt-Anchor" href="#2022_2_12"></a> 2022_2_12</h1>
<p>旅行途中遇到的可可爱爱的善意</p>
<div align="center">   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220213210228.webp" alt="img"  height="250"width="350">    </div>
<h1 id="2022_2_14"><a class="markdownIt-Anchor" href="#2022_2_14"></a> 2022_2_14</h1>
<p>记录我的意外好吃的番茄牛奶辣椒粥</p>
<div align="center">
    <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220213210423.webp" height="250"width="250">
    </div>
<h1 id="2022_2_21"><a class="markdownIt-Anchor" href="#2022_2_21"></a> 2022_2_21</h1>
<p>春天来了</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220307224454.webp" alt="img" style="zoom:50%;" />
<h1 id="2022_3_4"><a class="markdownIt-Anchor" href="#2022_3_4"></a> 2022_3_4</h1>
<p>可以做梦不补考吗(靓女流泪</p>
<h1 id="2022_3_7"><a class="markdownIt-Anchor" href="#2022_3_7"></a> 2022_3_7</h1>
<p>好好听</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220307224135.webp" alt="img"  />
<h1 id="2022_8_8"><a class="markdownIt-Anchor" href="#2022_8_8"></a> 2022_8_8</h1>
<p>突然更新</p>
<p>和学长们告别</p>
<p>和贺文城告别</p>
<p>不喜欢告别</p>
<div align="center">
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya6ef732833b08aabad90f5faa78b7f94.4q74w6pd3ri0.jpg" alt="ya6ef732833b08aabad90f5faa78b7f94"  height="250"width="350"/>   </div>       
<h1 id="2022_8_20"><a class="markdownIt-Anchor" href="#2022_8_20"></a> 2022_8_20</h1>
<p>想记录遇见的可爱的人们的那些陌生的善意。</p>
<p>去罗卡角火车上疯狂葡萄牙语输出的阿姨</p>
<p>一直说着CHINA和FRIENDSHIP大概是巴基斯坦的里斯本纪念品店老板</p>
<p>巴塞罗那机场把叫住我们的爷爷奶奶</p>
<p>领着我们走到地铁站的伏林航空的空姐</p>
<p>去往圣家堂小路上因为给窗台上的猫猫打了招呼，抱起了第二只猫猫向我们挥手的叔叔</p>
<p>酷酷又温柔的音乐人房东的香香的洗衣液</p>
<p>热情良善家庭美满的司机师傅</p>
<p>我想记住这些</p>
<p>宇宙温暖，人间也值得</p>
<div align="center">
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya5ca090ab477812df84b7fd6d314b256.65uj352wt5s0.jpg"height="250"width="350"/>   </div>   
<h1 id="2022_8_22"><a class="markdownIt-Anchor" href="#2022_8_22"></a> 2022_8_22</h1>
<p>千山茶客的女将星好好看！</p>
<p>又哭又笑的看了一整个通宵</p>
<p>肖钰：“凉州城外，有一处峰台，名曰乘风。这些女子生前身不由己，笼鸟池鱼。葬在此处，愿她们来生自由乘风，啸傲湖山吧。”</p>
<p>宴宴：&quot;手中执剑之人，更应该明白剑锋所指何处，是对着身前的人，还是身后的弱者。 我绝不向弱者拔剑。 手中执剑之人，更应该明白剑锋所指何处，是对着身前的敌人，还是身后的弱者。&quot;故在生死间救下女俘虏，提着剑挡在她们面前。“……你若让那些女子也如我一般，见过凉州卫的雪，见过济阳城的水，见过大漠长月，见过江海山川，你说，她们还会不会甘心困在争风吃醋的宅院，还会不会沾沾自喜，麻木愚昧？……因为他们也知道，一旦女子们有了‘选择’的机会，是决计不肯成为后宅里一位伸手等着夫君喂养的花瓶的。那些优秀的女子，会成为将领，成为侠客，成为文士，成为幕僚，与他们争夺天下间的风采，而他们，未必能赢。”</p>
<p>如同背着大刀跨过洗墨江，劈开黑暗的周翡</p>
<p>我真的永远喜欢和敬佩这些女孩，也愿意相信贤昌馆少年郎们真的存在过。</p>
<h1 id="2022_8_27"><a class="markdownIt-Anchor" href="#2022_8_27"></a> 2022_8_27</h1>
<p>微博看到的句子</p>
<p>“为什么开学要庆祝”</p>
<p>“庆祝有学上，有书读，有知识，有成长，有前途，有未来”</p>
<p>突然也就没有那么怕了</p>
<div align="center">
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.1ur13dnktcxs.png"height="450"width="350"/>   </div>   
<h1 id="2022_8_29"><a class="markdownIt-Anchor" href="#2022_8_29"></a> 2022_8_29</h1>
<p>救命好久好久好久没有这么撑过了</p>
<div align="center">
   <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya9753d36992c9d32c11aab021290c5ab.4vvuc14s3m00.jpg" height="450" width="210"/>   </div>   
# 2022_11_12
<p>第一学期结束啦</p>
<p>挂与不挂都是3月份担心的事啦</p>
]]></content>
      <categories>
        <category>生活区</category>
        <category>杂谈</category>
      </categories>
  </entry>
  <entry>
    <title>排序算法(一)</title>
    <url>/2022/05/20/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95(%E4%B8%80)/</url>
    <content><![CDATA[<h1 id="排序算法"><a class="markdownIt-Anchor" href="#排序算法"></a> 排序算法</h1>
<p>浅学排序[基于对大一数据结构的整理]</p>
<span id="more"></span>
<h2 id="3种tn-on2的基本排序"><a class="markdownIt-Anchor" href="#3种tn-on2的基本排序"></a> 3种<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n) = O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的基本排序</h2>
<h3 id="选择排序"><a class="markdownIt-Anchor" href="#选择排序"></a> 选择排序</h3>
<p>找最大/最小与头或尾交换</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SelSort</span><span class="params">(<span class="type">int</span> R[],<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=n<span class="number">-2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        m = i;</span><br><span class="line">        <span class="keyword">for</span>(j=i;j&lt;n;j++)<span class="comment">//找最值</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(R[j]&lt;R[m]) m = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(m != i) <span class="built_in">swap</span>(R[i],R[m])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//递归实现</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SelSort</span><span class="params">(<span class="type">int</span> R[],<span class="type">int</span> n,<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &gt; n<span class="number">-2</span>) <span class="keyword">return</span> ;</span><br><span class="line"> 	m = i;</span><br><span class="line">    <span class="keyword">for</span>(j=i;j&lt;n;j++)<span class="comment">//找最值</span></span><br><span class="line">     	<span class="keyword">if</span>(R[j]&lt;R[m]) m = j;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">if</span>(m != i) <span class="built_in">swap</span>(R[i],R[m])   </span><br><span class="line">     <span class="built_in">SelSort</span>(R,n,i+<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="插入排序"><a class="markdownIt-Anchor" href="#插入排序"></a> 插入排序</h3>
<p>1.教案版</p>
<p>算法描述：</p>
<p>排第i个时用j去找位置，找到位置后插入并使别的元素移动。每次循环完前i个数按升序排列</p>
<p>算法实现</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertSort</span><span class="params">(ElemTp R[],<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span> ; i &lt; n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;i &amp;&amp; R[j].valeur &lt;= R[i].valeur)</span><br><span class="line">            j++; </span><br><span class="line">        <span class="comment">//把R[i]插入到位置R[j]左边</span></span><br><span class="line">        <span class="comment">//这里用的是vector的insert函数，有后移操作，复杂度为O(n) </span></span><br><span class="line">         R.<span class="built_in">insert</span>(R.<span class="built_in">begin</span>()+j,R[i]);</span><br><span class="line">  		 R.<span class="built_in">erase</span>(R.<span class="built_in">begin</span>()+i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度为O(n^2)</p>
<p>2.网上看到的</p>
<p>//从后往前，查找的时候就进行后移操作</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertion_sort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;len;i++)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="type">int</span> key=arr[i];</span><br><span class="line">                <span class="type">int</span> j=i<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">while</span>((j&gt;=<span class="number">0</span>) &amp;&amp; (key&lt;arr[j]))&#123;</span><br><span class="line">                        arr[j+<span class="number">1</span>]=arr[j];</span><br><span class="line">                        j--;</span><br><span class="line">                &#125;</span><br><span class="line">                arr[j+<span class="number">1</span>]=key;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="冒泡排序"><a class="markdownIt-Anchor" href="#冒泡排序"></a> 冒泡排序</h2>
<p>每次循环进行两两比较和交换，第i次循环结束，第i大（小）的数排序完成。</p>
<p>算法实现</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flag=<span class="number">0</span>；</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;k;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                </span><br><span class="line">                flag = <span class="number">1</span>；</span><br><span class="line">                pos = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        k = pos;   </span><br><span class="line">        <span class="keyword">if</span>(!flag) <span class="keyword">return</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度为O(n^2)</p>
<p>冒泡排序的优化：</p>
<ol>
<li>加入flag判断当前是否已经排序完成。</li>
<li>加入记录上次循环发生交换的最后位置pos,说明后(或者前)pos个是已经排好了，下次循环只需比到k即可</li>
</ol>
<h2 id="希尔排序"><a class="markdownIt-Anchor" href="#希尔排序"></a> 希尔排序</h2>
<p>将待排序列分割成子序列[序号相同的是一个子序列]，对子序列进行插入排序，当增量为1时，排序完成。</p>
<p>例子：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/ya20220331003031.webp" alt="img" /></p>
<p>一般来讲增量序列的size是3或者4//循环次数</p>
<p>代码实现：</p>
<p>1.赵宏宇版</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">shell_sort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; arr[],vector&lt;<span class="type">int</span>&gt; d[])</span><span class="comment">//d里面存增量序列</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;d.size;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;d[i];j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//进行插入排序,从后边查边移,真难看，(bushi</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = j+d[i];k&lt;arr.size;k+=d[i])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> temp = arr[k];</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> t = k-d[i]; t&gt;=j &amp;&amp; arr[t]&gt;arr[j];t-=d[i])</span><br><span class="line">                    arr[t+d[i]] = arr[t];</span><br><span class="line">                arr[t+d[i]]=temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.网络版</p>
<p>排两次，增量序列为(4,1)</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">shell_sort</span><span class="params">(T array[], <span class="type">int</span> length)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> h = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//[就是说，length为2和3是直接插入排就行了]</span></span><br><span class="line">    <span class="keyword">while</span> (h &lt; length / <span class="number">3</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        h = <span class="number">3</span> * h + <span class="number">1</span>;<span class="comment">//增量序列为(4,1)</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//增量序列为1是排序完成</span></span><br><span class="line">    <span class="keyword">while</span> (h &gt;= <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//插入排序，对array[0,h]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h; i &lt; length; i++) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i; j &gt;= h &amp;&amp; array[j] &lt; array[j - h]; j -= h)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">swap</span>(array[j], array[j - h]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//减小增量序列</span></span><br><span class="line">        h = h / <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度分析</p>
<p>增量为2时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>1.5</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n) = O(n^{1.5})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>n在某个特定范围内，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>1.3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n) = O(n^{1.3})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>n趋于无穷时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n) = O(n(log_2n)^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<h2 id="快排"><a class="markdownIt-Anchor" href="#快排"></a> 快排</h2>
<p>找支点，比支点小的放左边，比支点大的放右边。对放左边，放右边的子序列执行同样的操作。直到不能拆分出子序列为止</p>
<p>比支点小的放左边，比支点大的放右边的实现：一个i从头到尾，一个j从尾到头，j遍历到小于支点的位置停下，然后i遍历到大于支点的位置停下，交换。然后重复先j然后i，直到i=j,将基准数与i交换</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quicksort</span><span class="params">(<span class="type">int</span> left,<span class="type">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i,j,t,temp;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;right) <span class="keyword">return</span>; <span class="comment">//排序完成</span></span><br><span class="line">    temp = a[left]<span class="comment">//支点</span></span><br><span class="line">    i = left; j = right;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(i != j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(a[j] &gt;= temp &amp;&amp; i &lt; j) j--</span><br><span class="line">        <span class="keyword">while</span>(a[i] &gt;= temp &amp;&amp; i &lt; j) i++</span><br><span class="line">        <span class="keyword">if</span>(i&lt;j) <span class="built_in">swap</span>(a[i],a[j])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//支点归位</span></span><br><span class="line">    <span class="built_in">swap</span>(a[left],a[i])</span><br><span class="line">   <span class="comment">//递归</span></span><br><span class="line">   <span class="built_in">quicksort</span>(left,i<span class="number">-1</span>)</span><br><span class="line">   <span class="built_in">quicksort</span>(i+<span class="number">1</span>,right)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<h2 id="堆排序"><a class="markdownIt-Anchor" href="#堆排序"></a> 堆排序</h2>
<h3 id="什么是堆"><a class="markdownIt-Anchor" href="#什么是堆"></a> 什么是堆</h3>
<p>n个元素组成的序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>R</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>R</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{R_0,R_1,...,R_{n-1}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>时,但满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>K</mi><mo>&gt;</mo><mo>=</mo><msub><mi>R</mi><mrow><mn>2</mn><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">.</mi><mi>K</mi><mtext> </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext> </mtext><msub><mi>R</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>K</mi><mo>&gt;</mo><mo>=</mo><msub><mi>R</mi><mrow><mn>2</mn><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">R_i.K &gt;= R_{2i+1}.K \ and\  R_i.K &gt;= R_{2i+2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace"> </span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>时该序列就是堆[或者同时小于]</p>
<p>存储结构是一维数组，逻辑结构是完全二叉树[插入顺序必须为从上到下从左到右]</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/yaimage.3a5yfy6v3a20.png" alt="yaimage" /></p>
<p>大根堆就是每个父节点都比子节点要大，小根堆同理</p>
<p>下标为i的节点的父节点：(i-1)/2,子节点2i+1和2i+2</p>
<p>堆性质的维护</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapify</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len, <span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> largest = i;</span><br><span class="line">    <span class="type">int</span> lson = i * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> rson = i * <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lson &lt; len &amp;&amp; arr[largest] &lt; arr[lson])</span><br><span class="line">        largest = lson;</span><br><span class="line">    <span class="keyword">if</span> (rson &lt; len &amp;&amp; arr[largest] &lt; arr[rson])</span><br><span class="line">        largest = rson;</span><br><span class="line">    <span class="keyword">if</span> (largest != i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(&amp;arr[largest], &amp;arr[i]);</span><br><span class="line">        <span class="built_in">heapify</span>(arr, len, largest);<span class="comment">//递归维护剩余位置，注意这里的largest是交换后的那个位置</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="算法"><a class="markdownIt-Anchor" href="#算法"></a> 算法</h3>
<p>基本思想：建堆。堆顶与最后一个元素交换，它就是最大了的，然后维护剩余元素的性质。然后循环。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">heap_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">// 建堆</span></span><br><span class="line">    <span class="keyword">for</span> (i = len / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="built_in">heapify</span>(arr, len, i);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 排序</span></span><br><span class="line">    <span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(&amp;arr[i], &amp;arr[<span class="number">0</span>]);<span class="comment">//堆顶与最后一个元素交换</span></span><br><span class="line">        <span class="built_in">heapify</span>(arr, i, <span class="number">0</span>);<span class="comment">//维护剩余元素</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<h2 id="归并排序"><a class="markdownIt-Anchor" href="#归并排序"></a> 归并排序</h2>
<p>二分到子序列只有一个元素位置。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 合并</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> tempArr[], <span class="type">int</span> left, <span class="type">int</span> mid, <span class="type">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> l_pos = left; <span class="comment">// 标记左半区第一个未排序的元素</span></span><br><span class="line">    <span class="type">int</span> r_pos = mid + <span class="number">1</span>;<span class="comment">// 标记右半区第一个未排序的元素</span></span><br><span class="line">    <span class="type">int</span> pos = left;<span class="comment">// 临时数组元素的下标</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//合并</span></span><br><span class="line">    <span class="keyword">while</span> (l_pos &lt;= mid &amp;&amp; r_pos &lt;= right)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[l_pos] &lt; arr[r_pos])<span class="comment">// 左半区第一个剩余元素更小</span></span><br><span class="line">            tempArr[pos++] = arr[l_pos++];</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// 右半区第一个剩余元素更小</span></span><br><span class="line">            tempArr[pos++] = arr[r_pos++];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 合并左半区剩余的元素</span></span><br><span class="line">    <span class="keyword">while</span> (l_pos &lt;= mid) tempArr[pos++] = arr[l_pos++];</span><br><span class="line">    <span class="comment">// 合并右半区剩余的元素</span></span><br><span class="line">    <span class="keyword">while</span> (r_pos &lt;= right) tempArr[pos++] = arr[r_pos++];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 把临时数组中合并后的元素复制回原来的数组</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right)</span><br><span class="line">    &#123;</span><br><span class="line">        arr[left] = tempArr[left];</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 归并排序</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">msort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> tempArr[], <span class="type">int</span> left, <span class="type">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &lt; right)<span class="comment">//只有一个元素不需要划分</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//找中间点进行划分</span></span><br><span class="line">        <span class="type">int</span> mid = (left + right) / <span class="number">2</span>; </span><br><span class="line">        <span class="built_in">msort</span>(arr, tempArr, left, mid);  </span><br><span class="line">        <span class="built_in">msort</span>(arr, tempArr, mid + <span class="number">1</span>, right);</span><br><span class="line">        <span class="comment">//合并已经排序的部分</span></span><br><span class="line">        <span class="built_in">merge</span>(arr, tempArr, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 归并排序入口</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 分配一个辅助数组</span></span><br><span class="line">    <span class="type">int</span> tempArr[n];</span><br><span class="line">    <span class="comment">// 调用实际的归并排序</span></span><br><span class="line">    <span class="built_in">msort</span>(arr, tempArr, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<h2 id="计数排序"><a class="markdownIt-Anchor" href="#计数排序"></a> 计数排序</h2>
<p>计数排序的核心在于将输入的数据值转化为键存储在额外开辟的数组空间中。作为一种线性时间复杂度的排序，计数排序要求输入的数据必须是有确定范围的整数。</p>
<p>步骤如下：</p>
<ol>
<li>找出待排序的数组中最大和最小的元素</li>
<li>统计数组中每个值为i的元素出现的次数，存入数组C的第i项</li>
<li>把这个新的数组还原回去就可以了</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">countingSort</span>(<span class="params">arr,maxValue</span>):</span><br><span class="line">	bucketLen = maxValue+<span class="number">1</span></span><br><span class="line">    bucket = [<span class="number">0</span>]*bucketLen</span><br><span class="line">    sortedIndex =<span class="number">0</span></span><br><span class="line">    arrLen = <span class="built_in">len</span>(arr)</span><br><span class="line">    <span class="comment">#计算频率</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(arrLen):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> bucket[arr[i]]:</span><br><span class="line">            bucket[arr[i]]=<span class="number">0</span></span><br><span class="line">        bucket[arr[i]]+=<span class="number">1</span></span><br><span class="line">    <span class="comment">#把它还原回去</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(bucketLen):</span><br><span class="line">        <span class="keyword">while</span> bucket[j]&gt;<span class="number">0</span>:</span><br><span class="line">            arr[sortedIndex] = j</span><br><span class="line">            sortedIndex+=<span class="number">1</span></span><br><span class="line">            bucket[j]-=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>
<p>适用于整数，但容易存在空间浪费</p>
<p>时间复杂度是: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></p>
<h2 id="基数排序"><a class="markdownIt-Anchor" href="#基数排序"></a> 基数排序</h2>
<p>基本思想在于：将整数按位数切割成不同数字，然后按照每个位数进行比较</p>
<ol>
<li>取得数组中的最大数，并取得位数；</li>
<li>对数位较短的数前面补零；</li>
<li>分配，先从个位开始，根据位值(0-9)分别放到0~9号桶中;</li>
<li>收集，再将放置在0~9号桶中的数据按顺序放到数组中;</li>
<li>重复3~4过程，直到最高位，即可完成排序。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">radix_sort</span>(<span class="params">arr:<span class="type">List</span>[<span class="built_in">int</span>]</span>):</span><br><span class="line">    n = <span class="built_in">len</span>(<span class="built_in">str</span>(<span class="built_in">max</span>(arr)))  <span class="comment">#记录最大值的位数</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(n):<span class="comment">#n轮排序</span></span><br><span class="line">        <span class="comment"># 每一轮生成10个列表</span></span><br><span class="line">        bucket_list=[[] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]<span class="comment">#因为每一位数字都是0~9，故建立10个桶</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="comment"># 按第k位放入到桶中</span></span><br><span class="line">            bucket_list[i//(<span class="number">10</span>**k)%<span class="number">10</span>].append(i)</span><br><span class="line">        <span class="comment"># 按当前桶的顺序重排列表</span></span><br><span class="line">        arr=[j <span class="keyword">for</span> i <span class="keyword">in</span> bucket_list <span class="keyword">for</span> j <span class="keyword">in</span> i]</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>
<p>时间复杂度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>r</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O((n+r)*k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> [n是待排序列的长度，k是最大数字的位数，十进制的基数r为10]</p>
<p>基数排序的本质是依据LSD排序准则的排序[关键字组排序]，关键操作是<strong>分配和收集</strong></p>
<ol>
<li>分配：按最低位关键字[个位，秒]将其排序[相同的放在一个桶]</li>
<li>收集: 得到的新序列按最低位关键字排好序了，同组的先取第一个加进去的</li>
</ol>
]]></content>
      <categories>
        <category>SWJTU</category>
        <category>ALGORITHM</category>
      </categories>
      <tags>
        <tag>排序</tag>
      </tags>
  </entry>
  <entry>
    <title>统计学习0_B站瞎学一点子</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_0_B%E7%AB%99%E5%90%AC%E7%9A%84/</url>
    <content><![CDATA[<p>b站: <a href="https://www.bilibili.com/video/BV1oD4y1s7af?p=11&amp;spm_id_from=pageDriver&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8">https://www.bilibili.com/video/BV1oD4y1s7af?p=11&amp;spm_id_from=pageDriver&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8</a></p>
<p>个人觉得不太好，好多地方不清楚，结构也有点子乱，当做科普看了一点</p>
<span id="more"></span>
<h2 id="chap2-统计学习及监督学习概论"><a class="markdownIt-Anchor" href="#chap2-统计学习及监督学习概论"></a> Chap2: 统计学习及监督学习概论</h2>
<h3 id="21-统计学习导论"><a class="markdownIt-Anchor" href="#21-统计学习导论"></a> 2.1 统计学习导论</h3>
<p>统计学习：关于计算机基于数据构建概率统计模型并运用模型对数据进行预测和分析的科学。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221204/yaimage.488pwx6ndei0.png" alt="yaimage" /></p>
<p>通过不断训练和拟合来得到a，b</p>
<p>VS机器学习：</p>
<ul>
<li>运用数据及统计方法提高系统性能的机器学习</li>
<li>统计学习x到y的产生过程已知[P(x，y)]，机器学习未知</li>
<li>统计学习的模型可解释性强于机器学习，预测效果弱于机器学习</li>
</ul>
<p>基本假设：同类数据具有一定的统计规律性，训练数据是独立同分布[指随机过程中，任何时刻的取值都为随机变量，如果这些随机变量服从同一分布，并且互相独立，那么这些随机变量是独立同分布]</p>
<p>统计学习的方法概括：</p>
<ol>
<li>从给定的、有限的、用于学习的训练数据集合出发，假设数据是独立同分布产生的</li>
<li>假设要学习的模型属于某个<mark>函数的集合</mark>，称为<mark>假设空间</mark></li>
<li>应用某个<mark>评价准则</mark>从假设空间选取一个最优模型，是对他已知的<mark>训练数据</mark>和未知的<mark>测试数据</mark>在给定标准下有最优的预测</li>
<li>最优模型的选取有算法实现</li>
</ol>
<p>统计学习三要素：模型[假设空间]，策略[模型选择的准则]，算法[模型学习的算法]</p>
<h3 id="22-统计学习分类"><a class="markdownIt-Anchor" href="#22-统计学习分类"></a> 2.2 统计学习分类</h3>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221204195940567.png" alt="image-20221204195940567" /></p>
<h4 id="监督学习"><a class="markdownIt-Anchor" href="#监督学习"></a> 监督学习</h4>
<p>从标注数据中学习预测模型的机器学习问题。标注数据表示输入输出的对应关系，预测模型对给定的输入产生相应的输出，监督学习的本质是学习输入到输出的映射的统计规律。</p>
<p>特征，特征向量和特征空间，输入变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>→</mo><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>x</mi><mi>i</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msubsup><mi>x</mi><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></msubsup><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo separator="true">,</mo><msubsup><mi>x</mi><mi>i</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mtext>表示第</mtext><mi>i</mi><mtext>个</mtext><mi>x</mi><mtext>的第</mtext><mi>k</mi><mtext>个特征</mtext></mrow><annotation encoding="application/x-tex">X=(x_1,x_2,...,x_n)\rightarrow x_i=(x_i^{(1)},x_i^{(2)},...,x_i^{(m)})^T,x_i^{(k)}表示第i个x的第k个特征</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.321664em;vertical-align:-0.27686399999999994em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">m</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">第</span><span class="mord mathnormal">i</span><span class="mord cjk_fallback">个</span><span class="mord mathnormal">x</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">第</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">特</span><span class="mord cjk_fallback">征</span></span></span></span></p>
<p>训练集通常表示为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">T={(x_1,y_1),(x_2,y_2),...,(x_n,y_n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>==&gt;一个粗暴的理解，可以把X看作一个二维矩阵[n*m]，一列代表一个实例，对应一个Y，因此自然，Y是一个n行的向量</p>
<p>测试数据也是输入输出对[样本sample]组成</p>
<p>输入输出为连续变量的预测问题称为回归问题，输出为有限个离散的变量称为分类问题。</p>
<p>监督学习的模型可以是生成模型：条件概率分布[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>N</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>a</mi><msub><mi>x</mi><mi>y</mi></msub><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mi>N</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y_{N+1}=arg max_yP(y|x_{N+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>]，朴素贝叶斯或隐马尔可夫；或者判别方法: 决策函数</p>
<h4 id="贝叶斯学习"><a class="markdownIt-Anchor" href="#贝叶斯学习"></a> 贝叶斯学习</h4>
<p>定义：利用贝叶斯定理[ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(B_i|A) = \frac {P(A|B_i)P(B_i)}{\sum^n_{j=1}P(A|B_i)P(B_j)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.677227em;vertical-align:-0.667227em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7046857142857144em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46032428571428574em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.667227em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, 在事件A发生的前提下，寻找导致A发生的各种原因<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">B_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，由结果找原因]，计算在数据条件下模型的条件概率[称为<strong>后验概率</strong>]，并用这个原理进行模型的估计，以及对数据的预测。</p>
<p>D表示数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>表示参数模型，用贝叶斯定理计算后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>θ</mi><mi mathvariant="normal">∣</mi><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>D</mi><mi mathvariant="normal">∣</mi><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\theta|D)=\frac {P(\theta)P(D|\theta)}{P(D)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>==&gt; P(D|<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>)是似然函数。取后验概率最大的模型。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221204/yaimage.63wwzg1q2y40.png" alt="yaimage" /></p>
<h3 id="23-统计学习方法三要素"><a class="markdownIt-Anchor" href="#23-统计学习方法三要素"></a> 2.3 统计学习方法三要素</h3>
<p>模型+策略[降低损失函数]+算法[如何降低损失函数：梯度下降啥的]</p>
<h4 id="模型"><a class="markdownIt-Anchor" href="#模型"></a> 模型</h4>
<p>监督学习中的模型–&gt;条件概率和决策函数</p>
<h4 id="损失函数"><a class="markdownIt-Anchor" href="#损失函数"></a> 损失函数</h4>
<ul>
<li>0-1，平方: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L(Y,f(X))=(Y-f(x))^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>，绝对，对数/对数是似然损失函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(Y,P(Y|X)) = -logP(Y|X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>==&gt;损失函数越小，模型越好。</li>
<li>损失函数的期望称为风险函数或期望损失<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mi>P</mi></msub><mo stretchy="false">[</mo><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mo>∫</mo><mi>L</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mi>d</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">R_{exp}(f)=E_P[L(Y,f(X))]=\int L(y,f(x))P(x,y)dxdy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，损失的平均值成为经验风险[empirical risk]或经验损失：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>e</mi><mi>m</mi><mi>p</mi></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{emp}(f)=\frac 1N\sum_{i=1}^NL(y_i,f(x_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li>
<li>根据大数定律，N趋于无穷时经验风险趋于期望风险</li>
</ul>
<h4 id="策略经验风险最小化与结构风险最小化"><a class="markdownIt-Anchor" href="#策略经验风险最小化与结构风险最小化"></a> 策略经验风险最小化与结构风险最小化</h4>
<p>经验风险最小化(ERM): <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>f</mi><mo>∈</mo><mi>F</mi></mrow></msub><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">min_{f\in F}\frac 1N\sum_{i=1}^NL(y_i,f(x_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>, 极大似然函数估计是ERM的例子（模型是条件概率分布，损失函数是对数损失函数）。证明见下图：</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221204210023294.png" alt="image-20221204210023294" /></p>
<p>结构风险最小化(SRM)</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>λ</mi><mi>J</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac 1N\sum_{i=1}^NL(y_i,f(x_i))+\lambda J(f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>为了防止过拟合提出的策略，等价于正则化</p>
</li>
<li>
<p>经验风险上+表示模型复杂度的正则化项(regularizer)或者惩罚项(penaltyterm): <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mi>J</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda J(f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mtext>一般取</mtext><mn>10</mn><mi>e</mi><mo>−</mo><mn>4</mn><mtext>到</mtext><mn>10</mn><mi>e</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda 一般取10e-4到10e-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">λ</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">般</span><span class="mord cjk_fallback">取</span><span class="mord">1</span><span class="mord">0</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mord cjk_fallback">到</span><span class="mord">1</span><span class="mord">0</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span>表示复杂度，=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mi>λ</mi><mi>P</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-\lambda P(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord mathnormal">λ</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></li>
<li>正则化项对应模型的先验概率，复杂模型的先验概率小，简单的大</li>
</ul>
</li>
<li>
<p>贝叶斯的最大后验概率估计是SRM的实例（模型是条件概率分布，损失函数是对数损失函数，模型复杂度由模型的先验概率表示）</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221204211739275.png" alt="image-20221204211739275" /></p>
</li>
</ul>
<h3 id="24-模型评估与选择"><a class="markdownIt-Anchor" href="#24-模型评估与选择"></a> 2.4 模型评估与选择</h3>
<p>将数据分为训练集和测试集，测试集拿去评估模型然后选择</p>
<h4 id="241-训练误差与测试误差"><a class="markdownIt-Anchor" href="#241-训练误差与测试误差"></a> 2.4.1 训练误差与测试误差</h4>
<p>训练误差：模型关于训练数据集的平均损失，反应问题是否容易学习</p>
<p>测试误差：模型关于测试数据集的平均损失，反应学习方法的预测能力，称为泛化能力[generalization ability]</p>
<p>训练和测试所用的损失函数不一定一致(但一般是一样的</p>
<h4 id="242-过拟合与模型选择"><a class="markdownIt-Anchor" href="#242-过拟合与模型选择"></a> 2.4.2 过拟合与模型选择</h4>
<p>过拟合：训练误差小，测试误差高。一般是因为模型的参数比真实的更高。==&gt;所选模型与真实模型的参数个数相同，参数向量与真实向量相近</p>
<h3 id="25-正则化与交叉验证"><a class="markdownIt-Anchor" href="#25-正则化与交叉验证"></a> 2.5 正则化与交叉验证</h3>
<h4 id="251-正则化"><a class="markdownIt-Anchor" href="#251-正则化"></a> 2.5.1 正则化</h4>
<p>正则化项可以取不同形式。在回归问题中，损失函数是平方损失，正则化项/惩罚项可以是参数向量的L2范数==&gt;ridge回归[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{\sum_{i=1}^nx_i^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.302709em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.937291em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959080000000001em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.897291em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.302709em;"><span></span></span></span></span></span></span></span></span>]：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">;</mo><mi>w</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mfrac><mi>λ</mi><mn>2</mn></mfrac><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>w</mi><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L(w)=\frac 1N\sum_{i=1}^N(f(x_i;w)-y_i)^2+\frac \lambda 2 ||w||^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>,</p>
<p>或者L1范数==&gt;lasso回归[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\sum|x_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span>]：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">;</mo><mi>w</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mfrac><mi>λ</mi><mn>2</mn></mfrac><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>w</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">L(w)=\frac 1N\sum_{i=1}^N(f(x_i;w)-y_i)^2+\frac \lambda 2 ||w||_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>是机器学习中应对过拟合的有效方法，可以让越不相关的参数越趋于0</p>
<p>惩罚系数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\lambda /2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mord">/</span><span class="mord">2</span></span></span></span>的选择方法：网格搜寻？</p>
<h4 id="252-交叉验证"><a class="markdownIt-Anchor" href="#252-交叉验证"></a> 2.5.2 交叉验证</h4>
<p>把数据集分为训练集，验证集，测试集3部分。验证集用于选择模型的惩罚系数。</p>
<h2 id="chap3-感知机perceptron"><a class="markdownIt-Anchor" href="#chap3-感知机perceptron"></a> CHAP3: 感知机(perceptron)</h2>
<p>二类分类的线性分类模型：输出为1/-1。将实例划分为正负两类的分离超平面。分为原始形式和对偶模式。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">⋅</mo><mi>x</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(x)=sign(w·x+b),sign(x)=\left\{\begin{aligned}1,x&gt;0\\-1,x&lt;0\end{aligned}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.00003em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221204231515976.png" alt="image-20221204231515976" /></p>
<p>输出是n-1维</p>
<h3 id="31-损失函数"><a class="markdownIt-Anchor" href="#31-损失函数"></a> 3.1 损失函数</h3>
<p>线性可分与线性不可分</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><mi>M</mi></mrow></msub><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">⋅</mo><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(w,b)=-\sum_{x_i\in M}y_i(w·x_i+b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.14981em;vertical-align:-0.39981em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.39981em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>,M是误分类点的集合，物理意义是，所有误分类点[所以是负的]到超平面的距离之和。</p>
<h3 id="32-感知机的随机梯度下降sgd"><a class="markdownIt-Anchor" href="#32-感知机的随机梯度下降sgd"></a> 3.2 感知机的随机梯度下降[SGD]</h3>
<ol>
<li>选取初始值w0,b0</li>
<li>在训练集中选取数据(xi,yi)</li>
<li>如果<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">⋅</mo><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">y_i(w·x_i+b)&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>[误分类点],更新w和b为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>w</mi><mo>+</mo><mi>a</mi><msub><mi>y</mi><mi>i</mi></msub><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>b</mi><mo>+</mo><mi>a</mi><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(w+ay_ix_i,b+ay_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>[a被称为学习率/步长]</li>
<li>到2，直到没有误分类点</li>
</ol>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习0_概率论知识回顾</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_0_%E6%A6%82%E7%8E%87%E8%AE%BA%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<p>统计学习前的大二学的概率论知识回顾</p>
<span id="more"></span>
<h2 id="1-概率的基本概念"><a class="markdownIt-Anchor" href="#1-概率的基本概念"></a> 1. 概率的基本概念</h2>
<h3 id="11-随机事件"><a class="markdownIt-Anchor" href="#11-随机事件"></a> 1.1 随机事件</h3>
<p>随机现象：条件不能完全决定结果</p>
<p>随机实验E：1. 可以在相同条件下重复进行；2. 每次实验的结果可能不止一个，并且能事先明确实验的所有可能结果；3. 进行一次试验前不能确定哪一个结果会出现</p>
<p>样本空间：一个随机试验的所有可能结果组成的集合<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span>。</p>
<p>随机事件：随机试验的样本空间的子集，A,B。</p>
<ul>
<li>例：掷骰子中出现1，点数大于4这些都是随机事件</li>
<li>分类：基本事件，复合事件，必然事件和不可能事件</li>
</ul>
<p>随机变量：对随机试验E的样本空间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span> 中的每一个样本点w，有且仅有一个实数X(w)与之对应，则称此定义在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span>上的实值函数X=X(w)为随机变量</p>
<ul>
<li>例：设射击的命中率是0.8，直到击中为止，则X(w)=所射击的次数，是一个随机变量。它的所有可能取值为1到正无穷</li>
<li>说明：定义域是样本空间，具有随机性[取值不止一个，不能预知具体取哪个值]和概率性[以一定概率取某值]</li>
<li>分类：离散型，连续型和奇异型</li>
</ul>
<p>互斥事件：A，B不能同时发生，AB=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">∅</span></span></span></span></p>
<p>对立事件：AB=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">∅</span></span></span></span>且A+B=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span></p>
<p>独立事件：P(AB) = P(A)P(B)</p>
<p>独立与互斥无必然联系</p>
<ul>
<li>
<p>独立不互斥：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/ya86e0854dc580b043d71a20b945b3975.5znlvo8jh5w0.jpg" alt="ya86e0854dc580b043d71a20b945b3975" style="zoom:25%;" /></p>
</li>
<li>
<p>互斥不独立：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/ya15ec785b68def3ea1ba0e7f7d35074a.kpomwfoyzo0.jpg" alt="ya15ec785b68def3ea1ba0e7f7d35074a" style="zoom:25%;" /></p>
</li>
</ul>
<h3 id="12-频率与概率"><a class="markdownIt-Anchor" href="#12-频率与概率"></a> 1.2 频率与概率</h3>
<p>频率：将随机试验E进行n次试验，若事件A发生的次数为m，则事件A发生的频率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>m</mi><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac mn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>；性质：非负性、规范性[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f_n(\Omega)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>]、可加性</p>
<p><mark>概率：在相同条件下，重复进行n次试验，事件A发生的频率稳定地在某个确定常数p附近摆动，且一般来说，n越大，摆动幅度越小，则称常数p为事件A发生的概率，记为P(A)</mark></p>
<p>性质: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo>+</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>  </mtext><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(A+B) = P(A) + P(B) - P(AB),\ \ P(A)-P(B)=P(A)-P(AB)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></p>
<p>古典概率与几何概率：区别：$\Omega $里的元素个数是有限，几何里面的不可数但可以用几何区域来度量。</p>
<h3 id="13-条件概率"><a class="markdownIt-Anchor" href="#13-条件概率"></a> 1.3 条件概率</h3>
<p>定义：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(A|B) = \frac {P(AB)}{P(A)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>乘法公式：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><mi>B</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(AB) = {P(A)}{P(A|B)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></span></p>
<p>全概率：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(A) = \sum_{i=1}^nP(B_i)P(A|B_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, A发生的概率是全部原因引起A发生概率的总和，由原因推结果</p>
<p>贝叶斯: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(B_i|A) = \frac {P(A|B_i)P(B_i)}{\sum^n_{j=1}P(A|B_i)P(B_j)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.677227em;vertical-align:-0.667227em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7046857142857144em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46032428571428574em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.667227em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, 在事件A发生的前提下，用贝叶斯公式寻找导致A发生的各种原因<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">B_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，由结果找原因</p>
<p>一个例题：</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/yae2a705b1507a05f635776a50ca51fa7.39gjwt55aqs0.jpg" alt="yae2a705b1507a05f635776a50ca51fa7" style="zoom: 25%;" />
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/ya0ca1700fac40d25ca7be359ad2a6549.5gs7f5u2sik0.jpg" alt="ya0ca1700fac40d25ca7be359ad2a6549" style="zoom:25%;" />
<h2 id="2-随机变量及分布"><a class="markdownIt-Anchor" href="#2-随机变量及分布"></a> 2. 随机变量及分布</h2>
<h3 id="21-分布函数"><a class="markdownIt-Anchor" href="#21-分布函数"></a> 2.1 分布函数</h3>
<p>分布函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>&lt;</mo><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>x</mi><mo>∈</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(x) = P(X &lt;= x) \ (x \in R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></p>
<p>性质： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0&lt;= F(x) &lt;=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, 单增，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">F(-\infty)=0,F(\infty)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">∞</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>a</mi><mo>&lt;</mo><mi>X</mi><mo>&lt;</mo><mo>=</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>F</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>−</mo><mi>F</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>&gt;</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>F</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(a&lt;X&lt;=b) = F(b)-F(a), P(X&gt; a)=1-F(a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p>
<h3 id="22-离散型"><a class="markdownIt-Anchor" href="#22-离散型"></a> 2.2 离散型</h3>
<p>常见离散型：两点，等可能，二项B(n,p)：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>C</mi><mi>n</mi><mi>k</mi></msubsup><msup><mi>p</mi><mi>k</mi></msup><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">P(X=k)=C_n^kp^k(1-p)^{n-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0991079999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span>,泊松：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>λ</mi><mi>k</mi></msup><mrow><mi>k</mi><mo stretchy="false">!</mo></mrow></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mi>λ</mi></mrow></msup></mrow><annotation encoding="application/x-tex">P(X=k) = \frac{\lambda^k}{k!}e^{-\lambda}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3879199999999998em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0429199999999998em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9270285714285713em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span></span>, 几何分布，帕斯卡，超几何</p>
<h3 id="23-连续型"><a class="markdownIt-Anchor" href="#23-连续型"></a> 2.3 连续型</h3>
<p>密度函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mi>x</mi></msubsup><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">F(x)=\int_{-\infty}^xf(t)dt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.273443em;vertical-align:-0.41415100000000005em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8592920000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.41415100000000005em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span></p>
<p>均匀分布: f(x) = 1/(b-a)</p>
<p>指数分布: $ f(x) = \lambda e^{-\lambda x}, F(x) = 1- e^{-\lambda x} (x&gt;0)$</p>
<p>正态分布:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>π</mi><mi>σ</mi></mrow></msqrt></mfrac><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">[</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>σ</mi><mn>2</mn></msup></mrow></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(x)=\frac 1 {\sqrt{2\pi\sigma}}exp[-\frac{(x-\mu)^2}{2\sigma^2}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6469199999999997em;vertical-align:-0.5379999999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.5510085em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.912845em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-2.872845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12715500000000002em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5379999999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10892em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span>, 其中为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">μ</span></span></span></span>平均值，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span></span>为标准差</li>
<li>0,1标准正态分布<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>==&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">{</mo><mi>a</mi><mo>&lt;</mo><mi>X</mi><mo>&lt;</mo><mo>=</mo><mi>b</mi><mo stretchy="false">}</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>b</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac><mo stretchy="false">)</mo><mo>−</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>a</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z=\frac {x-\mu}\sigma \sim N(0,1) , P\{a&lt;X&lt;=b\} = \phi(\frac{b-\mu}\sigma)-\phi(\frac{a-\mu}\sigma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.199439em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.854439em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">{</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.277216em;vertical-align:-0.345em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.199439em;vertical-align:-0.345em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.854439em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
<p>2.4 随机变量函数，二维随机变量(边缘分布，五步法边缘概率密度)这大坨略过了</p>
<h3 id="24-随机变量的数字特征"><a class="markdownIt-Anchor" href="#24-随机变量的数字特征"></a> 2.4 随机变量的数字特征</h3>
<p>期望</p>
<ul>
<li>离散型：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>x</mi><mi>k</mi></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">E[X]=\sum_{k=1}^{+\infty}x_kp_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.210941em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.911231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, 二项分布np , 泊松<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">λ</span></span></span></span></li>
<li>连续型：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">E[X]=\int^{+\infty}_{-\infty}xf(x)dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.380382em;vertical-align:-0.41415100000000005em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9662310000000001em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.41415100000000005em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span></li>
<li>二维：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/ya0c2b8cb5d5e7a5eee99c5ce925c072d.1kd5urr9ky2o.jpg" alt="ya0c2b8cb5d5e7a5eee99c5ce925c072d" style="zoom: 50%;" /></li>
</ul>
<p>方差：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">]</mo><mo>−</mo><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">D(X)=E[(X-E[X])^2] = E[X^2]-(E[X])^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>,标准差是他开根号</p>
<p>协方差: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">)</mo><mo>−</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Cov(X,Y)=E(XY)-E(X)E(Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span></p>
<h2 id="3数理统计"><a class="markdownIt-Anchor" href="#3数理统计"></a> 3.数理统计</h2>
<h3 id="31大数定律和中心极限定理"><a class="markdownIt-Anchor" href="#31大数定律和中心极限定理"></a> 3.1大数定律和中心极限定理</h3>
<p>大数定理：设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">X_1,X_2,..</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span></span></span></span>是一个期望存在的随机变量序列，若对任意给定的正数</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\epsilon&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>n</mi><mo>→</mo><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msub><mi>P</mi><mo stretchy="false">{</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>X</mi><mi>n</mi></msub><mo stretchy="true">‾</mo></mover><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><mover accent="true"><msub><mi>X</mi><mi>n</mi></msub><mo stretchy="true">‾</mo></mover><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><mo>⩾</mo><mi>ϵ</mi><mo stretchy="false">}</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">lim_{n\rightarrow+\infty}P\{|\overline{X_n}-E[\overline{X_n}]|\geqslant\epsilon\}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.25833100000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">{</span><span class="mord">∣</span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mclose">]</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩾</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则称<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{X_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>服从大数定律 =&gt;频率趋近于概率</p>
<p>中心极限定理：</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/ya709c291fba07eccdf119fd2b9844181.2yjkzw956ci0.jpg" alt="ya709c291fba07eccdf119fd2b9844181" style="zoom:50%;" />
<h3 id="32-统计的基本概念"><a class="markdownIt-Anchor" href="#32-统计的基本概念"></a> 3.2 统计的基本概念</h3>
<p><mark>统计–&gt;用局部推断整体</mark></p>
<p>总体：研究对象的全体</p>
<p>抽样：简单随机抽样、系统抽样、分层</p>
<p>样本：从总体X中随机抽取的n个个个体</p>
<p>常见统计量：极差，众数，均值，方差: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo stretchy="true">‾</mo></mover><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac><mo stretchy="false">(</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msup><msub><mi>x</mi><mi>i</mi></msub><mn>2</mn></msup><mo>−</mo><mi>n</mi><msup><mover accent="true"><mi>x</mi><mo stretchy="true">‾</mo></mover><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x^2=\frac1{n-1}\sum^n_{i=1}(x_i-\overline x)^2 = \frac1{n-1}(\sum^n_{i=1}{x_i}^2-n\overline x^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2484389999999999em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2484389999999999em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.084568em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.834568em;"><span style="top:-3.08346em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 标准差<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>, 标准误差<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mover accent="true"><mi>x</mi><mo stretchy="true">‾</mo></mover></msub><mo>=</mo><mfrac><mi>s</mi><msqrt><mi>n</mi></msqrt></mfrac></mrow><annotation encoding="application/x-tex">s_{\overline x} = \frac s {\sqrt n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32289200000000007em;"><span style="top:-2.85em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6755600000000002em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal mtight">x</span></span><span style="top:-3.57756em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.233392em;vertical-align:-0.538em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6258665em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8059050000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal mtight" style="padding-left:0.833em;">n</span></span><span style="top:-2.765905em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.234095em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>,样本矩: k阶原点矩<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mi>n</mi><mi>k</mi></msubsup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mi>X</mi><mi>i</mi><mi>k</mi></msubsup></mrow><annotation encoding="application/x-tex">S_n^k = \frac1n\sum^n_{i=1}X_i^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.194108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>，k阶中心矩<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mi>n</mi><mi>k</mi></msubsup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><msup><mo stretchy="false">)</mo><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">S_n^k = \frac1n\sum^n_{i=1}(X_i-\overline X)^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></p>
<p>经验分布函数</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/yaf3274f32c38533d0a74b96d524cffa6.104q4sxtri4g.jpg" alt="yaf3274f32c38533d0a74b96d524cffa6" style="zoom:50%;" />
<p>直方图: 设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,..,x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是总体X的样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>X</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">X_1,X_2,..,X_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的观察值，用直方图法求近似<strong>概率密度函数</strong>的作法步骤：</p>
<ol>
<li>从中找<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,..,x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出最小值M和最大值N；</li>
<li>取适当的a,b使得a＜M&lt;N≤b易于等分，即将[a,b]等分为m个小区间，分点为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><msub><mi>t</mi><mn>0</mn></msub><mo>&lt;</mo><msub><mi>t</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>t</mi><mtext>＜</mtext></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>&lt;</mo><msub><mi>t</mi><mi>m</mi></msub><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">a=t_0&lt;t_1&lt;t_＜...&lt;t_m=6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">＜</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span></li>
<li>记录样本值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_1,x_2,..,x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，正n落在小区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(t_{i-1},t_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>的个数，即频数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则X落入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(t_{i-1},t_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>的频率的近似值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><msub><mi>v</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">f_i=v_i/n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">n</span></span></span></span>；</li>
<li>在坐标平面上，自左向右在各个小区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">(t_{i-1},t_i],1≤i≤m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>上画竖直的长方形，对第i个长方形，以x轴上的小区间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(t_{i-1},t_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>的一段为底，以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><msub><mi>f</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y_i=f_i/(t_i-t_{i-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>为高，画出图形既是所谓的直方图；</li>
<li>用光滑曲线描出直方图的外廓曲线，即为总体 X 的近似密度函数曲线。</li>
</ol>
<p>常见统计量的分布</p>
<ul>
<li>设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>X</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">X_1,X_2,..,X_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为来自正态总体<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X \sim N(\mu,\sigma^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的一个样本，则样本均值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>X</mi><mo stretchy="true">‾</mo></mover><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\overline X \sim N(\mu,\sigma^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 例题：</li>
</ul>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221120/yab380c4e40946d0153a06da6326e31ad.3gw6f0rpy6g0.jpg" alt="yab380c4e40946d0153a06da6326e31ad" style="zoom: 25%;" />
<ul>
<li>
<img src="C:\Users\nili990221\AppData\Roaming\Typora\typora-user-images\image-20221120222356371.png" alt="image-20221120222356371" style="zoom:25%;" />
</li>
<li>
<p>三大抽样分布</p>
</li>
</ul>
<h3 id="33-估计"><a class="markdownIt-Anchor" href="#33-估计"></a> 3.3 估计</h3>
<p>点估计：用样本矩[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">[</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E[X],E[X^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>]代替总体矩。</p>
<p>极大似然估计：1.似然函数：连乘；2.取对数；3.对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>求导</p>
<p>估计量的评选标准：</p>
<ul>
<li>
<p>MSE[mean square error：均方误差]：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>θ</mi><mo stretchy="true">^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mover accent="true"><mi>θ</mi><mo stretchy="true">^</mo></mover><mo>−</mo><mi>θ</mi><msup><mo stretchy="false">]</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">MSE(\widehat\theta)=E[\widehat\theta-\theta]^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.18444em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span><span class="svg-align" style="width:calc(100% - 0.16668em);margin-left:0.16668em;top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.18444em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span><span class="svg-align" style="width:calc(100% - 0.16668em);margin-left:0.16668em;top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>无偏性[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mover accent="true"><mi>θ</mi><mo stretchy="true">^</mo></mover><mo stretchy="false">]</mo><mo>=</mo><mi>θ</mi></mrow><annotation encoding="application/x-tex">E[\widehat{\theta}]=\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.18444em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span class="svg-align" style="width:calc(100% - 0.16668em);margin-left:0.16668em;top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>]，有效性[<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{\theta_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0844399999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{\theta_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0844399999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>的无偏估计量，若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo stretchy="false">(</mo><mover accent="true"><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="true">^</mo></mover><mo stretchy="false">)</mo><mo>&lt;</mo><mi>D</mi><mo stretchy="false">(</mo><mover accent="true"><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="true">^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">D(\widehat{\theta_1}) &lt; D(\widehat{\theta_2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.18444em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.18444em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{\theta_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0844399999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>比<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{\theta_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0844399999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="svg-align" style="top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>有效]，相合性<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>θ</mi><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9344399999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9344399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span class="svg-align" style="width:calc(100% - 0.16668em);margin-left:0.16668em;top:-3.69444em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span></span></span></span>收敛到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>.</p>
</li>
</ul>
<p>区间估计：置信空间</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习1_Intro</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM0_Intro/</url>
    <content><![CDATA[<h1 id="introduction-to-statistical-learning"><a class="markdownIt-Anchor" href="#introduction-to-statistical-learning"></a> Introduction to Statistical Learning</h1>
<p>统计学习的基本介绍和Supervised learning</p>
<span id="more"></span>
<h1 id="1-what-is-machine-learning"><a class="markdownIt-Anchor" href="#1-what-is-machine-learning"></a> 1. What is Machine Learning ?</h1>
<p>Machine Learning is the science of programming computers so they can learn from data.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221205/yaimage.14fwl5jrg01s.png" alt="yaimage" /></p>
<p>example: spam, Handwritten digits recognition,fraud detection[诈骗识别], recommendations, text mining[挖掘]</p>
<p>competence:</p>
<ul>
<li>Problems for which existing solutions require a lot of hand-tuning or long lists of rules : one Machine Learning algorithm can often simplify code and perform better.</li>
<li>Complex problems for which there is no good solution at all using a traditional approach (modelling) : hopefully efficient Machine Learning techniques can find a solution.</li>
</ul>
<h1 id="2-types-of-ml-problems"><a class="markdownIt-Anchor" href="#2-types-of-ml-problems"></a> 2. Types of ML problems</h1>
<h2 id="21-supervised-versus-unsupervised-learning"><a class="markdownIt-Anchor" href="#21-supervised-versus-unsupervised-learning"></a> 2.1 Supervised versus Unsupervised Learning</h2>
<p>Supervised learning : regression, classification, structured Learning (e.g. predict trees or graphs)</p>
<p>Unsupervised : clustering[聚类], anomaly [遗产]detection</p>
<p>Semi supervised learning and transductive learning : all the labels are not observed.</p>
<h2 id="22-reinforcement-learning"><a class="markdownIt-Anchor" href="#22-reinforcement-learning"></a> 2.2 Reinforcement learning</h2>
<ol>
<li>A learning system takes actions (a policy) in an environment so as to <strong>maximize</strong> some notion of cumulative[累积] <strong>reward</strong>.</li>
<li>Many robots implements Reinforcement Learning</li>
<li>DeepMind’s AlphaGo program (game of Go)</li>
</ol>
<h2 id="23-batch-learning-versus-online-learning"><a class="markdownIt-Anchor" href="#23-batch-learning-versus-online-learning"></a> 2.3 Batch Learning versus Online Learning</h2>
<p>Batch learning : the system is trained, and then it is launched into production and runs without learning anymore ; it just applies what it has learned.</p>
<p>Online learning : the system is trained incrementally by feeding it data instances sequentially, either individually or by small groups called mini-batches. Great for：</p>
<ul>
<li>systems that receive data as a continuous flow ;</li>
<li>systems with limited computing resources ;</li>
<li>systems on huge datasets that cannot fit in one machine’s main memory</li>
</ul>
<h1 id="3-概念对比"><a class="markdownIt-Anchor" href="#3-概念对比"></a> 3. 概念对比</h1>
<h2 id="31-ai-vs-ml"><a class="markdownIt-Anchor" href="#31-ai-vs-ml"></a> 3.1 AI VS ML</h2>
<p>Artificial intelligence (AI) is intelligence displayed by machines, in contrast with the natural intelligence (NI) displayed by humans and other animals.</p>
<p><strong>Machine Learning is a subfield of AI</strong> : it is a field of computer science that gives computers the ability to learn without being explicitly programmed.</p>
<h2 id="32-ml-vs-statistical-learning"><a class="markdownIt-Anchor" href="#32-ml-vs-statistical-learning"></a> 3.2 ML VS Statistical Learning</h2>
<p>相同点：both fields focus on supervised and unsupervised problems</p>
<p>不同点：</p>
<ul>
<li>Statistical learning is a subfield of Statistics.</li>
<li>Machine learning has a greater emphasis on large scale applications and <strong>prediction</strong> accuracy，Statistical learning emphasizes <strong>models and their interpretability</strong>[模型的可解释性], and precision and uncertainty.</li>
</ul>
<h1 id="4-supervised-learning"><a class="markdownIt-Anchor" href="#4-supervised-learning"></a> 4. Supervised learning</h1>
<h2 id="41-基本概念"><a class="markdownIt-Anchor" href="#41-基本概念"></a> 4.1 基本概念</h2>
<p>X: vector of p measurements X (also called regressors, covariates[协变量], features).</p>
<p>Y: Outcome measurement Y (also called dependent variable, response, target).</p>
<ul>
<li>In the regression problem, Y ∈ R is quantitative (e.g. price).</li>
<li>In the classification problem, Y takes values in a finite, unordered set[有限无序的离散集] (e.g. digit 0-9, image classification).</li>
<li>Structured prediction : Y is a more complex quantity : vector (multivariate regression) graph, tree, string, image …</li>
</ul>
<p>问题：We have training data <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>n</mi></msub><mo>=</mo><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Y</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">D_n = {(X_1, Y_1), . . . ,(X_n, Y_n)}, (X_i,Y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>独立同分布的随机变量，We want to infer the link between the input variables X and the outcome Y,即 use Dn to build up a predictor f such that f(X) ≈ Y.</p>
<p>步骤:</p>
<ol>
<li>Data Collection</li>
<li>Feature engineering (sampling, feature extraction, feature transformation …)</li>
<li>Choose a statistical model (parametric or not) or an algorithm to find a learning rule f</li>
<li><strong>Fit/拟合</strong> (statistics and optimization) the learning rule f or a collection of learning rules (f)λ∈Λ.</li>
<li>Tune[调整] the parameters (typically by cross validation)</li>
<li>Make prediction with the final model.</li>
</ol>
<h2 id="42-generalization-error-bayes-risk-empirical-risk"><a class="markdownIt-Anchor" href="#42-generalization-error-bayes-risk-empirical-risk"></a> 4.2 Generalization error &amp; Bayes risk &amp; Empirical risk</h2>
<p><strong>Risk of a predictor</strong> f  also called <strong>generalization error or prediction error</strong> ：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(f)=El(f(X),Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">l(f(X),Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span>是损失函数，一些常见的损失函数</p>
<ul>
<li>Quadratic loss : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mtext>−</mtext><mi>b</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">l(a, b) = (a − b)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">−</span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></li>
<li>Absolute loss : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∣</mi><mi>a</mi><mtext>−</mtext><mi>b</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">l(a, b) = |a − b|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">−</span><span class="mord mathnormal">b</span><span class="mord">∣</span></span></span></span></li>
<li>0-1 loss</li>
<li>Hinge loss :<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mtext>−</mtext><mi>a</mi><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">l(a, b) = max(0, 1 − ab)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">−</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></li>
<li>Logistic loss :<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">[</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mtext>−</mtext><mi>a</mi><mi>b</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">l(a, b) = log[1 + exp(−ab)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li>
</ul>
<p><strong>Optimal risk or Bayes risk</strong>:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mo>∗</mo></msup><mo>=</mo><mi>i</mi><mi>n</mi><msub><mi>f</mi><mrow><mi>f</mi><mo>∈</mo><mi>F</mi></mrow></msub><mi>R</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R^*=inf_{f\in F}R(f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span></span></span></span>, F is the set of all possible predictors</p>
<p><strong>Empirical risk:</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_n(f)=\frac1n\sum_{i=1}^nl(f(X_i,Y_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span> ,是R(f)的unbiased estimator</p>
<h2 id="43-learning-rule"><a class="markdownIt-Anchor" href="#43-learning-rule"></a> 4.3 Learning rule</h2>
<ol>
<li>
<p>The risk is conditional to Dn: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><msub><mi>D</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R(f) = E[l(f(X),Y)|D_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p>
</li>
<li>
<p>Mean risk: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>R</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">ER(f)= E[l(f(X),y)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p>
</li>
<li>
<p>Empirical Risk Minimization (ERM): <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>f</mi><mo>∈</mo><mi>F</mi></mrow></msub><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">min_{f\in F}\frac 1N\sum_{i=1}^NL(y_i,f(x_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
</li>
</ol>
<h2 id="44-discriminative-vs-generative-methods"><a class="markdownIt-Anchor" href="#44-discriminative-vs-generative-methods"></a> 4.4 Discriminative vs Generative Methods</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>N</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>a</mi><msub><mi>x</mi><mi>y</mi></msub><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mrow><mi>N</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y_{N+1}=arg max_yP(y|x_{N+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>Generative Approaches:</p>
<ul>
<li>Based on the conditional distribution (X|Y) distribution and the Bayes Theorem</li>
<li>基于联合分布P(X,Y)</li>
<li>Gaussians, Naive Bayes, Linear / Quadratic，Discriminant Analysis, Hidden Markov Models (HMM), Bayesian，networks, Markov random fields</li>
</ul>
<p>Discriminative Approaches</p>
<ul>
<li>Directly optimize over a class of predictor</li>
<li>基于条件概率P(Y|X)</li>
<li>Linear regression, Logistic regression, SVMs,neural networks, Nearest neighbour, Conditional Random Fields(CRF), Random Forests, boosting</li>
</ul>
<p>在机器学习中任务是从属性X预测标记Y，判别模型求的是P(Y|X)，即后验概率；而生成模型最后求的是P(X,Y)，即联合概率。</p>
<p>判别式模型举例：要确定一个羊是山羊还是绵羊，用判别模型的方法是从历史数据中学习到模型，然后通过提取这只羊的特征来预测出这只羊是山羊的概率，是绵羊的概率。</p>
<p>生成式模型举例：利用生成模型是根据山羊的特征首先学习出一个山羊的模型，然后根据绵羊的特征学习出一个绵羊的模型，然后从这只羊中提取特征，放到山羊模型中看概率是多少，在放到绵羊模型中看概率是多少，哪个大就是哪个。</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习3_Tuning</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM3_Tuning/</url>
    <content><![CDATA[<h1 id="cm3_tuning"><a class="markdownIt-Anchor" href="#cm3_tuning"></a> CM3_Tuning</h1>
<p>模型的参数调整</p>
<span id="more"></span>
<h1 id="1-overfiiting-and-bias-variance-tradeoff"><a class="markdownIt-Anchor" href="#1-overfiiting-and-bias-variance-tradeoff"></a> 1. Overfiiting and Bias Variance Tradeoff</h1>
<h2 id="11-overfitting"><a class="markdownIt-Anchor" href="#11-overfitting"></a> 1.1 Overfitting</h2>
<p>过拟合问题：Overfitting occurs when the learning rule too closely corresponds to a particular set of data, and may therefore fail to generalize on future observations，一般是因为模型中包含了比真实情况更多的参数。例子：</p>
<ul>
<li>线性回归中多余的变量</li>
<li>KNN中k太小</li>
<li>In density estimation : an histogram with too many bins</li>
</ul>
<h2 id="12-bias-variance-tradeoff"><a class="markdownIt-Anchor" href="#12-bias-variance-tradeoff"></a> 1.2 Bias Variance Tradeoff</h2>
<p>Generalization error[泛化误差] = Estimation error + Approximation error</p>
<ul>
<li>Estimation error[估计误差] : random term ≈ <strong>variance</strong> term in statistics.</li>
<li>Approximation error[近似误差] : deterministic term ≈ <strong>bias</strong> term in statistics.</li>
</ul>
<p>Training error</p>
<ul>
<li>the average error that results from estimating the performance of a learning rule <strong>using the sample already used to fit the learning rule.</strong></li>
<li>模型关于训练数据集的平均损失，反应问题是否容易学习</li>
</ul>
<p>Test error</p>
<ul>
<li>the average error that results from estimating the performance of a learning rule <strong>using a different sample.</strong></li>
<li>模型关于测试数据集的平均损失，反应学习方法的预测能力</li>
</ul>
<h2 id="2estimating-the-generalization-error-by-cross-validation"><a class="markdownIt-Anchor" href="#2estimating-the-generalization-error-by-cross-validation"></a> 2.Estimating the generalization error by Cross validation</h2>
<h2 id="21-splitting"><a class="markdownIt-Anchor" href="#21-splitting"></a> 2.1 Splitting</h2>
<p>一般把数据随机拆分为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub><mo separator="true">,</mo><msub><mi>I</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">I_{train},I_{test}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>learning rule f on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">I_{train}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, compute the test error on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">I_{test}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>这样拆分导致train sample 少于 complete sample : it overestimates[高估] the generalization error. ==&gt; 采用交叉验证的方式</p>
<h2 id="22-cross-validation"><a class="markdownIt-Anchor" href="#22-cross-validation"></a> 2.2 Cross validation</h2>
<p>用于估计the generalization error，进而调整参数或者选择模型</p>
<h3 id="221-k-fold-cross-validation"><a class="markdownIt-Anchor" href="#221-k-fold-cross-validation"></a> 2.2.1  k-fold cross validation</h3>
<p>把数据集分成k份，选一份去做测试集，剩下的做训练集，实验k次，最后计算K次实现的平均的测试误差<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>r</mi><mi>r</mi><mo>=</mo><mfrac><mn>1</mn><mi>k</mi></mfrac><msub><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1...</mn><mi>k</mi></mrow></msub><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><msub><mi>I</mi><mi>v</mi></msub><mi mathvariant="normal">∣</mi></mrow></mfrac><msub><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><msub><mi>I</mi><mi>v</mi></msub></mrow></msub><mi>l</mi><mo stretchy="false">(</mo><mi>Y</mi><mi>i</mi><mo separator="true">,</mo><msub><mi>f</mi><mi>v</mi></msub><mo stretchy="false">(</mo><mi>X</mi><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Err = \frac1k \sum_{v=1...k} \frac1{|I_v|}\sum_{i∈I_v}l(Yi , f_v(Xi))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1863979999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.39981em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
<p>在实际中，k一般取5到10</p>
<h3 id="222-leave-one-out"><a class="markdownIt-Anchor" href="#222-leave-one-out"></a> 2.2.2  Leave one out</h3>
<p>k = n，一个一个的做测试集</p>
<h1 id="3-regression-model-selection-and-penalization"><a class="markdownIt-Anchor" href="#3-regression-model-selection-and-penalization"></a> 3. Regression, model selection and penalization</h1>
<h2 id="31-linear-regression-in-high-dimension"><a class="markdownIt-Anchor" href="#31-linear-regression-in-high-dimension"></a> 3.1 Linear regression in high dimension</h2>
<p>正常的线性回归：</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221212095710029.png" alt="image-20221212095710029" /></p>
<p>高维的：X’X is not inversible.</p>
<h2 id="32-penalized-empirical-risk-minimization"><a class="markdownIt-Anchor" href="#32-penalized-empirical-risk-minimization"></a> 3.2 Penalized Empirical Risk Minimization</h2>
<p>在ERM中加入一个惩罚项，增加它的非线性性</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>f</mi><mrow><mi>S</mi><mo separator="true">,</mo><mi>λ</mi></mrow><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>f</mi><mo>∈</mo><mi>S</mi></mrow></msub><munder><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1...</mn><mi>n</mi></mrow></munder><mi>l</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>λ</mi><mi>p</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mi>f</mi><mi>β</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f^{-}_{S,\lambda} = argmin_{f \in S}\sum_{i=1...n}l(Y,f(X_i))+\lambda pen(f_\beta)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.248878em;vertical-align:-0.4275469999999999em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-2.4085610000000006em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">λ</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4275469999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.327674em;vertical-align:-1.277669em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">λ</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<ul>
<li>
<p>S is a class of predictors</p>
<ul>
<li><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.1r8elvd33wo0.png" alt="yaimage" /></li>
</ul>
</li>
<li>
<p>pen 是一个positive的惩罚函数</p>
<ul>
<li>lasso penalty，pen是L1范数</li>
<li>ridge penalty，pen是L2范数</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">l_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> penalty,pen是0范数</li>
</ul>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">λ</span></span></span></span> is a tuning or smoothing parameter, that balances goodness-of-fit and penalization,可以由交叉验证获得</p>
</li>
</ul>
<p>看不懂了呜呜呜</p>
<h1 id="4-feature-engineering"><a class="markdownIt-Anchor" href="#4-feature-engineering"></a> 4. Feature engineering</h1>
<h2 id="41-normalization"><a class="markdownIt-Anchor" href="#41-normalization"></a> 4.1 Normalization</h2>
<p>因为不同于the standard least square estimator，ridge 和 lasso 估计器是<strong>尺度</strong>不变的，所以我们需要通过下面的方法来使变量归一化</p>
<ul>
<li>center, include an intercept, standardize[量化后的特征将服从标准正态分布]</li>
<li>min-max scaling[量化后的特征将分布在区间]</li>
<li>binarize the variables</li>
</ul>
<p>数据标准化（归一化）处理是数据挖掘的一项基础工作，不同评价指标往往具有不同的量纲和量纲单位，这样的情况会影响到数据分析的结果，为了消除指标之间的量纲影响，需要进行数据标准化处理，以解决数据指标之间的可比性。</p>
<h2 id="42-feature-extraction-and-feature-generation"><a class="markdownIt-Anchor" href="#42-feature-extraction-and-feature-generation"></a> 4.2 Feature extraction and feature generation</h2>
<p>PPT上讲说是我们需要创建新的变量去提升预测性能。</p>
<p>然后提供的一些基本想法：==&gt;[???]</p>
<ul>
<li>Transform variables to obtain a better (simpler) relationship with the output : log, exponential, quadratic, sin, cos …transformations</li>
<li>Introduce <strong>interaction variables</strong></li>
<li>If there exists a model for Y (e.g. physical or biological model), including the corresponding variables will help the machine learning approach.</li>
<li>Times series : min / max / min-max / derivatives / spectral pattern</li>
<li>Decomposition and projection : PCA, splines, Fourrier, wavelets …</li>
<li>Images : specific pattern</li>
</ul>
<p>Python 开源库 <a href="https://towardsdatascience.com/why-automated-feature-engineering-will-change-the-way-you-do-machine-learning-5c15bf188b96">Featuretools</a>可以生成许多经典特征</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习5_CART</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM5_Tree%20based%20methods/</url>
    <content><![CDATA[<h1 id="cm5_tree-based-methods"><a class="markdownIt-Anchor" href="#cm5_tree-based-methods"></a> CM5_Tree based methods</h1>
<p>CART决策树</p>
<span id="more"></span>
<h1 id="0b站听的"><a class="markdownIt-Anchor" href="#0b站听的"></a> 0.b站听的</h1>
<p>用一个分类问题做的例子讲的</p>
<ol>
<li>选择根结点[X的某个属性]==&gt;比较gini系数，选择gini加权最小的作为根结点</li>
<li>迭代，叶结点继续选划分量</li>
<li>终止条件：所有叶节点样本数为1，或属于同一类，或小于某一阈值；树的高度到达某一阈值；无剩余属性</li>
</ol>
<h1 id="1-cart-classification-and-regression-trees"><a class="markdownIt-Anchor" href="#1-cart-classification-and-regression-trees"></a> 1. CART: Classification and regression trees</h1>
<p>感觉是根据变量特征将其进行不同分区[特征空间]，叶子即结果。PPT上以一个用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1,x_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>来预测Y的分类问题的二叉树做的例子。</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221216/yaimage.ektv5p8l1g8.png" alt="yaimage" /></p>
<p>对于分类和回归问题，我们的认为决策的规则是一个回归量(regressograms): <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mi>m</mi></msub><msub><mi>c</mi><mi>m</mi></msub><msub><mn>1</mn><mrow><mi>x</mi><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub></mrow></msub></mrow><annotation encoding="application/x-tex">f(x)=\sum_mc_m1_{x\in R_m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0016819999999999613em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">R_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是最后的叶子的分区</p>
<p>注意：特征空间不是递归二分得到的。</p>
<h2 id="11-regression-trees"><a class="markdownIt-Anchor" href="#11-regression-trees"></a> 1.1 Regression trees</h2>
<p>问题设定：N个样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_i,y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，我们需要确定划分变量，划分点，决策树和预测结果。</p>
<p>建模：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mi>m</mi></msub><msub><mi>c</mi><mi>m</mi></msub><msub><mn>1</mn><mrow><mi>x</mi><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub></mrow></msub></mrow><annotation encoding="application/x-tex">f(x)=\sum_mc_m1_{x\in R_m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0016819999999999613em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>m</mi></msub><mo>=</mo><mover accent="true"><mrow><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">c_m = \overline{(y_i|x_i \in R_m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2000000000000002em;vertical-align:-0.25em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9500000000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.87em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span></p>
<p>确定分区==&gt;greedy algorithm</p>
<ol>
<li>先定义一个划分变量j和一个划分点t，由此得到一对半平面<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>j</mi></msub><mo>&lt;</mo><mi>t</mi><mo fence="true">}</mo></mrow><mo separator="true">,</mo><msub><mi>R</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>j</mi></msub><mo>&gt;</mo><mo>=</mo><mi>t</mi><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">R_1(j,t)=\left\{x|x_j&lt;t\right\},R_2(j,t)=\left\{x|x_j&gt;=t\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></li>
<li>然后找最好的j和最好的t==&gt;感觉是在让损失函数的平方最小，公式见下图：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221216/yaimage.2salck6japa0.png" alt="yaimage" /></li>
<li>然后一直递归(recursion)，直到规定的尺度停下来[比如说要求最小的节点的size要大于5]</li>
</ol>
<p>node impurity：可以拿它来看预测结果，我们定义每个叶子结点的node impurity为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>m</mi></msub></mfrac><msub><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub></mrow></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mi>c</mi><mi>m</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo separator="true">,</mo><msub><mi>N</mi><mi>m</mi></msub><mo>=</mo><mi mathvariant="normal">∣</mi><mrow><mo fence="true">{</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub><mo fence="true">}</mo></mrow><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><msub><mi>c</mi><mi>m</mi></msub><mo>=</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>m</mi></msub></mfrac><msub><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub></mrow></msub><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Q_m(T)=\frac1{N_m}\sum_{x_i \in R_m}(y_i-c_m)^2,N_m=|\left\{x_i|x_i\in R_m\right\}|,c_m = \frac 1{N_m}\sum_{x_i \in R_m}y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2902079999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.39981em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2902079999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.39981em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>举的一个例子：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230102/yaimage.56fww9c48380.png" alt="yaimage" /></p>
<h2 id="12-classification-trees"><a class="markdownIt-Anchor" href="#12-classification-trees"></a> 1.2 Classification trees</h2>
<p>问题设定：Y变成1到K的集合了</p>
<p>对于每个结点m，我们定义：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub><mo>:</mo><mo>=</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>m</mi></msub></mfrac><msub><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><msub><mi>R</mi><mi>m</mi></msub></mrow></msub><msub><mn>1</mn><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{mk} := \frac1{N_m}\sum_{x_i \in R_m}1_{y_i=k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2902079999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.00773em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.39981em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>, 然后预测的分类结果是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mtext> </mtext><mi>m</mi><mi>a</mi><msub><mi>x</mi><mi>k</mi></msub><mtext> </mtext><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">k(m)=arg \ max_k\ {p_{mk}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>==》好像在说在叶子里面，谁多就是哪个类</p>
<p>node impurity：这里有3种方法</p>
<ul>
<li>Misclassification error：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_m(T)=1-p_{mk}(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></li>
<li>Gini index: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mi>k</mi></msub><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_m(T)=\sum_{k}p_{mk}(1-p_{mk})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1863979999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>Cross-entropy or deviance: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mi>k</mi></msub><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub><mi>l</mi><mi>o</mi><mi>g</mi><msub><mi>p</mi><mrow><mi>m</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Q_m(T)=-\sum_kp_{mk}log{p_{mk}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0497100000000001em;vertical-align:-0.29971000000000003em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1863979999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></li>
<li>交叉熵和基尼指数更敏感对 node probabilities[?]的变化</li>
</ul>
<h2 id="13-优缺点"><a class="markdownIt-Anchor" href="#13-优缺点"></a> 1.3 优缺点</h2>
<p>Pros：</p>
<ul>
<li>Trees are very easy to explain (in particular to non experts): they can be displayed graphically, and are easily interpreted</li>
<li>Trees can easily handle qualitative predictors.</li>
<li>Small computational cost.</li>
</ul>
<p>Cons:</p>
<ul>
<li>Trees are not competitive with many others supervised learning approaches in terms of prediction accuracy.</li>
<li>Local splitting. ？</li>
<li>Lack of robustness: trees are sensitive to outliers.</li>
</ul>
<h1 id="2-random-forest"><a class="markdownIt-Anchor" href="#2-random-forest"></a> 2. Random Forest</h1>
<h2 id="21-bagged-trees"><a class="markdownIt-Anchor" href="#21-bagged-trees"></a> 2.1 Bagged Trees</h2>
<p>Bootstrap</p>
<p>基本思想：从训练数据中随机抽取带有替换的数据集，每个样本的大小与原始训练集相同。这样做了B次，产生B个引导数据集。</p>
<p>用于：评估参数估计、预测的准确性或者改进预测。</p>
<p>例子：一个训练集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Z=[(x_1,y_1),...,(x_n,y_n)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">Z_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是n对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>I</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>I</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">(x_I,y_I),I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span>在{1…n}中均匀采样，然后拿去fit就能得到多组预测结果</p>
<p>Regression：取多组预测的平均，reduce the variance of the prediction</p>
<p>Classification：生成一组向量然后取最多的，叫Consensus bagging</p>
<p><strong>SUM UP</strong></p>
<ul>
<li>Bagging works especially well for high-variance, low-bias procedures, such as trees.</li>
<li>Improvement with bagging is through variance reduction.</li>
<li>For regression: fit regression trees for bootstrap samples and average the result.</li>
<li>For classification: majority vote for the predicted class.</li>
</ul>
<h2 id="22-random-forests"><a class="markdownIt-Anchor" href="#22-random-forests"></a> 2.2 Random Forests</h2>
<p>Random forests (RF) is a substantial[基本的，实质的，牢固的] modification of bagging that builds a large collection of <strong>de-correlated[不相关] trees</strong>.</p>
<p>算法:</p>
<hr />
<p>for b = 1 to B do<br />
Draw a bootstrap sample Z of size n from the training data.<br />
Grow a random-forest tree Tb to the bootstrapped data, by recursively repeating the following steps for each <mark>terminal node[叶子结点]</mark> of the tree, until the <mark>minimum node size n_min</mark> is reached:<br />
1.Select <mark>m</mark> variables at random from the p variables.<br />
2.Pick the best variable/split-point among the m.[?这个标准是什么哦]<br />
3.Split the node into two daughter nodes.<br />
end for</p>
<hr />
<p>Output the ensemble of trees <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>b</mi></msub><mo separator="true">,</mo><mi>b</mi><mo>=</mo><mo stretchy="false">[</mo><mn>1...</mn><mi>B</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{T_b},b=[1...B]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">]</span></span></span></span>,然后也是回归取平均值，分类取最多的。</p>
<p>Parameters</p>
<ul>
<li>树的数量需要足够多</li>
<li>m：分类<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>p</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.33693999999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.70306em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="padding-left:0.833em;">p</span></span><span style="top:-2.66306em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.33693999999999996em;"><span></span></span></span></span></span></span></span></span>, 回归：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>p</mi><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac p3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0925em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li>minimum node size n_min：分类1，回归5</li>
</ul>
<p>OOB error</p>
<ul>
<li>Out-of-bag</li>
<li>对于每个样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z_i=(x_i,y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，构建一个由不含<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的bootstrap样本组成随机森林，然后得到f，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>o</mi><mi>o</mi><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><mi>f</mi><mo separator="true">,</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{oob}(f,z_i)=l(f(x_i),y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>最后算平均值的带OOB error</li>
</ul>
<h1 id="3-boosting-and-boosted-trees"><a class="markdownIt-Anchor" href="#3-boosting-and-boosted-trees"></a> 3. Boosting and Boosted Trees</h1>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230102/yaimage.1ezac0cbfq68.png" alt="yaimage" /></p>
<p>ensemble method</p>
<p>boosting的应用更普遍</p>
<p>Weak learners and strong learners</p>
<ul>
<li>Weak learners:  regression trees and classification trees with small depth, regression linear models with only a few variables, logistic regression with only a few variables.</li>
<li>Boosting is a way of fitting an additive expansion[加法展开] in a set of elementary “basis” functions: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mrow><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>b</mi><mo>=</mo><mn>1</mn></mrow><mi>B</mi></msubsup><msup><mi>β</mi><mrow><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f^{(B)}(x)=\sum_{b=1}^B\beta^{(b)}h^{(b)}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{(b)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>是weak learners得到的，其预测结果：回归就是f，分类的话还要过一个sign函数</li>
</ul>
<p>Forward Stagewise additive modeling: 前项逐渐叠加模型</p>
<p>算法</p>
<hr />
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230103001231149.png" alt="image-20230103001231149" /></p>
<hr />
<p>AdaBoost: by reweighing the data points.</p>
<p>Gradient Boosting: gradient descent approach.</p>
<h2 id="30-b站看的"><a class="markdownIt-Anchor" href="#30-b站看的"></a> 3.0 b站看的</h2>
<ul>
<li><strong>Boosting VS Bagging</strong></li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>装袋法 Bagging</th>
<th>提升法 Boosting</th>
</tr>
</thead>
<tbody>
<tr>
<td>弱评估器</td>
<td><strong>相互独立</strong>，并行构建</td>
<td><strong>相互关联</strong>，按顺序依次构建<br>先建弱分类器的预测效果影响后续模型的建立</td>
</tr>
<tr>
<td>建树前的抽样方式</td>
<td>样本有放回抽样<br>特征无放回抽样</td>
<td>样本有放回抽样<br>特征无放回抽样<br>先建弱分类器的预测效果可能影响抽样细节</td>
</tr>
<tr>
<td>集成的结果</td>
<td>回归平均<br>分类众数</td>
<td>每个算法<strong>具有自己独特的规则</strong>，一般来说：<br>(1) 表现为某种分数的加权平均<br>(2) 使用输出函数</td>
</tr>
<tr>
<td>目标</td>
<td><strong>降低方差</strong><br>提高模型整体的稳定性来提升泛化能力<br>本质是从“平均”这一数学行为中获利</td>
<td><strong>降低偏差</strong><br>提高模型整体的精确度来提升泛化能力<br>相信众多弱分类器叠加后可以等同于强学习器</td>
</tr>
<tr>
<td>单个评估器容易<br>过拟合的时候</td>
<td>具有一定的抗过拟合能力</td>
<td>具有一定的抗过拟合能力</td>
</tr>
<tr>
<td>单个评估器的效力<br>比较弱的时候</td>
<td>可能失效</td>
<td>大概率会提升模型表现</td>
</tr>
<tr>
<td>代表算法</td>
<td>随机森林</td>
<td>梯度提升树，Adaboost</td>
</tr>
</tbody>
</table>
<p><img src="https://pictes.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E8%AF%BE%20-%20sklearn/RFC/RF2.png" alt="RF2" /></p>
<p>在以随机森林为代表的Bagging算法中，我们一次性建立多个平行独立的弱评估器，并让所有评估器并行运算。在Boosting集成算法当中，我们逐一建立多个弱评估器（基本是决策树），并且下一个弱评估器的建立方式依赖于上一个弱评估器的评估结果，最终综合多个弱评估器的结果进行输出，因此Boosting算法中的弱评估器之间不仅不是相互独立的、反而是强相关的，同时Boosting算法也不依赖于弱分类器之间的独立性来提升结果，这是Boosting与Bagging的一大差别。如果说Bagging不同算法之间的核心区别在于靠以不同方式实现“独立性”（随机性），<strong>那Boosting的不同算法之间的核心区别就在于上一个弱评估器的评估结果具体如何影响下一个弱评估器的建立过程</strong>。</p>
<p>与Bagging算法中统一的回归求平均、分类少数服从多数的输出不同，Boosting算法在结果输出方面表现得十分多样。早期的Boosting算法的输出一般是最后一个弱评估器的输出，当代Boosting算法的输出都会考虑整个集成模型中全部的弱评估器。<strong>一般来说，每个Boosting算法会其以独特的规则自定义集成输出的具体形式</strong>，但对大部分算法而言，集成算法的输出结果往往是<strong>关于弱评估器的某种结果的加权平均</strong>，其中权重的求解是boosting领域中非常关键的步骤。</p>
<p><mark><strong>Boosting算法的基本元素与基本流程</strong></mark></p>
<p>基于上面所明确的“降低偏差”、“逐一建树”、以及“以独特规则输出结果”的三大特色，可以确立任意boosting算法的三大基本元素以及boosting算法自适应建模的基本流程：</p>
<ul>
<li>损失函数L(x,y) ：用以衡量模型预测结果与真实结果的差异</li>
<li>弱评估器f(x) ：（一般为）决策树，不同的boosting算法使用不同的建树过程</li>
<li>综合集成结果H(x)：即集成算法具体如何输出集成结果</li>
</ul>
<h2 id="31-adaboost"><a class="markdownIt-Anchor" href="#31-adaboost"></a> 3.1 AdaBoost</h2>
<p>定义：</p>
<p>Adaptive Boosting，自适应提升法</p>
<p>Adaboost = Forward Stagewise Algorithm with exponential[指数] loss</p>
<p>AdaBoost = gives more and more weight to the data points xi , which are wrongly classified at the stage b[?什么是stage b].</p>
<p>==》在全样本上建立一棵决策树，根据该决策树预测的结果和损失函数值，增加被预测错误的样本在数据集中的样本权重，并让加权后的数据集被用于训练下一棵决策树</p>
<p>算法：</p>
<hr />
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230102/yaimage.1kjrcn7wtem8.png" alt="yaimage" /></p>
<hr />
<p>h：weak classifiers得到的预测函数</p>
<p>err(w,h) : <img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230102/yaimage.45llqblv0o20.png" alt="yaimage" /></p>
<h2 id="32-gradient-boosting"><a class="markdownIt-Anchor" href="#32-gradient-boosting"></a> 3.2 Gradient Boosting</h2>
<p>fit a weak predictor on the gradient step</p>
<p>梯度下降</p>
<ul>
<li>
<p>问题描述：求凸函数的最小值</p>
</li>
<li>
<p>方法：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230102/yaimage.38dgny17toy0.png" alt="yaimage" />，v是步长</p>
</li>
</ul>
<p>Regressor with quadratic loss</p>
<p>Generic Gradient Boosting Algorithm</p>
<p>Gradient Tree Boosting Algorithm for general loss</p>
<h2 id="33-xgboost"><a class="markdownIt-Anchor" href="#33-xgboost"></a> 3.3 XGBoost</h2>
<p>略</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习4_Unsupervised learning</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM4_Unsupervised%20learning/</url>
    <content><![CDATA[<h1 id="cm4_unsupervised-learning"><a class="markdownIt-Anchor" href="#cm4_unsupervised-learning"></a> CM4_Unsupervised learning</h1>
<p>无监督学习</p>
<span id="more"></span>
<h1 id="1-introduction-to-clustering-and-k-means"><a class="markdownIt-Anchor" href="#1-introduction-to-clustering-and-k-means"></a> 1. Introduction to Clustering and k-means</h1>
<h2 id="11-clustering的定义"><a class="markdownIt-Anchor" href="#11-clustering的定义"></a> 1.1 Clustering的定义</h2>
<p>Clustering refers to the process of partitioning a set of objects into subsets consisting of similar objects.</p>
<p>来源wiki的解释：聚类分析（英语：Cluster analysis）亦称为集群分析，是对于统计数据分析的一门技术，在许多领域受到广泛应用，包括机器学习，数据挖掘，模式识别，图像分析以及生物信息。聚类是把相似的对象通过静态分类的方法分成不同的组别或者更多的子集（subset），这样让在同一个子集中的成员对象都有相似的一些属性，常见的包括在坐标系中更加短的空间距离等。“聚类(clustering)”的概念不能精确定义，这也是为什么聚类算法众多的原因之一， 聚类问题的共同点就是有一组数据对象。</p>
<p>选择一个聚类方法需要定义 &quot;类 &quot;的概念，然后在观测值上优化一个标准，但聚类问题不同于监督分类，它很难评估和比较。</p>
<p>Clustering methods (and ML in general) often require <strong>normalization</strong> (or standardization) of data, so that all variables are taken into account[纳入考虑] equally in the clustering criterion used. 以对距离[为什么要拿距离作为例子]的标准化为例：</p>
<ul>
<li>距离的计算：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>l</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mi>x</mi><mi>l</mi></msub><msup><mo stretchy="false">)</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi>M</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mi>x</mi><mi>l</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d^2(x_i,x_l) = (x_i-x_l)&#x27;M(x_i-x_l)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,这里M是欧几里德范数：$ M = I_p $</li>
<li>我们让<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mi>d</mi><mi>i</mi><mi>a</mi><mi>g</mi><mo stretchy="false">(</mo><mfrac><mn>1</mn><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup></mfrac><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mfrac><mn>1</mn><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M = diag(\frac1{\sigma_1^2},...,\frac1{\sigma_2^2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.436748em;vertical-align:-0.5916399999999999em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.62642em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8051142857142857em;"><span style="top:-2.188485714285714em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span><span style="top:-2.8448em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.31151428571428574em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5916399999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.62642em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8051142857142857em;"><span style="top:-2.188485714285714em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span><span style="top:-2.8448em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.31151428571428574em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5916399999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>,然后这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>σ</mi><mi>j</mi><mn>2</mn></msubsup><mo>=</mo><msub><mi>S</mi><mrow><mi>d</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_j^2=S_{dd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.20888em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>表示variance-covariance matrix[方差矩阵]‘</li>
<li>新定义了一个Mahalanobis distance：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><msup><mi>S</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">M = S^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>这里有很多因素会对聚类的结果造成影响：==&gt;聚类问题比监督问题更关心数据的专业了解</p>
<ul>
<li>选择的Variables[重复的]</li>
<li>比较的metric[指标]</li>
<li>类的数量</li>
<li>聚类方法</li>
<li>数据是否 preprocessing(normalization)</li>
</ul>
<p>最后认识到一个点Clustering helps understanding the structure of the data but we should keep in mind that the underlying data is usually continuous. 聚类帮助我们了解数据结构，但底层的数据本身是连续的。</p>
<h2 id="12-k-means"><a class="markdownIt-Anchor" href="#12-k-means"></a> 1.2 K-means</h2>
<p>源于wiki的定义：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.1u1bxgeuhw1s.png" alt="yaimage" /></p>
<p><strong>Clustering and quantification</strong></p>
<p>问题描述：X是要分类的集合，d是X的distance的集合，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>c</mi><mi>k</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\left\{c_1,...,c_k\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span>是X的点的集合，叫做codebook。我们定义量化数据的cost(Φ):</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mrow><mo fence="true">{</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>c</mi><mi>k</mi></msub><mo fence="true">}</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mi>d</mi><mi>r</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mrow><mo fence="true">{</mo><msub><mi>c</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>c</mi><mi>k</mi></msub><mo fence="true">}</mo></mrow><mo stretchy="false">)</mo><mtext>      </mtext><mi>d</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Φ(\left\{c_1,...,c_k\right\})=\sum_{i=1}^nd^r(x_i,\left\{c_1,...,c_k\right\})\ \ \ \ \ \     d(x,A) = min_{a \in A}d(x,a)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Φ</span><span class="mopen">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17737em;"><span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></span></p>
<p>A是什么？？？</p>
<p>Objective of k-means type algorithms is finding a codebook (or a data partitioning) which minimizes Φ. 这不是一个严格的凸优化问题。k-means只是提供近似解。</p>
<p><strong>Space of partitions</strong></p>
<p>Number of partitions of a set of n individuals in K classes (Stirling number of 2nd species)：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mi>K</mi><mo stretchy="false">!</mo></mrow></mfrac><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>K</mi></msubsup><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>j</mi></msup><mo stretchy="false">(</mo><mi>K</mi><mo>−</mo><mi>j</mi><msup><mo stretchy="false">)</mo><mi>n</mi></msup><msubsup><mi>C</mi><mi>k</mi><mi>j</mi></msubsup></mrow><annotation encoding="application/x-tex">\frac1{K!}\sum_{j=0}^K(-1)^j(K-j)^nC^j_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.417049em;vertical-align:-0.43581800000000004em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.3013079999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.942572em;"><span style="top:-2.3986920000000005em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013079999999999em;"><span></span></span></span></span></span></span></span></span></span>, 很容易很大，所以Exhaustive search是不可行的</p>
<p><strong>Inertia[惯性]</strong></p>
<p>我们一般认为：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.7i1kbm1gyag0.png" alt="yaimage" /></p>
<p>Total Inertia: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup><mo>=</mo><msub><mi>I</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>+</mo><msub><mi>I</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">I_{total} = \frac1n\sum^n_{i=1}||x_i-\bar x||^2 = I_{inter} + I_{intra}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>Between-group Inertia：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><mi mathvariant="normal">∣</mi><msub><mi>C</mi><mi>k</mi></msub><mi mathvariant="normal">∣</mi><mo>∗</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mi>m</mi><mi>k</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">I_{inter}=\frac1n\sum^K_{k=1}|C_k|*||m_k-\bar x||^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326231em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>，measures the dispersion[分散性] of the K centers (barycentres)</li>
<li>Within-group Inertia: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mo>∑</mo><mrow><mi>i</mi><mo>∈</mo><msub><mi>C</mi><mi>k</mi></msub></mrow></msub><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mi>m</mi><mi>k</mi></msub><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I_{intra}=\frac1n\sum^K_{k=1}\sum_{i\in C_k}||x_i-m_k||^2 = \frac1nΦ(C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.386801em;vertical-align:-0.40557em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.07153em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.40557em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">Φ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span>,measures the dispersion of the points inside a cluster，在算法迭代中下降</li>
<li>图解<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.6b1pkn04sd80.png" alt="yaimage" /></li>
</ul>
<p><strong>算法</strong></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%Data: Number of clusters K, data set X, number of iterations T.</span></span><br><span class="line"><span class="comment">%Result: clustering C = &#123;C1 . . . CK &#125;.</span></span><br><span class="line">Initialization : choose K initial centers c1, . . . , cK ;</span><br><span class="line">t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> clustering is not stabilized or t &lt; T do</span><br><span class="line">	t = t+<span class="number">1</span> ;</span><br><span class="line">	<span class="keyword">for</span> x ∈ X do</span><br><span class="line">		<span class="keyword">for</span> k = <span class="number">1</span> to K do#计算距离</span><br><span class="line">			Compute all distances to centers ||x − c_k||;</span><br><span class="line">		<span class="keyword">end</span>#分类</span><br><span class="line">		Assign x to the cluster <span class="keyword">for</span> which ||x − c_k||is minimal ;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">for</span> k = <span class="number">1</span> to K do #更新簇心</span><br><span class="line">		Update center in C_k : ck = mk = <span class="number">1</span>/|c_k|*sum x_i</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>K-mean算法的属性</p>
<ul>
<li>复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msub><mi>K</mi><mi>n</mi></msub><mi>T</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(K_nT)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span></span>,T是迭代次数</li>
<li>Within-group inertia decreases</li>
<li>局部最小收敛</li>
<li>需要指定K</li>
<li>intial kernels的选择对结果影响大
<ul>
<li>Selection based on expert knowledge：基于专家==</li>
<li>Preliminary study of univariate data (histograms, …).：需要对data进行初步研究</li>
<li><strong>Dimension reduction</strong> then initialization on a more robust[稳健] structure (k-means on the first PCA components for example).</li>
<li>Repetition[重复试验选择] of the method N times and selection of the classification with the lowest within-group inertia.</li>
</ul>
</li>
<li>可能会产生空的类</li>
<li>异常值(outliers)影响</li>
</ul>
<h3 id="k-means"><a class="markdownIt-Anchor" href="#k-means"></a> K-means++</h3>
<p>a clever <strong>Initialization</strong> of k-means.</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">Choose a first center c uniformly among the xi;</span><br><span class="line">Initialization of the family of centers C = &#123;c&#125; ;</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">2</span> to K do</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">i</span> ∈ &#123;<span class="number">1</span> . . . n&#125; do</span><br><span class="line">		Calculate d(xi,C) the distance to the nearest center;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	Choose ˜c in the xi according to the proba;</span><br><span class="line">	C = C ∪ &#123;c˜&#125; ;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>the proba:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>c</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>C</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{d(x_i,c)^2}{\sum_{x \in X}d(x,C)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.698477em;vertical-align:-0.589557em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10892em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16665428571428575em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3493671428571429em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mathnormal mtight">d</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.589557em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>Perform k-means with this initialization</p>
<h3 id="mini-batch-k-means"><a class="markdownIt-Anchor" href="#mini-batch-k-means"></a> Mini batch k-means</h3>
<p>k-means for very large samples and many clusters. Principle : current step of k-means performed on a <strong>small subsample</strong>.==&gt;每次迭代不采用所有样本，而是每次等量的采样，然后进行中心节点的更新</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">Initialize the centers ck by choosing them uniformly into the xi;</span><br><span class="line">v = (<span class="number">0</span>, . . . , <span class="number">0</span>) vector of <span class="built_in">zeros</span> of <span class="built_in">length</span> K;</span><br><span class="line"><span class="keyword">for</span> t = <span class="number">1</span> to T do</span><br><span class="line">	X˜: subsample of <span class="built_in">size</span> b drawn uniformly in the xi;</span><br><span class="line">	<span class="keyword">for</span> x ∈ X do</span><br><span class="line">		kcx: index of the nearest center cx of x;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">for</span> x ∈ X do ˜</span><br><span class="line">		Update center count v[kcx] = v[kcx] + <span class="number">1</span>;</span><br><span class="line">		Update learning rate η = <span class="number">1</span>/v[kcx];</span><br><span class="line">		Update center cx = (<span class="number">1</span> − η)cx + ηx ;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="13-别的聚类方法"><a class="markdownIt-Anchor" href="#13-别的聚类方法"></a> 1.3 别的聚类方法</h2>
<p>K-means cannot separate non-convex clusters</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221213195421917.png" alt="image-20221213195421917" /></p>
<h1 id="2-quality-of-a-clustering"><a class="markdownIt-Anchor" href="#2-quality-of-a-clustering"></a> 2. Quality of a clustering</h1>
<p>Elbow rule, Silhouette criterion, Statistical Gap</p>
<h2 id="21-elbow-rule"><a class="markdownIt-Anchor" href="#21-elbow-rule"></a> 2.1 Elbow rule</h2>
<p>对于每个K[类的个数]，我们有R-Square：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>S</mi><mi>Q</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><msub><mi>I</mi><mrow><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>i</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>P</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>I</mi><mi>t</mi></msub><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>I</mi><mrow><mi>b</mi><mi>e</mi><mi>t</mi><mi>w</mi><mi>e</mi><mi>e</mi><mi>n</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>P</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>I</mi><mi>t</mi></msub><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">RSQ(K) = 1- \frac{I_{within}(P_k)}{I_total}=\frac{I_{between}(P_k)}{I_total}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.4550999999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4550999999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.07847em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>去找K什么时候稳定</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.77gsy9acfvk0.png" alt="yaimage" /></p>
<h2 id="22-silhouette-criterion"><a class="markdownIt-Anchor" href="#22-silhouette-criterion"></a> 2.2 Silhouette criterion</h2>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>a</mi><mi>x</mi><mi>S</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>  </mtext><mi>a</mi><mi>v</mi><mi>e</mi><mi>c</mi><mtext>  </mtext><mi>S</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msub><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1..</mn><mi>n</mi></mrow></msub><mfrac><mrow><mi>b</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>−</mo><mi>a</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">K = argmax S(C(K)) \ \ avec\ \ S(C(K))=\frac1n\sum_{i=1..n}\frac{b(i)-a(i)}{max(b(i),a(i))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">e</span><span class="mord mathnormal">c</span><span class="mspace"> </span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">x</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">a</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>: 与群组中其他观测值之间的平均距离</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>: 与离i<em>最近</em>的群组的观测值之间的平均距离。</li>
</ul>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221213201535415.png" alt="image-20221213201535415" /></p>
<h2 id="23-statistical-gap"><a class="markdownIt-Anchor" href="#23-statistical-gap"></a> 2.3 Statistical Gap</h2>
<p>对于每个K，计算within-group covariance matrix和其行列式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>e</mi><mi>t</mi><mo stretchy="false">(</mo><msub><mi>W</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">det(W_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,然后构建曲线<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo separator="true">,</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>d</mi><mi>e</mi><mi>t</mi><mo stretchy="false">(</mo><msub><mi>W</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K,log(det(W_k))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>,然后和uniformly distributed的数据[???]比较，最后选择差最大的为K</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.5m7d0x1rf6c0.png" alt="yaimage" /></p>
<h1 id="3-dimension-reduction"><a class="markdownIt-Anchor" href="#3-dimension-reduction"></a> 3. Dimension reduction</h1>
<h2 id="31-intro"><a class="markdownIt-Anchor" href="#31-intro"></a> 3.1 Intro</h2>
<p>降维的目的：</p>
<ul>
<li>可视化/Visualization</li>
<li>Extraction or creation of “features” that best summarize the information.提取主要特征</li>
<li>可以让统计更有效，因为many methods in statistics are inefficient in high dimension.</li>
<li>降低计算的复杂度</li>
<li>维度增加让可用数据变得稀疏/when the dimensionality increases, the volume of the space increases so fast that the available data become sparse.</li>
</ul>
<p>Manifold Assumption</p>
<ul>
<li>高维数据聚集或者接近低维的线性结构</li>
<li>We try to ”embed[嵌入]” the data in a lower dimensional space while preserving the geometry[几何结构] of the data as much as possible</li>
<li>Linear dimension reduction means that Φ is linear</li>
</ul>
<p>Multivariate statistics</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221213204127463.png" alt="image-20221213204127463" /></p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221213204151265.png" alt="image-20221213204151265" /></p>
<h2 id="32-pca"><a class="markdownIt-Anchor" href="#32-pca"></a> 3.2 PCA</h2>
<p>[b站][[<a href="https://www.bilibili.com/video/BV1E5411E71z/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8">https://www.bilibili.com/video/BV1E5411E71z/?spm_id_from=333.337.search-card.all.click&amp;vd_source=ec0ffac623909fb11a02d9651bce5ea8</a>]这个视频讲的贼拉好</p>
<p>首先PCA的功能的直观理解：二维到一维为例</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221213210918706.png" alt="image-20221213210918706" /></p>
<p>本质是找到新的坐标系，使得数据的信息损失最小[用在主成分方向上的方差来衡量]，方法</p>
<ul>
<li>去中心化：把新的原点设为数据中心</li>
<li>旋转角度：方差最大的方向
<ul>
<li>数据的线性变换
<ul>
<li>拉伸：SD，S=[i,j],i=[2,0],j=[0,1]就是把x轴拉成2倍</li>
<li>旋转：RD，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>θ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">R = \begin{bmatrix}cos(\theta)&amp;-sin(\theta\\sin(\theta)&amp;cos(\theta)\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span>,把数据旋转<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span></li>
<li>新数据 = RSD[原来的白数据Data]，S拉伸最大的方向就是方差最大的方向[横或者纵]，R决定方差最大方向的角度，这样变化还有一个好处，原来的xy无关现在变得相关。</li>
</ul>
</li>
<li>R的求法：协方差矩阵[对角，对角线是方差,表示x，y的相关性]的特征向量，然后可以很神奇的推出来两个轴方向的方差就是协方差矩阵的特征值。</li>
</ul>
</li>
</ul>
<p>三维到二维就是找一个平面所有点在这个平面上投影的方差最大</p>
<p>PCA的标准圆与置信椭圆</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.69dxxri4bns0.png" alt="yaimage" /></p>
<p>PCA 与 SVD: SVD的右奇异矩阵V就是PCA的主成分。</p>
<p>应用于变量X是一个多维的矩阵的情况，PCA可以提供：</p>
<ul>
<li>An “optimal” representation of observations in a subspace of dimension q of R</li>
<li><strong>New variables/called principal components</strong>- summarizing in an “optimal way” the information contained in the initial set of variables.包含了所有信息的新变量</li>
</ul>
<p>看不懂了T=T</p>
<p><strong>Correlation circle</strong>: 将两个主成分和变量可视化，变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">x^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>对应<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>c</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>j</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="normal">Ψ</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>c</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>j</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="normal">Ψ</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(cor(x^j, Ψ^1),cor(x^j, Ψ^2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>,cor是什么[???]</p>
<p>主成分数量的选择方法：</p>
<ul>
<li>Proportion of imposed inertia</li>
<li>Kaiser’s rule (normalized PCA) : keep only the eigenvalues[特征值] larger than the average==&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mo fence="true">{</mo><mi>l</mi><mi mathvariant="normal">∣</mi><msub><mi>λ</mi><mi>l</mi></msub><mo>&gt;</mo><mo>=</mo><mfrac><mn>1</mn><mi>p</mi></mfrac><msub><mo>∑</mo><mrow><mi>s</mi><mo>=</mo><mn>1</mn></mrow></msub><msub><mi>λ</mi><mi>s</mi></msub><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">q=max\left\{l|\lambda _l &gt;= \frac1p\sum_{s=1}\lambda_s\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">{</span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139799999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">}</span></span></span></span></span></span></li>
<li>Elbow criterion</li>
</ul>
<h2 id="33-non-linear-dimension-reduction"><a class="markdownIt-Anchor" href="#33-non-linear-dimension-reduction"></a> 3.3 Non-linear dimension reduction</h2>
<p>autoencoder:自动编码器</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221213/yaimage.693i76820ps0.png" alt="yaimage" /></p>
<p>？？？？</p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习TP1</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_TP0_Plot&amp;Numpy/</url>
    <content><![CDATA[<p>对应TP2&amp;3&amp;4</p>
<p>plot &amp; numy &amp; pandas  scipy.stats</p>
<span id="more"></span>
<h1 id="plot"><a class="markdownIt-Anchor" href="#plot"></a> Plot</h1>
<h2 id="1-curves"><a class="markdownIt-Anchor" href="#1-curves"></a> 1. curves</h2>
<p>用到的库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br></pre></td></tr></table></figure>
<p>在运行时可能会出现[&lt;matplotlib.lines.Line2D at 0x7fdafd5e7eb8&gt;]这种输出，在最后一行加上分号解决</p>
<p>输出字符串+r&quot;…&quot;就是latex格式==&gt;标题图例xy轴标签啥的然后后面还可+str(变量)</p>
<h3 id="11-plt-vs-subplots"><a class="markdownIt-Anchor" href="#11-plt-vs-subplots"></a> 1.1 plt VS subplots</h3>
<p>A plot is mainly made of two objects: a figure and a set of axes.</p>
<ul>
<li>Roughly speaking, the figure is the big box in which everything is put (it is the top level container). For instance, a figure is characterized by a size, a title and a facecolor.</li>
<li><strong>The axes are the plots themselves[图本身]</strong>.There can be several plots inside a figure (also called subplots) and they are, for example, characterized by ticks, limits on x and y, a legend and a title. The axes contain the curves plotted.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fig, ax = plt.subplots()  # Create a figure with a single Axes object</span><br><span class="line"></span><br><span class="line"># This is similar to:</span><br><span class="line"># fig = plt.figure()</span><br><span class="line"># ax = fig.add_subplot(1, 1, 1)  # 1 row, 1 column, first item</span><br><span class="line"></span><br><span class="line">ax.plot(x, y1)  # Create a curve in ax</span><br><span class="line">ax.plot(x,y1+1); #能画出向y平移的第二条线</span><br><span class="line"># fig.show()  # Show the figure (in Spyder only)</span><br></pre></td></tr></table></figure>
<h3 id="12-subplots"><a class="markdownIt-Anchor" href="#12-subplots"></a> 1.2 subplots</h3>
<ul>
<li>fig,axs = plt.subplots(2)==&gt;ax[0].plot(x1,y1)   或者 ax1.plot(x,y)<strong>#注意是1</strong></li>
<li>fig,axs = plt.subplots(2,2)==&gt;ax[0,0].plot(x1,y1)   或者 ax1.plot(x,y)#注意是1</li>
<li>遍历每个子图可以：for ax in fig.get_axes()</li>
<li>subplots里面可以加sharex=True这种</li>
</ul>
<h3 id="13-plot"><a class="markdownIt-Anchor" href="#13-plot"></a> 1.3 plot</h3>
<ul>
<li>linestyle:‘-’,‘:’</li>
<li>color</li>
<li>linewidth</li>
<li>marker: ‘.’,‘,’,‘1’,‘s’</li>
<li>markersize</li>
</ul>
<h3 id="14-gridlabelstitle-and-legend"><a class="markdownIt-Anchor" href="#14-gridlabelstitle-and-legend"></a> 1.4 grid，labels，title and legend</h3>
<p>grid: 网格,<code>ax.grid()</code></p>
<p>labels: <code>ax.set_xlabel('x')</code></p>
<p>title: <code>ax.set_title('标题')</code></p>
<p>legend:加图例，有两种方法</p>
<ul>
<li>
<p>在ax.plot里面加参数label=“第一个图”</p>
</li>
<li>
<p>ax.legend((“sin”, “cos”), loc=“lower left”)</p>
</li>
<li>
<p>loc参数：默认0(‘best’)</p>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221205110909577.png" alt="image-20221205110909577" /></p>
</li>
<li>
<p>fontsize:图例的字体大小，int或者{‘xx-small’, ‘x-small’, ‘small’, ‘medium’, ‘large’, ‘x-large’, ‘xx-large’}</p>
</li>
<li>
<p>markerscale:图例标记的相对大小</p>
</li>
<li>
<p>bbox_to_anchor：用于与<em>loc</em>一起定位图例的框，二元组或者四元组</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loc=<span class="string">&#x27;best&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">0.</span>, <span class="number">0.5</span>, <span class="number">0.5</span>)<span class="comment">#图右下角的最佳位置</span></span><br><span class="line">loc=<span class="string">&#x27;upper right&#x27;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">0.5</span>)<span class="comment">#图正中心</span></span><br><span class="line">loc=<span class="string">&quot;upper center&quot;</span>, bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">1.3</span>)<span class="comment">#图例的上方中心在X轴的一半，在曲线框的上方0.3处。</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ncol: 图例列数</p>
</li>
</ul>
<h3 id="14-limits-and-ticks"><a class="markdownIt-Anchor" href="#14-limits-and-ticks"></a> 1.4 Limits and ticks</h3>
<p><strong>limits:</strong> x,y轴范围, ax.set_xlim(0.0, 2*pi)</p>
<p>**x,y名字：**ax.set_xlabel(“x”)，ax.set_ylabel(“y”)</p>
<p><strong>Spines</strong>改变spines[记录数据区域边界的线]的位置和颜色，例子</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.spines[<span class="string">&#x27;right&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)  <span class="comment"># Erase right axis</span></span><br><span class="line">ax.spines[<span class="string">&#x27;top&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)  <span class="comment"># Erase upper axis</span></span><br><span class="line">ax.spines[<span class="string">&#x27;bottom&#x27;</span>].set_position((<span class="string">&#x27;data&#x27;</span>, <span class="number">0</span>))  <span class="comment"># Set x axis at y=0</span></span><br><span class="line">ax.spines[<span class="string">&#x27;left&#x27;</span>].set_position((<span class="string">&#x27;data&#x27;</span>, <span class="number">0</span>))  <span class="comment"># Set y axis at x=0</span></span><br></pre></td></tr></table></figure>
<p><strong>ticks: 刻度</strong></p>
<ul>
<li>
<p><strong>ax.set_yticks</strong>，传一个数组或者列表：</p>
<ul>
<li><code>ax.set_yticks(linspace(-1, 1, 9, endpoint=True));</code></li>
<li><code>ax.set_xticks([t*pi/2 for t in range(5)])  </code></li>
</ul>
</li>
<li>
<p><strong>ax.set_xticklabels:设置每个刻度的名字：</strong>``````ax.set_xticklabels([r’<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>’, r’<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\pi/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span></span></span></span>’, r’<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span>’, r’<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">3\pi/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span></span></span></span>’, r’<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span>’],fontsize=14)  # Set xlabels```</p>
</li>
<li>
<p>设置刻度的位置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ax.xaxis.set_ticks_position(&#x27;bottom&#x27;)  # Set ticks below the x axis</span><br><span class="line">ax.yaxis.set_ticks_position(&#x27;left&#x27;)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>设置主/次刻度</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.xaxis.set_major_locator(MultipleLocator(pi/<span class="number">2</span>))</span><br><span class="line">ax.xaxis.set_major_formatter(FormatStrFormatter(<span class="string">&#x27;%0.2f&#x27;</span>))</span><br><span class="line">ax.xaxis.set_minor_locator(MultipleLocator(pi/<span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">ax.yaxis.set_major_locator(MultipleLocator(<span class="number">0.5</span>))</span><br><span class="line">ax.yaxis.set_minor_locator(MultipleLocator(<span class="number">0.25</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#让最后次要的刻度虚线显示</span></span><br><span class="line">ax.grid(which=<span class="string">&quot;minor&quot;</span>, linestyle=<span class="string">&quot;:&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>里面传递的一些参数</p>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221205141624149.png" alt="image-20221205141624149" /></p>
</li>
</ul>
<p><strong>非线性轴</strong>: axis.set_yscale(“log”)</p>
<h3 id="15-fill-between-curves"><a class="markdownIt-Anchor" href="#15-fill-between-curves"></a> 1.5 Fill between curves</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.fill_between(x, y1, y2, color=<span class="string">&quot;blue&quot;</span>, alpha=<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="16-adding-text"><a class="markdownIt-Anchor" href="#16-adding-text"></a> 1.6 Adding text</h3>
<p>1.text,主要参数：</p>
<ul>
<li>先传位置x,y</li>
<li>文本内容[+r可以写latex格式]</li>
<li>color</li>
<li>fontsize, fontweight</li>
</ul>
<p>也可以传图形</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bboxprops = <span class="built_in">dict</span>(boxstyle=<span class="string">&quot;rarrow&quot;</span>, facecolor=(<span class="number">0.8</span>,<span class="number">0.9</span>,<span class="number">0.9</span>), edgecolor=<span class="string">&quot;b&quot;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax.text(<span class="number">1.5</span>, -<span class="number">0.5</span>, <span class="string">&quot;Time&quot;</span>, horizontalalignment=<span class="string">&quot;center&quot;</span>, verticalalignment=<span class="string">&quot;center&quot;</span>,fontsize=<span class="number">16</span>, color=<span class="string">&quot;green&quot;</span>, bbox=bboxprops);<span class="comment">#画箭头</span></span><br></pre></td></tr></table></figure>
<p>2.annotate</p>
<p>搬个例子</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arrowprops = <span class="built_in">dict</span>(facecolor=<span class="string">&#x27;blue&#x27;</span>, width=<span class="number">2</span>, headwidth=<span class="number">7</span>, shrink=<span class="number">0.05</span>)</span><br><span class="line">ax.annotate(<span class="string">&#x27;Local min&#x27;</span>, xy=(<span class="number">3</span>*pi/<span class="number">2</span>, -<span class="number">1</span>), xytext=(<span class="number">2</span>, -<span class="number">0.5</span>), fontsize=<span class="number">14</span>,horizontalalignment=<span class="string">&#x27;right&#x27;</span>, verticalalignment=<span class="string">&#x27;top&#x27;</span>, arrowprops=arrowprops);</span><br></pre></td></tr></table></figure>
<h2 id="2-其他"><a class="markdownIt-Anchor" href="#2-其他"></a> 2. 其他</h2>
<h3 id="21-image"><a class="markdownIt-Anchor" href="#21-image"></a> 2.1 image</h3>
<p>matplotlib库下面的image库，generally nicknamed <code>mpimg</code></p>
<p><a href="http://python-imaging.github.io/">Pillow</a>库支持加载图像数据。matplotlib 本身只支持 PNG 图像。如果本机读取失败，下面显示的命令将返回到 Pillow。</p>
<ul>
<li>图片显示</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.image <span class="keyword">as</span> mpimg</span><br><span class="line">%matplotlib inline</span><br><span class="line">img = mpimg.imread(<span class="string">&#x27;111.jpg&#x27;</span>)<span class="comment">#这里img读出来是数组类型的</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line">ax.imshow(img);</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>RGB通道分离</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line">ax = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, color <span class="keyword">in</span> <span class="built_in">enumerate</span>([<span class="string">&#x27;Reds&#x27;</span>, <span class="string">&#x27;Greens&#x27;</span>, <span class="string">&#x27;Blues&#x27;</span>]):<span class="comment">#这里enumerate很灵性噢</span></span><br><span class="line">    ax.append(fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, i+<span class="number">1</span>))</span><br><span class="line">    axim = ax[-<span class="number">1</span>].imshow(img[:, :, i], cmap=color)</span><br><span class="line">    fig.colorbar(axim)<span class="comment">#加颜色条</span></span><br><span class="line">    ax[i].set_title(color)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="22-scatter"><a class="markdownIt-Anchor" href="#22-scatter"></a> 2.2 Scatter</h3>
<p>画点,ax.scatter(x, y, c=color, s=size, alpha=0.5),常用参数说明</p>
<ul>
<li>x,y坐标</li>
<li>c：颜色</li>
<li>marker: 默认‘o’, 可以是*(‘v’, ‘^’, ‘&lt;’, ‘&gt;’, ‘8’, ‘s’, ‘p’, ‘*’, ‘h’, ‘H’, ‘D’, ‘d’, ‘P’, ‘X’)*,详见：<a href="https://matplotlib.org/2.0.2/api/markers_api.html#matplotlib.markers.MarkerStyle">https://matplotlib.org/2.0.2/api/markers_api.html#matplotlib.markers.MarkerStyle</a></li>
<li>alpha：透明度</li>
<li>s：size</li>
</ul>
<p>一个很秀的写法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = random.randn(<span class="number">200</span>)</span><br><span class="line">y = random.randn(<span class="number">200</span>)</span><br><span class="line">label = <span class="number">2</span>*x+y &gt; <span class="number">0</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.scatter(x, y, c=label, alpha=<span class="number">0.5</span>)  <span class="comment"># alpha tunes transparency</span></span><br><span class="line">ax.grid();</span><br></pre></td></tr></table></figure>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221205212002971.png" alt="image-20221205212002971" /></p>
<h3 id="23-stem"><a class="markdownIt-Anchor" href="#23-stem"></a> 2.3 Stem</h3>
<p>绵棒图，和plot差不多，效果这样子</p>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221205211902890.png" alt="image-20221205211902890" /></p>
<h3 id="24-histogram-vs-bar"><a class="markdownIt-Anchor" href="#24-histogram-vs-bar"></a> 2.4 Histogram VS Bar</h3>
<p>概念上</p>
<p>**直方图（Histogram）**是一种可视化在连续间隔，或者是特定时间段内数据分布情况的图表，经常被用在统计学领域。简单来说，<strong>直方图描述的是一组数据的频次分布直方图有助于我们知道数据的分布情况，诸如众数、中位数的大致位置、数据是否存在缺口或者异常值</strong>。</p>
<p>比较：</p>
<ul>
<li>直方图展示数据的分布，柱状图比较数据的大小。</li>
<li><strong>直方图X轴为定量数据，柱状图X轴为分类数据。</strong></li>
<li>直方图柱子无间隔，柱状图柱子有间隔</li>
<li>直方图柱子宽度可不一，柱状图柱子宽度须一致</li>
</ul>
<p>python上</p>
<ul>
<li>
<p>hist</p>
<figure class="highlight plaintext"><figcaption><span>bins</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  - x: 一组数</span><br><span class="line">  - bins: 默认是10，可以是数，也可以是一个不等的序列</span><br><span class="line">  - density:默认Flase表示y是频次，True是y是频率/小数</span><br><span class="line"></span><br><span class="line">- bar</span><br><span class="line"></span><br><span class="line">  ```ax.bar(index, means, width=0.9, edgecolor=&quot;blue&quot;, alpha=0.2, yerr=std)```</span><br><span class="line"></span><br><span class="line">  - 传X和Y</span><br><span class="line">  - 然后下面可以贴名字,比如：ax.set_xticklabels(names, fontsize=14)，然后上面的X是arange(len(names))这种</span><br><span class="line"></span><br><span class="line">### 2.5 Pie</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>labels = ‘Frogs’, ‘Hogs’, ‘Dogs’, ‘Logs’<br />
sizes = [15, 30, 45, 10]<br />
colors = [‘yellowgreen’, ‘gold’, ‘lightskyblue’, ‘lightcoral’]<br />
explode = 0, 0.1, 0, 0  # only “explode” the 2nd slice (i.e. ‘Hogs’)#偏移，空出来那里</p>
<p>ax.pie(sizes, explode=explode, labels=labels, colors=colors,<br />
autopct=‘%1.1f%%’, shadow=True, startangle=90)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">参数说明：</span><br><span class="line"></span><br><span class="line">- x：一维数组</span><br><span class="line">- explode: 是一个len(x)数组，它指定**偏移**每个楔形的半径的分数</span><br><span class="line">- colors:颜色</span><br><span class="line">- labels:标签</span><br><span class="line">- autopct:放在扇形里面的东西，可以是字符串或者函数。不太懂</span><br><span class="line"></span><br><span class="line">这里的效果：</span><br><span class="line"></span><br><span class="line">![image-20221205212602648](/home/nl7876/.config/Typora/typora-user-images/image-20221205212602648.png)</span><br><span class="line"></span><br><span class="line">### 2.6 3D</span><br><span class="line"></span><br><span class="line">projection=&#x27;3d&#x27; + plot_surface</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line"># Polynomial</span><br><span class="line">x = arange(-5, 5, 0.25)</span><br><span class="line">y = arange(-5, 5, 0.25)</span><br><span class="line">X, Y = meshgrid(x, y)#从两个向量中返回两个矩阵，X是x重复len(Y)行，Y是y重复len(X)列</span><br><span class="line">Z = X + Y**2</span><br><span class="line"># Initialize 3D plot</span><br><span class="line">fig = plt.figure(figsize=(10, 8))</span><br><span class="line">ax = fig.add_subplot(1, 1, 1, projection=&#x27;3d&#x27;)</span><br><span class="line"></span><br><span class="line"># Plot</span><br><span class="line">surf = ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=cm.coolwarm, linewidth=0)</span><br></pre></td></tr></table></figure>
<h1 id="numpy"><a class="markdownIt-Anchor" href="#numpy"></a> Numpy</h1>
<h2 id="1-创建array"><a class="markdownIt-Anchor" href="#1-创建array"></a> 1. 创建array：</h2>
<ul>
<li>从列表：<code>a = np.array(l)</code>，可以加上dtype指定类型</li>
<li>np里面的一些函数: <code>np.arange(15)</code>,<code>np.zeros((3,4))</code>,<code>np.ones((2,10))</code>：全1的矩阵,<code>np.eye(3)</code>:单位矩阵，<code>np.diag([1,2,3])</code>:对角矩阵，<code>np.linspace(0,1,6)</code>:注意与arange区分，那个是地点终点步长，这个是起点终点和个数</li>
</ul>
<h2 id="2array的属性"><a class="markdownIt-Anchor" href="#2array的属性"></a> 2.array的属性</h2>
<p>a.dim:维数/行，a.shape,a.size:总数,a.dtype:类型</p>
<h2 id="3修改形状"><a class="markdownIt-Anchor" href="#3修改形状"></a> 3.修改形状</h2>
<ul>
<li>reshape: m = np.arange(12); m.reshape(4, 3)
<ul>
<li>-1: 提供新形状的满足标准是“新形状应与原始形状兼容”,自动补全的未知形状==&gt;比如m.reshape(-1, 1)就是把原来的变成列向量</li>
</ul>
</li>
<li>ravel:变成一维数组</li>
</ul>
<h2 id="4重复与连接"><a class="markdownIt-Anchor" href="#4重复与连接"></a> 4.重复与连接</h2>
<p>np.tile(m,(2,3)): 把m的行重复两次，列重复3次</p>
<p>np.concatenate((m,n)): 连接m和n，默认接着行，加axis=1表示横着列连接</p>
<p>对于二维数组，连接也可以用np.vastack[竖折]和np.hstack[横着]</p>
<h2 id="5索引和切片"><a class="markdownIt-Anchor" href="#5索引和切片"></a> 5.索引和切片</h2>
<p>正常取位置：m[3,2]或者m[3] [2]，m[3,:]:第三行, m[:,3]:第三列,m[[1,1,2],[0,1,2]]:取(1,0),(1,1)和(2,2)</p>
<p>根据条件</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.logical_and(<span class="number">3</span> &lt; m, m &lt; <span class="number">9</span>) <span class="comment">#会得到一个布尔矩阵</span></span><br><span class="line">m(np.logical_and(<span class="number">3</span> &lt; m, m &lt; <span class="number">9</span>)) <span class="comment">#筛选出符合条件的</span></span><br><span class="line"><span class="comment">#单个条件直接写：</span></span><br><span class="line">m[m%<span class="number">2</span> == <span class="number">1</span>]<span class="comment">#得到奇数</span></span><br><span class="line"><span class="comment">#还可以更高级</span></span><br><span class="line">m[m%<span class="number">2</span> == <span class="number">1</span>] -= <span class="number">1</span><span class="comment">#让奇数自减</span></span><br></pre></td></tr></table></figure>
<h2 id="6copy和view"><a class="markdownIt-Anchor" href="#6copy和view"></a> 6.copy和view</h2>
<p>b = a.copy()和c = a.view(),我看着效果差不多</p>
<h2 id="7-基本计算"><a class="markdownIt-Anchor" href="#7-基本计算"></a> 7. 基本计算</h2>
<p>可以对array做加减乘乘方这些基本操作，不管几维都可以</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">m ** <span class="number">2</span></span><br><span class="line">m * <span class="number">2</span></span><br><span class="line">m + <span class="number">2</span></span><br><span class="line">m - <span class="number">2</span></span><br><span class="line">m - n</span><br><span class="line">m &lt; <span class="number">2</span> <span class="comment">#会得到一个布尔矩阵</span></span><br></pre></td></tr></table></figure>
<h2 id="8-broadcasting"><a class="markdownIt-Anchor" href="#8-broadcasting"></a> 8. Broadcasting</h2>
<p>广播(Broadcast)是 numpy 对不同形状(shape)的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。当运算中的 2 个数组的形状不同时，numpy 将自动触发广播机制。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/10/image0020619.gif" alt="img" /></p>
<h2 id="9-numpy里面的一些数学函数"><a class="markdownIt-Anchor" href="#9-numpy里面的一些数学函数"></a> 9. numpy里面的一些数学函数</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a.sum()#和</span><br><span class="line">a.prod()#连乘</span><br><span class="line">a.cumsum()#每个位置是前面的和</span><br><span class="line">a.mean()</span><br><span class="line">a.sort()</span><br><span class="line">a.argmin()#返回沿轴的最小值的索引</span><br><span class="line">#多维里面加参数可以算行和列</span><br><span class="line">a.mean(axis=0)#算每列的均值</span><br><span class="line">a.sum(axis=1)#按行求和</span><br></pre></td></tr></table></figure>
<p>还有np带的好多,np.cos，np.exp，np.fmax(np.sin(x),np.cos(x))等等</p>
<p>然后还有很多线性代数的函数</p>
<ul>
<li>a.dot(b)：算a和b内积</li>
<li>np.outer(a,b): 算a和b外积</li>
<li>A.T：转置</li>
<li>np.linalg.eigvalsh(A)：特征值</li>
<li>A.trace()：迹</li>
<li>np.linalg.inv(A)：逆</li>
</ul>
<p>然后是一些逻辑判断的函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">np.any(C &lt; -1, axis=0)</span><br><span class="line">np.all(C &gt; -5, axis=1)</span><br><span class="line">indx, indy = np.where(C &lt; -1)#返回的是下标</span><br></pre></td></tr></table></figure>
<h1 id="scipy"><a class="markdownIt-Anchor" href="#scipy"></a> Scipy</h1>
<p>Scipy is a collection of mudules for various mathematical purposes. Leveraging the Numpy package, Scipy offers a broad and powerful environment for solving scientific problems. Roughly speaking, Scipy is to Python what toolboxes are to Matlab.</p>
<ul>
<li>An important feature of the <a href="http://docs.scipy.org/doc/scipy/reference/special.html#module-scipy.special">scipy.special</a> module is the definition of numerous mathematical functions, called <em>special functions</em>. Available functions include Airy, elliptic, Bessel, gamma, beta, hypergeometric, parabolic cylinder, Mathieu, spheroidal wave, Struve, and Kelvin. ==&gt; 很多数学函数的包</li>
<li>The <a href="http://docs.scipy.org/doc/scipy/reference/linalg.html#module-scipy.linalg">scipy.linalg</a> module is crafted for linear algebra. It subsumes[包括] all the functions in numpy.linalg and adds other more advanced ones.
<ul>
<li>比如说可以解线性方程: <code>x = linalg.solve(C, b)</code></li>
<li>然后还有一些特殊矩阵的构造器：对角线矩阵、循环矩阵、Hadamard 矩阵、Toeplitz 矩阵……</li>
</ul>
</li>
<li>The <a href="http://docs.scipy.org/doc/scipy/reference/optimize.html#module-scipy.optimize">scipy.optimize</a> module offers several common but efficient routines for constrained and unconstrained optimization, as well as curve fitting and root finding.
<ul>
<li>optimize.minimize</li>
<li>optimize.curve_fit</li>
<li>optimize.fsolve</li>
</ul>
</li>
<li><a href="http://docs.scipy.org/doc/scipy/reference/interpolate.html#module-scipy.interpolate">scipy.interpolate</a> provides functions for uni and multivariate data interpolation. Here, we only focus on unidimensional interpolation</li>
<li>In the <a href="http://docs.scipy.org/doc/scipy/reference/integrate.html#module-scipy.integrate">scipy.integrate</a> module, one can find several methods (trapezoidal, Simpson, Romberg, etc) for integrating uni, bi and trivariate functions.</li>
</ul>
<h1 id="文件管理"><a class="markdownIt-Anchor" href="#文件管理"></a> 文件管理</h1>
<p>open的参数</p>
<ul>
<li><code>r</code>: read only;</li>
<li><code>w</code>: write only;</li>
<li><code>a</code>: append;</li>
<li><code>r+</code>: read and write;</li>
<li><code>[rwa]b</code>: (read, write, append) binary.</li>
</ul>
<p>在jupyter中可以这样子写来加载文件:<code>!cat an_example.txt</code></p>
<p>打开后然后读：f.read(),f.readline(),f.readlines(),一种常见的遍历每行的方法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;an_example.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> it, line <span class="keyword">in</span> <span class="built_in">enumerate</span>(f):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Line&quot;</span>, it, <span class="string">&quot;:&quot;</span>, line)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习TP2_Classification</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_TP1&amp;2_Classification/</url>
    <content><![CDATA[<h1 id="tp_classification"><a class="markdownIt-Anchor" href="#tp_classification"></a> TP_Classification</h1>
<span id="more"></span>
<p>sklearn一般将vecteur做为输入对象，像一般用pandas读成dataframe或者series可以用<code>A.to_numpy()</code></p>
<h2 id="1-数据处理"><a class="markdownIt-Anchor" href="#1-数据处理"></a> 1. 数据处理</h2>
<h3 id="11-split"><a class="markdownIt-Anchor" href="#11-split"></a> 1.1 Split</h3>
<p>把数据集拆分成train和test</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">VertebralVar_train,VertebralVar_test,VertebralClas_train, VertebralClas_test = train_test_split (VertebralVar, VertebralClas,test_size = <span class="number">0.4</span> , train_size = <span class="number">0.6</span> , random_state = <span class="literal">None</span> , shuffle = <span class="literal">True</span> , stratify = <span class="literal">None</span> )</span><br></pre></td></tr></table></figure>
<p>返回的顺序是：<code>X_train, X_test, y_train, y_test</code></p>
<p>shuffle: bool变量，是否将数据打乱，默认为None</p>
<p>random_state: int，RandomState 实例或 None默认为None。如果没有在代码中指定 random_state，那么每次运行（执行）代码时都会生成一个新的随机值，并且每次训练和测试数据集都会有不同的值。但是，如果分配了一个固定值，如 random_state = 0 或 1 或 42 或<strong>任何</strong>其他整数，那么无论您执行代码多少次，结果都将是相同的。即，训练和测试数据集中的值相同。</p>
<h3 id="12-normalization"><a class="markdownIt-Anchor" href="#12-normalization"></a> 1.2 Normalization</h3>
<p>这里说的是标准化，用的preprocessing.scale</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">features_nor = preprocessing.scale(activity_features, axis=<span class="number">0</span>)<span class="comment">#données standardisées</span></span><br></pre></td></tr></table></figure>
<p>而且这里很神奇噢，就是activity_features是dataframe的，处理完变成array了也</p>
<p>顺手记录TP2中取X，Y的方式</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#features_nor:标准化之后的训练用的变量X[多个特征]</span></span><br><span class="line"><span class="comment">#activity：训练用的y</span></span><br><span class="line">n,p = shape(features_nor)</span><br><span class="line">index_act34 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n) <span class="keyword">if</span> activity[i]==<span class="number">3</span> <span class="keyword">or</span> activity[i]==<span class="number">4</span>] </span><br><span class="line">activity34 = activity[index_act34]</span><br><span class="line"><span class="built_in">print</span>(activity34)</span><br><span class="line">features34 = features_nor[index_act34]</span><br><span class="line"><span class="built_in">print</span>(shape(features34))</span><br></pre></td></tr></table></figure>
<h3 id="13-présélection-de-features-pour-réduire-la-dimension-screening"><a class="markdownIt-Anchor" href="#13-présélection-de-features-pour-réduire-la-dimension-screening"></a> 1.3 Présélection de features pour réduire la dimension (screening)</h3>
<p>训练数据预选</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest, f_classif</span><br><span class="line">Selec = SelectKBest(f_classif,k=<span class="number">100</span>)</span><br><span class="line">features34 = Selec.fit_transform(features34,activity34)</span><br></pre></td></tr></table></figure>
<p>就是这里X太多特征了，然后需要筛选一下</p>
<h2 id="2-各种模型"><a class="markdownIt-Anchor" href="#2-各种模型"></a> 2. 各种模型</h2>
<h3 id="21-gaussian-naive-bayes"><a class="markdownIt-Anchor" href="#21-gaussian-naive-bayes"></a> 2.1 Gaussian Naive Bayes</h3>
<p>把训练集分成AB和NO两类，然后去分别计算他两的的均值和协方差[是方差的对角化后的矩阵]，然后有score等于下面的东西</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">score_NB_test = [</span><br><span class="line">    [n_AB*multivariate_normal.pdf(x,mean=mean_AB,cov=Cov_NB_AB),</span><br><span class="line">     n_NO*multivariate_normal.pdf(x,mean=mean_NO,cov=Cov_NB_NO)] <span class="keyword">for</span> x <span class="keyword">in</span> VertebralVar_test]</span><br></pre></td></tr></table></figure>
<p>然后根据这个score去做预测</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pred_NB_test = [(<span class="string">&#x27;AB&#x27;</span><span class="keyword">if</span> x[<span class="number">0</span>]&gt;x[<span class="number">1</span>] <span class="keyword">else</span> <span class="string">&#x27;NO&#x27;</span>) <span class="keyword">for</span> x <span class="keyword">in</span> score_NB_test]</span><br></pre></td></tr></table></figure>
<p>和直接用sklearn里面的模型拟合</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">gnb = GaussianNB()</span><br><span class="line">y_perd = gnb.fit(VertebralVar_train,VertebralClas_train).predict(VertebralVar_test)</span><br></pre></td></tr></table></figure>
<p>效果比较</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">confusion_matrix(VertebralClas_test,y_perd)</span><br><span class="line">cnf_matrix_NB_test.astype(&#x27;float&#x27;) / cnf_matrix_NB_test.sum(axis=1).reshape(-1,1)</span><br></pre></td></tr></table></figure>
<p>这个看起来预测效果好了一点点，0.79的样子[上面0.76]</p>
<h3 id="22-classifieur-par-plus-proches-voisins"><a class="markdownIt-Anchor" href="#22-classifieur-par-plus-proches-voisins"></a> 2.2 Classifieur par plus proches voisins</h3>
<p>就是构建KDTree然后进行查询</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KDTree</span><br><span class="line">tree =  KDTree(VertebralVar_train) </span><br><span class="line">dis,ind = tree.query(VertebralVar_test,k = <span class="number">10</span>)<span class="comment">#这个可以查到邻居的index</span></span><br><span class="line">k_class = VertebralClas_train[ind]</span><br><span class="line">pred_kNN_test = [</span><br><span class="line">    <span class="string">&#x27;AB&#x27;</span> <span class="keyword">if</span> x.tolist().count(<span class="string">&#x27;AB&#x27;</span>) &gt; x.tolist().count(<span class="string">&#x27;NO&#x27;</span>) <span class="keyword">else</span> <span class="string">&#x27;NO&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> k_class</span><br><span class="line">]</span><br><span class="line">cnf_matrix_kNN = confusion_matrix(VertebralClas_test,pred_kNN_test)</span><br><span class="line">cnf_matrix_kNN.astype(<span class="string">&#x27;float&#x27;</span>) / cnf_matrix_kNN.<span class="built_in">sum</span>(axis=<span class="number">1</span>).reshape(-<span class="number">1</span>,<span class="number">1</span>) </span><br></pre></td></tr></table></figure>
<p>效果挺好，TP差不多0.9了</p>
<h3 id="23-neighborskneighborsclassifier"><a class="markdownIt-Anchor" href="#23-neighborskneighborsclassifier"></a> 2.3 neighbors.KNeighborsClassifier()</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> neighbors</span><br><span class="line">nn = neighbors.KNeighborsClassifier(n_neighbors=<span class="number">5</span>).fit(features34,activity34)</span><br></pre></td></tr></table></figure>
<h3 id="24-linear_modellogisticregression"><a class="markdownIt-Anchor" href="#24-linear_modellogisticregression"></a> 2.4. linear_model.LogisticRegression()</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line">logit = linear_model.LogisticRegression(penalty=<span class="string">&#x27;l2&#x27;</span>,solver=<span class="string">&#x27;saga&#x27;</span>).fit(features34,activity34)</span><br></pre></td></tr></table></figure>
<h2 id="3-evaluation-de-lerreur"><a class="markdownIt-Anchor" href="#3-evaluation-de-lerreur"></a> 3. Evaluation de l’erreur</h2>
<h3 id="31-confusion矩阵"><a class="markdownIt-Anchor" href="#31-confusion矩阵"></a> 3.1 confusion矩阵</h3>
<p>四个参数是TP，FP，FN，TN</p>
<p><img src="/home/nl7876/.config/Typora/typora-user-images/image-20221212152023094.png" alt="image-20221212152023094" /></p>
<p>用的是sklearn.metrics里面的confusion_matrix</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from sklearn.metrics import confusion_matrix</span><br><span class="line">cnf_matrix_NB_test = confusion_matrix(y_test,pred_y_test)</span><br><span class="line">cnf_matrix_NB_test.astype(&#x27;float&#x27;) / cnf_matrix_NB_test.sum(axis=1).reshape(-1,1) </span><br></pre></td></tr></table></figure>
<h3 id="32-par-découpage-train-test"><a class="markdownIt-Anchor" href="#32-par-découpage-train-test"></a> 3.2 par découpage train / test</h3>
<p>就是不停的随机拆分数据集,然后调模型自身的score去看,以K-Neighbors为例</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig,ax = subplots()</span><br><span class="line">y = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">15</span>):</span><br><span class="line">    score_train_test = [] <span class="comment"># pour stockage des scores</span></span><br><span class="line">    <span class="keyword">for</span> simu <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>) :</span><br><span class="line">        features_train, features_test, activity_train, activity_test = model_selection.train_test_split(features34,activity34,test_size=<span class="number">0.4</span>)</span><br><span class="line">        nn_train_test = neighbors.KNeighborsClassifier(n_neighbors=n)</span><br><span class="line">        nn_train_test.fit(features_train,activity_train)</span><br><span class="line">        score_train_test.append(nn_train_test.score(features_test,activity_test))</span><br><span class="line">    y.append(mean(score_train_test))</span><br><span class="line"></span><br><span class="line">ax.plot(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">15</span>),y)</span><br></pre></td></tr></table></figure>
<h3 id="33-estimation-du-risque-par-validation-croisée"><a class="markdownIt-Anchor" href="#33-estimation-du-risque-par-validation-croisée"></a> 3.3 Estimation du risque par validation croisée</h3>
<h4 id="331-estimation-de-lerreur-par-k-fold"><a class="markdownIt-Anchor" href="#331-estimation-de-lerreur-par-k-fold"></a> 3.3.1 Estimation de l’erreur par K-fold</h4>
<p>以10-fold为例，主要是用的model_selection里面的cross_val_score，但是不能直接让cv=10，这样的话不会在设置块之前首先交换数据，因此要使用KFold函数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_kfold = model_selection.KFold(n_splits=<span class="number">10</span>,shuffle=<span class="literal">True</span>)<span class="comment">#打乱数据</span></span><br><span class="line">nn_val_croisee = neighbors.KNeighborsClassifier(n_neighbors = <span class="number">10</span>)</span><br><span class="line">scores = model_selection.cross_val_score(estimator=nn_val_croisee,</span><br><span class="line">                        X=features34,</span><br><span class="line">                        y=activity34,</span><br><span class="line">                        cv=my_kfold,</span><br><span class="line">                        n_jobs=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="332-estimation-de-lerreur-par-loo"><a class="markdownIt-Anchor" href="#332-estimation-de-lerreur-par-loo"></a> 3.3.2 Estimation de l’erreur par Loo</h4>
<p>k=1的那个</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">loo=model_selection.LeaveOneOut()</span><br><span class="line">scores_loo=model_selection.cross_val_score(estimator=nn_val_croisee,</span><br><span class="line">                        X=features34,</span><br><span class="line">                        y=activity34,</span><br><span class="line">                        cv=loo)</span><br></pre></td></tr></table></figure>
<h2 id="4-模型的参数选择"><a class="markdownIt-Anchor" href="#4-模型的参数选择"></a> 4. 模型的参数选择</h2>
<h3 id="41-交叉验证"><a class="markdownIt-Anchor" href="#41-交叉验证"></a> 4.1 交叉验证</h3>
<p>通过遍历每个k，取交叉验证分数最大的k,以k-Neighbors为例</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">scores_k=[]</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">18</span>):</span><br><span class="line">    my_kfold = model_selection.KFold(n_splits=<span class="number">10</span>,shuffle=<span class="literal">True</span>)</span><br><span class="line">    nn_val_croisee = neighbors.KNeighborsClassifier(n_neighbors = <span class="number">10</span>)</span><br><span class="line">    scores = model_selection.cross_val_score(estimator=nn_val_croisee,</span><br><span class="line">                            X=features34,</span><br><span class="line">                            y=activity34,</span><br><span class="line">                            cv=my_kfold,</span><br><span class="line">                            n_jobs=<span class="number">5</span>) </span><br><span class="line">    scores_k.append(mean(scores))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;k = <span class="subst">&#123;np.array(scores_k).argmax()+<span class="number">1</span>&#125;</span>&quot;</span>)<span class="comment">#这里argmax用的很妙噢</span></span><br></pre></td></tr></table></figure>
<h3 id="42-gridsearchcv"><a class="markdownIt-Anchor" href="#42-gridsearchcv"></a> 4.2 GridSearchCV</h3>
<p>主要是用的model_selection里面的GridSearchCV函数，要传的参数模型，tuned_parameters :待选参数，字典传进去，可以加关键字njobs来调内核加速(-1表示最大)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># la grille de parametres a regler sont definis dans un dictionnaire (dict)</span></span><br><span class="line">tuned_parameters = &#123;<span class="string">&#x27;n_neighbors&#x27;</span>: <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">20</span>)&#125;</span><br><span class="line">start = time()</span><br><span class="line"></span><br><span class="line">my_kfold = model_selection.KFold(n_splits=<span class="number">10</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">0</span>)</span><br><span class="line">nnGrid = GridSearchCV(neighbors.KNeighborsClassifier(),</span><br><span class="line">                      tuned_parameters,</span><br><span class="line">                      cv=my_kfold,</span><br><span class="line">                     n_jobs=-<span class="number">1</span>)</span><br><span class="line">nnGrid.fit(features34, activity34)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;time() - start:<span class="number">.4</span>f&#125;</span> sec&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># le meilleur modele </span></span><br><span class="line"><span class="built_in">print</span>(nnGrid.best_params_)</span><br></pre></td></tr></table></figure>
<h2 id="5-多分类问题"><a class="markdownIt-Anchor" href="#5-多分类问题"></a> 5. 多分类问题</h2>
<h3 id="51-classifieur-naif-bayesien-multiclasses"><a class="markdownIt-Anchor" href="#51-classifieur-naif-bayesien-multiclasses"></a> 5.1 Classifieur naif bayesien multiclasses</h3>
<p>就，直接传就行了</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">gnb = GaussianNB()</span><br><span class="line">my_kfold = model_selection.KFold(n_splits=<span class="number">10</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">0</span>)</span><br><span class="line">scores  = model_selection.cross_val_score(gnb, features_all_activities, activity, cv=my_kfold)</span><br></pre></td></tr></table></figure>
<h3 id="52-classifieur-des-k-plus-proches-voisins-multiclasses"><a class="markdownIt-Anchor" href="#52-classifieur-des-k-plus-proches-voisins-multiclasses"></a> 5.2 Classifieur des k plus proches voisins multiclasses</h3>
<p>加上GridSearchCV选择k</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">features_train, features_test, activity_train, activity_test =model_selection.train_test_split(features_all_activities,activity,train_size=<span class="number">0.6</span>,shuffle=<span class="literal">True</span>)</span><br><span class="line">tuned_parameters = &#123;<span class="string">&#x27;n_neighbors&#x27;</span>: <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">20</span>)&#125;</span><br><span class="line"></span><br><span class="line">my_kfold = model_selection.KFold(n_splits=<span class="number">10</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">nnGrid = model_selection.GridSearchCV(neighbors.KNeighborsClassifier(),</span><br><span class="line">                      tuned_parameters,</span><br><span class="line">                      cv=my_kfold ,</span><br><span class="line">                     n_jobs=-<span class="number">1</span>)</span><br><span class="line">nnGrid.fit(features_train,activity_train)</span><br><span class="line">knn=neighbors.KNeighborsClassifier(**nnGrid.best_params_).fit(features_train,activity_train)</span><br></pre></td></tr></table></figure>
<p>显示多分类的效果:confusion的show</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix,ConfusionMatrixDisplay</span><br><span class="line">conf_mat=confusion_matrix(activity_test,knn.predict(features_test),labels=knn.classes_)</span><br><span class="line">disp=ConfusionMatrixDisplay(conf_mat,display_labels=activity_names)</span><br><span class="line">disp.plot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="53-regression-logistique-lasso"><a class="markdownIt-Anchor" href="#53-regression-logistique-lasso"></a> 5.3 Regression logistique Lasso</h3>
<p>差不多的感觉</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model</span><br><span class="line">logit =linear_model.LogisticRegressionCV(penalty=<span class="string">&#x27;l2&#x27;</span>,max_iter=<span class="number">100</span>, random_state=<span class="number">0</span>,solver=<span class="string">&#x27;saga&#x27;</span>,n_jobs=-<span class="number">1</span>).fit(features_train,activity_train)</span><br><span class="line">conf_mat_logit=confusion_matrix(activity_test,logit.predict(features_test),labels=logit.classes_)</span><br><span class="line">disp=ConfusionMatrixDisplay(conf_mat_logit,display_labels=activity_names)</span><br><span class="line">disp.plot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h2 id="6-特征表的主成分分析"><a class="markdownIt-Anchor" href="#6-特征表的主成分分析"></a> 6. 特征表的主成分分析</h2>
<p>主成分分析是一种降维、可视化和数据压缩的方法。用的sklearn.decomposition.PCA()</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pca = PCA(n_components=<span class="number">5</span>)</span><br><span class="line">X = pca.fit(features_nor)   <span class="comment"># ajuster la PCA sur les données features_nor</span></span><br><span class="line">X_R = X.fit_transform(features_nor)   <span class="comment"># 用 X 拟合模型并对 X 应用降维</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ACP0 = X_R[:,<span class="number">0</span>] <span class="comment">### extraction premiere composante</span></span><br><span class="line">ACP1 = X_R[:,<span class="number">1</span>]<span class="comment">### extraction deuxieme composante</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>, <span class="number">12</span>))</span><br><span class="line"><span class="keyword">for</span> c, i, act <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="string">&quot;rgbycm&quot;</span>, <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">6</span>),<span class="built_in">range</span>(<span class="number">0</span>,<span class="number">6</span>)):</span><br><span class="line">    plt.scatter(ACP0[activity == act],ACP1[activity == act],c=c,label=activity_names[i])</span><br><span class="line">    </span><br><span class="line"><span class="comment"># iterer sur les activités et utiliser un zip pour</span></span><br><span class="line"><span class="comment"># faciliter la representation graphique des objets </span></span><br><span class="line"><span class="comment"># sur lesquels on itere</span></span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure>
<h2 id="7-utiliser-umap-ou-tsne-à-la-place-de-lacp"><a class="markdownIt-Anchor" href="#7-utiliser-umap-ou-tsne-à-la-place-de-lacp"></a> 7. Utiliser umap ou tsne à la place de l’ACP</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#visualisation avec t-sne</span></span><br><span class="line"><span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> TSNE</span><br><span class="line">sns.<span class="built_in">set</span>(style=<span class="string">&#x27;white&#x27;</span>, context=<span class="string">&#x27;notebook&#x27;</span>, rc=&#123;<span class="string">&#x27;figure.figsize&#x27;</span>:(<span class="number">14</span>,<span class="number">10</span>)&#125;)</span><br><span class="line">tsne = TSNE(n_components=<span class="number">2</span>, verbose=<span class="number">1</span>, random_state=<span class="number">123</span>)</span><br><span class="line">z = tsne.fit_transform(features_nor)</span><br><span class="line">df = pd.DataFrame()</span><br><span class="line">df[<span class="string">&quot;y&quot;</span>] = np.array(activity_names)[activity]</span><br><span class="line">df[<span class="string">&quot;comp-1&quot;</span>] = z[:,<span class="number">0</span>]</span><br><span class="line">df[<span class="string">&quot;comp-2&quot;</span>] = z[:,<span class="number">1</span>]</span><br><span class="line">sns.scatterplot(x=<span class="string">&quot;comp-1&quot;</span>, y=<span class="string">&quot;comp-2&quot;</span>, hue=df.y.tolist(),</span><br><span class="line">                palette=sns.color_palette(<span class="string">&quot;hls&quot;</span>, <span class="number">6</span>),<span class="comment">#哇，调色板确定点的颜色啥的</span></span><br><span class="line">                data=df).<span class="built_in">set</span>(title=<span class="string">&quot;T-SNE projection&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> umap</span><br><span class="line">umap_reducer = umap.UMAP()</span><br><span class="line">z= umap_reducer.fit_transform(features_nor)</span><br><span class="line">df = pd.DataFrame()</span><br><span class="line">df[<span class="string">&quot;y&quot;</span>] = np.array(activity_names)[activity]</span><br><span class="line">df[<span class="string">&quot;comp-1&quot;</span>] = z[:,<span class="number">0</span>]</span><br><span class="line">df[<span class="string">&quot;comp-2&quot;</span>] = z[:,<span class="number">1</span>]</span><br><span class="line">sns.scatterplot(x=<span class="string">&quot;comp-1&quot;</span>, y=<span class="string">&quot;comp-2&quot;</span>, hue=df.y.tolist(),</span><br><span class="line">                palette=sns.color_palette(<span class="string">&quot;hls&quot;</span>, <span class="number">6</span>),</span><br><span class="line">                data=df).<span class="built_in">set</span>(title=<span class="string">&quot;umap projection&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="8-k-means"><a class="markdownIt-Anchor" href="#8-k-means"></a> 8. K-means</h2>
<p>Effectuer un clustering des données projetées sur les 2 premiers axes de l’ACP kmeans</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line">k=<span class="number">2</span></span><br><span class="line">kmeans = KMeans(n_clusters=k, random_state=<span class="number">0</span>)</span><br><span class="line">kmeans.fit(features_nor_pac[:,:<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> c, i, act <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="string">&quot;rg&quot;</span>, <span class="built_in">range</span>(k),<span class="built_in">range</span>(k)):</span><br><span class="line">    plt.scatter(ACP0[kmeans.labels_==act],ACP1[kmeans.labels_==act],cmap=c,label=activity_names[i])</span><br><span class="line">plt.grid()</span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习6_NN</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM6_Neural%20Networks/</url>
    <content><![CDATA[<h1 id="cm6_neural-networks1"><a class="markdownIt-Anchor" href="#cm6_neural-networks1"></a> CM6_Neural Networks1</h1>
<p>Feed-forward neural networks (FFNN)</p>
<p>CNN</p>
<span id="more"></span>
<h1 id="0-intro"><a class="markdownIt-Anchor" href="#0-intro"></a> 0. Intro</h1>
<p>Deep learning 的一些领域：Speech Recognition，Computer Vision，NLP</p>
<p>Deep Learning: Representation Learning and non linear transformation</p>
<ul>
<li>Representation learning instead of feature engineering</li>
<li>Deep learning is a set of learning methods attempting to model data with complex architectures combining different transformations.</li>
</ul>
<p>Deep Learning &amp; NN: 神经网络是深度学习的基础，他们连起来形成了深度神经网络DNN。一些发展历史： perceptron --&gt; Thinking Machine --&gt; Deep Learning Networks: old Neural Networks. Their <em>length (number of layers)</em> and <em>width (dimension of the hidden units)</em> have increased over the years.</p>
<p>Three popular examples of NN</p>
<ul>
<li>Feed-forward neural networks (FFNN)</li>
<li>Convolutional neural networks (CNN)</li>
<li>Recurrent neural networks (RNN)</li>
</ul>
<h1 id="1-neural-network"><a class="markdownIt-Anchor" href="#1-neural-network"></a> 1. Neural Network</h1>
<p>Artificial Neuron</p>
<p>是一个函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mo>&lt;</mo><mi>w</mi><mo separator="true">,</mo><mi>x</mi><mo>&gt;</mo><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=f(x)=g(&lt;w,x&gt;+b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">+</span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>x: input，<mark>是多个由多个特征组成的向量组成矩阵吗？</mark></li>
<li>w: 权重组成的向量</li>
<li>b: 偏置项</li>
<li>g: activation function，激活函数，是非线性的</li>
</ul>
<p>示意图(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><mo>=</mo><mo>&lt;</mo><mi>w</mi><mo separator="true">,</mo><mi>x</mi><mo>&gt;</mo><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">\sum=&lt;w,x&gt;+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord mathnormal">b</span></span></span></span>)：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230105/yaimage.457bqywy4ys0.png" alt="yaimage" /></p>
<p><strong>Activation functions</strong></p>
<p>3个流行的激活函数：</p>
<ul>
<li>Sigmoid function(logistic σ): <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">g(x)=\frac1{1+exp(-x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>
<ul>
<li>可微Differentiable并且数值保持在[0,1]</li>
<li>最常见的激活函数</li>
<li>当|x|趋近于0时它的梯度也趋近于0[causes troubles for the backpropagation algorithm]</li>
</ul>
</li>
<li>Hyperbolic tangent function(tanh) 双曲正接函数: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mn>2</mn><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mn>2</mn><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">g(x)=\frac{exp(2x)-1}{exp(2x)+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li>
<li>Rectified Linear Unit (ReLU) activation function: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x)=max(0,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>
<ul>
<li>Non linear</li>
<li>在0上不可微 ==&gt; 会有什么影响吗</li>
<li>Sparsification effect[稀疏化效应]: ReLU and ReLU’ are equal to 0 for negative values</li>
<li>Easier to optimize 因为接近线性</li>
</ul>
</li>
</ul>
<h1 id="2-feedforward-neural-network"><a class="markdownIt-Anchor" href="#2-feedforward-neural-network"></a> 2. Feedforward neural network</h1>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230105/yaimage.3q0njv0uodu0.png" alt="yaimage" /></p>
<p>是一种不循环的神经网络，是第一个也是最简单的神经网络</p>
<p>实例：多层感知机/multilayer perceptron</p>
<ul>
<li>多层感知器是由几个隐藏的神经元层组成的结构，其中一层神经元的输出成为下一层神经元的输入。</li>
<li>Layers correspond to functions that are composed in some order:<br />
f(x) = f3(f2(f1(x))) has 3 layers.</li>
<li>每一层有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">2^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>个神经元==[j???]==和一个激活函数</li>
<li>一般来说神经元数量每层递减</li>
</ul>
<h2 id="21-one-hidden-layer-network"><a class="markdownIt-Anchor" href="#21-one-hidden-layer-network"></a> 2.1 One-hidden layer network</h2>
<p>我们来看一个单隐藏层的网络</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230105/yaimage.17h04cjkt9og.png" alt="yaimage" /></p>
<ul>
<li>
<p>Pre-activations</p>
<p>进入隐藏层前，要准备：H个权重<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，H个偏置项<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>给每个神经元(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo></mrow><annotation encoding="application/x-tex">\sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span></span></span></span>)，然后<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>W</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">z(x)=Wx+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>. W是个矩阵(H*d)==&gt;加权线性组合</p>
</li>
<li>
<p>Activation</p>
<p>h(x) = g(z(x)),g是之前提到的激活函数</p>
<ul>
<li>For regression：输出的层数的width是1</li>
<li>For binary classification：输出的层数的width是1，Sigmoid激活函数给出预测P(Y=1|X=x)</li>
<li>For multi-class classification: The output layer contains one neuron per class k giving a prediction of P(Y = k|X = x),the multidimensional function Softmax is generally used</li>
</ul>
</li>
<li>
<p>Softmax</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>z</mi><msub><mo stretchy="false">)</mo><mi>k</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mfrac><mo stretchy="false">[</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>k</mi></msub><mo stretchy="false">)</mo><msup><mo stretchy="false">]</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">Softmax(z)_k=\frac1{\sum_{j=1}^kexp(Z_j)}[exp(Z_1)...exp(Z_k)]^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6025549999999997em;vertical-align:-0.7574469999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.56478em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8931714285714285em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46032428571428574em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.07153em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7574469999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">[</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>不是element-wise activation，把z map到[0,1]然后和为1</p>
</li>
<li>
<p>The inputs of the softmax is called the “logits&quot; in deep learning.</p>
</li>
</ul>
</li>
</ul>
<p>总结：Mathematical formulation of a one-hidden layer (width H) with softmax output</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230105/yaimage.69gp6un0zek0.png" alt="yaimage" /></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msup><mi>z</mi><mrow><mo stretchy="false">(</mo><mi>O</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>O</mi><mo stretchy="false">)</mo></mrow></msup><mi>h</mi><mo>+</mo><msup><mi>b</mi><mi>O</mi></msup><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>O</mi><mo stretchy="false">)</mo></mrow></msup><mi>g</mi><mo stretchy="false">(</mo><msup><mi>z</mi><mrow><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>+</mo><msup><mi>B</mi><mrow><mo stretchy="false">(</mo><mi>o</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>O</mi><mo stretchy="false">)</mo></mrow></msup><mi>g</mi><mo stretchy="false">(</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></msup><mi>x</mi><mo>+</mo><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>+</mo><msup><mi>B</mi><mrow><mo stretchy="false">(</mo><mi>O</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(x)=Softmax(z^{(O)})=Softmax(W^{(O)}h+b^{O})=Softmax(W^{(O)}g(z^{(H)})+B^{(o)}=Softmax(W^{(O)}g(W^{(H)}x+b^{(H)})+B^{(O)})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">o</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<h2 id="22-multilayer-perceptron"><a class="markdownIt-Anchor" href="#22-multilayer-perceptron"></a> 2.2 Multilayer perceptron</h2>
<p>对于隐藏层l来说</p>
<ul>
<li>
<p>input</p>
<p>该隐藏层的input是上一个隐藏层的输出，记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h^{(l-1)}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>,然后最开始的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">h^{(0)}(x)=x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span></p>
</li>
<li>
<p>Pre-activations</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>z</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z^{(l)} (x) = b^{(l)} + W^{(l)}h^{(l−1)} (x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">W^{(I)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>的dimension: (width of layer l − 1) ×(width of layer l)==&gt;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow><mi>l</mi></msubsup></mrow><annotation encoding="application/x-tex">w_{ij}^l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span>表示l层第i个单元和第l-1层第j个单元之间的连接权重</p>
</li>
<li>
<p>Activations</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>g</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><msup><mi>g</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h^{(I)}(x) = g^{(I)}(z(x))=g^{(I)}(b^{(l)} + W^{(l)}h^{(l−1)} (x))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
</li>
</ul>
<p>Layers with Keras</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line">model = Sequential( )</span><br><span class="line">model.add (Dense(<span class="number">32</span> , input_dim = <span class="number">784</span>))<span class="comment">#Dense:全连接层[理解成隐藏层的单层？]</span></span><br><span class="line">model.add (Activation(’relu’))</span><br><span class="line">model.add (Dense(<span class="number">10</span> , input_dim = <span class="number">32</span>))</span><br><span class="line">model.add (Activation(’softmax’))</span><br></pre></td></tr></table></figure>
<h2 id="23-training-feed-forward-nn"><a class="markdownIt-Anchor" href="#23-training-feed-forward-nn"></a> 2.3. Training Feed Forward NN</h2>
<p>Main tools to train FFNN and Deep NN: Forward-propagation[前向传播] to compute the loss and to make predictions, Back-propagation to compute gradients,Stochastic optimization algorithms[随机优化].</p>
<p>主要的库: Pytroch , tensorflow,keras…</p>
<p>GPU计算</p>
<h3 id="231-loss"><a class="markdownIt-Anchor" href="#231-loss"></a> 2.3.1 Loss</h3>
<p>We define loss, risk and empirical risk for each framework</p>
<ol>
<li>
<p>Classification</p>
<p>Binary Classification为例，希望使得条件概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>X</mi><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_{\theta}(Y=1|X=x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>尽量大</p>
<p>p和q分布的交叉熵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>q</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>q</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">l(p,q)=-\sum_{x\in X}p(x)log\ q(x),q=(q_0,q_1)=(1-f(X,\theta),f(X,\theta))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-0.32708000000000004em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
<p>然后等于：<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.1vkrljxw6tr4.png" alt="yaimage" /></p>
<ul>
<li>the loss is close to zero when y = 1 with q1 close to one</li>
<li>the loss is large when y = 1 with q1 close to zero</li>
</ul>
<p>cross entropy risk：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>:</mo><mo>=</mo><msub><mi>E</mi><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi></mrow></msub><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R(\theta):=E_{X,Y}[l(Y,f(X,\theta))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p>
<p>Empirical risk minimization with cross entropy:<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.5y5cqzbqka00.png" alt="yaimage" /></p>
<p>==&gt;然后得出结论说这样就是在做极大似然估计：is maximizing the log-likelihood of the conditional distribution (Y|X)</p>
<p>Multi-class Classification类似的看不太懂</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.1d6hx2i697z4.png" alt="yaimage" /></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.4ri79m3voak0.png" alt="yaimage" /></p>
</li>
<li>
<p>Regression: Quadratic loss, associated risk and empirical risk</p>
</li>
<li>
<p>Penalized empirical risk: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">L^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>/parcimonious</p>
</li>
</ol>
<h3 id="232-forward-propagation-backward-propagation"><a class="markdownIt-Anchor" href="#232-forward-propagation-backward-propagation"></a> 2.3.2 Forward propagation &amp; Backward propagation</h3>
<p>有了对上面损失函数，我们就知道了我们学习的目的是: minimizing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi>l</mi><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>λ</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F_n(\theta)=\frac1n\sum_{i=1}^nl(Y_i,f(X_i,\theta))+\lambda\Omega(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>,需要两种方法</p>
<ul>
<li>Forward propagation：计算预测值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(X,\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>,每一层都做</li>
<li>Backward propagation: 计算ER函数的梯度。从输出层开始，一层一层地向前传递，直到输入层，计算误差并对权值和偏置进行更新</li>
<li>FFNN重复进行前向传播和后向传播来确定最终权值的过程叫做训练。在训练过程中，会使用一个数据集，将数据集中的每个样本都用于前向传播和后向传播，这样的一次训练被称为&quot;epoch&quot;。</li>
</ul>
<h4 id="2321-forward-propagation"><a class="markdownIt-Anchor" href="#2321-forward-propagation"></a> 2.3.2.1 Forward Propagation</h4>
<hr />
<p>for l = 1 to L do</p>
<p>​	Compute $Z^{(l)} = b^{(l)} + W<sup>{(l)}H</sup>{(l−1)} $#线性加权</p>
<p>​	Compute <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><msup><mi>g</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi>Z</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">H^{(l)} = g^{(l)}Z^{(l)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0824399999999998em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>#全连接</p>
<p>end for</p>
<p>Compute <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Z</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><msup><mi>H</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">Z^{(L+1)} = b^{(L+1)} + W^{(L+1)}H^{(L)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>Compute <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>S</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msup><mi>H</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Y&#x27; = Softmax(H^{(L+1)})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> (for classification)</p>
<p>Compute $F_n(θ) = \frac1n\sum^n_{i=1} l(Yi , Yi’) + λΩ(θ) $</p>
<p>return <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>Z</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi>H</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><mi>l</mi><mo>=</mo><mn>1...</mn><mi>L</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">F_n(θ), Z^{(l)} , H^{(l)} , l = 1 . . . L.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathnormal">L</span><span class="mord">.</span></span></span></span></p>
<hr />
<h4 id="2322-back-propagation"><a class="markdownIt-Anchor" href="#2322-back-propagation"></a> 2.3.2.2  Back-propagation</h4>
<p>求梯度+链式法则</p>
<p>Back propagation for softmax multilayer perceptron</p>
<hr />
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230113214430015.png" alt="image-20230113214430015" /></p>
<hr />
<h4 id="2323-sgd"><a class="markdownIt-Anchor" href="#2323-sgd"></a> 2.3.2.3 <strong>SGD</strong></h4>
<p>Stochastic gradient descent algorithm: 随机梯度下降, 对大的dataset来说不可能计算每个的梯度，所以在每次迭代, the gradient is computed only on a random batch of size m</p>
<hr />
<p>Initialization : choose of θ (all the weights an bias terms)</p>
<p>for ep = 1 to ept do</p>
<p>​	for t = 1 to n/mt do</p>
<p>​		Pick a subsample B of size m with no replacement</p>
<p>​		计算<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.6av42uhjdxk0.png" alt="yaimage" /></p>
<p>​	end for</p>
<p>end for</p>
<p>return θ</p>
<hr />
<p>学习率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ε</span></span></span></span></p>
<ul>
<li>如果它太小：收敛速度非常慢（可能被困于局部最小值）。</li>
<li>如果太大：围绕着一个最佳状态振荡，而不稳定和收敛。</li>
<li>在训练过程中调整学习率：开始时取大，然后在连续的迭代中减少其值。</li>
</ul>
<p>epochs: B</p>
<ul>
<li>每次迭代时，随机选择m个训练实例来更新参数</li>
<li>迭代的最大次数是以epochs为单位给出的</li>
<li>m是要校准的算法的参数</li>
</ul>
<p>Extensions and variants of SGD: Momentum, AdaGrad, RMSProp, Adam.</p>
<h3 id="233-gradient-instability"><a class="markdownIt-Anchor" href="#233-gradient-instability"></a> 2.3.3 Gradient instability</h3>
<p>问题：In many situations, gradients often get smaller and smaller as the algorithm progresses down to the lower layers : vanishing gradients problem. In other cases (Recurrent NN) : the gradients can grow bigger and bigger which makes the algorithm diverges: exploding gradients problem. Deep neural networks suffer from unstable gradients; different layers may learn at widely different speeds.</p>
<h4 id="2331-relu-and-its-variants"><a class="markdownIt-Anchor" href="#2331-relu-and-its-variants"></a> 2.3.3.1 RELU and its variants</h4>
<p>ReLU (Rectified Linear Unit) ,激活函数,f(x) = max(0, x),梯度就是0/1，输入负值的神经元会死亡 ==&gt; LeakyReLU: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>α</mi><mi>z</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">max(\alpha z,z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>, ELU: x&lt;0时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha *(exp(x)-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
<h4 id="2332-glorot-xavier-initialization"><a class="markdownIt-Anchor" href="#2332-glorot-xavier-initialization"></a> 2.3.3.2 Glorot (Xavier) Initialization</h4>
<p>The biases can be initialized to 0.</p>
<p>Initialize the weights at random:不能被初始化为0， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>k</mi></msubsup></mrow><annotation encoding="application/x-tex">W_{i,j}^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2438799999999999em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span> are i.i.d. Uniform on [−c, c] with possibly <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mfrac><msqrt><mn>6</mn></msqrt><mrow><msub><mi>N</mi><mi>k</mi></msub><mo>+</mo><msub><mi>N</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mfrac><mo separator="true">,</mo><msub><mi>N</mi><mi>k</mi></msub><mtext>表示隐藏层</mtext><mi>k</mi><mtext>的</mtext><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">c=\frac{\sqrt6}{N_k+N_{k-1}},N_k表示隐藏层k的size</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.5305249999999997em;vertical-align:-0.4925249999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0379999999999998em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.3487714285714287em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.21074999999999994em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.3990085em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.912845em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;">6</span></span><span style="top:-2.872845em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.12715500000000002em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4925249999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">隐</span><span class="mord cjk_fallback">藏</span><span class="mord cjk_fallback">层</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">的</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">e</span></span></span></span></p>
<p>This initialization tends to control the variance of activations.</p>
<h4 id="2333-others"><a class="markdownIt-Anchor" href="#2333-others"></a> 2.3.3.3 others</h4>
<p><strong>Batch Normalization:</strong> 通过使用批量样本估计均值和方差，对层的输入进行中心化和归一化.</p>
<p><strong>Gradient clipping :</strong> 当梯度变得过大，错误梯度累积，导致网络不稳定时，就会发生梯度爆炸。在反向传播过程中剪切梯度，使其永远不超过某个阈值（这对循环神经网络非常有用）。</p>
<h3 id="234-controlling-the-complexity-of-nn"><a class="markdownIt-Anchor" href="#234-controlling-the-complexity-of-nn"></a> 2.3.4. Controlling the complexity of NN</h3>
<h4 id="2341-number-of-hidden-layers"><a class="markdownIt-Anchor" href="#2341-number-of-hidden-layers"></a> 2.3.4.1 Number of Hidden Layers</h4>
<p>对于许多问题，一个或两个隐藏层就足以达到高精确度。<br />
对于更复杂的问题：逐渐增加隐藏层的数量，直到你开始过度拟合训练集。<br />
非常复杂的任务，如大型图像分类或语音识别，通常需要有几十层的网络，还需要大量的训练数据。对于这样复杂的问题，<strong>我们很少需要从头开始训练这样的网络：重新使用预先训练好的执行类似任务的最先进网络的一部分</strong>。训练会快很多，需要的数据也少很多。如果没有预训练的模型可用：在文献中找到一个有效的架构</p>
<h4 id="2342-number-of-neurons"><a class="markdownIt-Anchor" href="#2342-number-of-neurons"></a> 2.3.4.2 Number of Neurons</h4>
<p>输入中的神经元数量由输入大小向量决定, 输出中的神经元数量由学习任务决定。</p>
<p>隐蔽层中的神经元数量：size them to form a <em>tunnel</em>, with fewer and fewer neurons at each layer : “low-level features can coalesce into far fewer high-level features&quot;.</p>
<h4 id="2343-regularization"><a class="markdownIt-Anchor" href="#2343-regularization"></a> 2.3.4.3 Regularization</h4>
<ul>
<li>
<p>early stop</p>
<p>当用梯度下降法拟合参数时，直到一定数量的迭代，新的迭代会改善模型，然而，在这之后，模型的泛化能力会减弱，因为它开始过度拟合训练数据。解决方法：</p>
</li>
</ul>
<p>​			◮ Splitting : (Train - Validation) - Test.</p>
<p>​			◮ If validation has not improved for some time, stop and return θ.</p>
<p>For least-squares regression and gradient descent, early stopping can be seen to be equivalent to <em>ridge penalization on the weights</em>.</p>
<ul>
<li>
<p>dropout</p>
<p>训练一个由基础网络中的非输出单元组成的子网络集合, 在梯度下降的每个迭代中，使用概率p[超参数，对于隐藏层中的单元，一般选择是0.5，对于进入层是0.2]，并且独立于其他单元，网络的每个单元被设置为0。<img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230113221239827.png" alt="image-20230113221239827" /></p>
</li>
</ul>
<h1 id="3cnn"><a class="markdownIt-Anchor" href="#3cnn"></a> 3.CNN</h1>
<p>一种专用于处理图像和时间序列的数据，至少在一层用卷积convolution来代替一般的矩阵乘法。CNN里面最重要的两个点：卷积[convolution]和池化[Pooling].</p>
<h2 id="31-filters"><a class="markdownIt-Anchor" href="#31-filters"></a> 3.1 Filters</h2>
<p>滤波/卷积层的目标是: identify low level features such as edges and curves, and then building up to more abstract concepts through a series of convolutional layers.</p>
<p>卷积层图示：</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.299rxkeermzo.png" alt="yaimage" /></p>
<p>单通道的卷积函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mo>∗</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi mathvariant="normal">∣</mi><mi>u</mi><mi mathvariant="normal">∣</mi><mo>&lt;</mo><msub><mi>n</mi><mn>1</mn></msub></mrow></msub><msub><mo>∑</mo><mrow><mi mathvariant="normal">∣</mi><mi>u</mi><mi mathvariant="normal">∣</mi><mo>&lt;</mo><msub><mi>n</mi><mn>2</mn></msub></mrow></msub><mi>I</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mi>u</mi><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mi>v</mi><mo stretchy="false">)</mo><mi>K</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z(i,j)=(I*K)(i,j)=\sum_{|u|&lt;n_1}\sum_{|u|&lt;n_2}I(i+u,j+v)K(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.22471em;vertical-align:-0.47471em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.22528999999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight">u</span><span class="mord mtight">∣</span><span class="mrel mtight">&lt;</span><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.47471em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.22528999999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight">u</span><span class="mord mtight">∣</span><span class="mrel mtight">&lt;</span><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.47471em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>Z: feature map特征图</li>
<li>I: input</li>
<li>K: kernel/filter, 卷积核的size是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>n</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n_1,n_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 它的值对应于神经元的权值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>w</mi><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi></mrow></msub></mrow><annotation encoding="application/x-tex">K(u,v)=w_{u,v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>，由CNN训练得到.</li>
</ul>
<p>过滤器可以看作是特性标识符或特性映射// feature identifiers or feature maps</p>
<p>Parameter sharing: 我们只学习一组参数，而不是为每个位置学习一组单独的权重, 这意味着我们为每个位置学习相同的kernel(或相同的内核集)[一个矩阵划划划]</p>
<h2 id="32-convolution"><a class="markdownIt-Anchor" href="#32-convolution"></a> 3.2 Convolution</h2>
<p>Convolutional layers: not one but k filters (take <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><msup><mn>2</mn><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">k = 2^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span> ) that create k feature maps.</p>
<p>multichannel convolution: 在卷积运算中使用多个输入通道，每个通道都有自己的卷积核. Neuron’s receptive field extends across all the previous layers’s<br />
feature maps,多通道的卷积函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo>∗</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>w</mi></mrow></msub><mi>V</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mi>u</mi><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mi>v</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo><mi>K</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z(i,j,l)=(V*K)(l,i,j)=\sum_{u,v,w}V(i+u,j+v,w)K(u,v,l,w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.185818em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0016819999999999613em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>Z: feature map特征图, 和V[输入的图]同样的dimension</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K(u,v,l,w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>: l代表输出的通道，w代表输入的通道，u/v表示行列</li>
</ul>
<p>Sparse interactions/稀疏交互：对于传统的神经网络，每个输出单元都与每个输入单元相互作用(全连接层)，但在处理数千或数百万像素的图像时，我们只选取有意义的特征(如边缘)，所以需要Sparse interactions，具体做法是让kernel小于input</p>
<p>尽管卷积网络中的直接连接非常稀疏，但更深层次中的单元可以间接连接到所有或大部分输入图像</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20230113/yaimage.3qw2b944slk0.png" alt="yaimage" /></p>
<h2 id="33-pooling"><a class="markdownIt-Anchor" href="#33-pooling"></a> 3.3 Pooling</h2>
<p>Padding/填充：在输入图像的边缘填充一些特定值，便于所有的边缘部分被kernel覆盖，保证输入图像和输出图像的尺寸相同</p>
<ul>
<li>Valid Padding：不padding</li>
<li>Zero padding：填成0</li>
</ul>
<p>Pooling：</p>
<ul>
<li>多个卷积核(特征)会导致计算量增大，为解决这个问题提出的概念，本质是缩小特征图。池化方式有：最大池化（选择被扫描区域内的最大值）和平均池化（取被扫描区域内的平均值）</li>
<li>A pooling function replaces the output of the net at a certain location with a summary statistic of the nearby outputs. 将output用一些统计值或者特征值表示</li>
<li>Max pooling: reports the maximum output within a rectangular neighborhood.</li>
<li>Other popular pooling functions: average of a rectangular neighborhood, L2 norm, weighted average based on the distance from the central pixel…</li>
<li>Invariance/不变性
<ul>
<li>A stride of one pixel is applied in the input不会引起池化结果很大的改变</li>
<li>By pooling over the outputs of separately parametrized convolutions, the features can learn which transformations to become invariant</li>
</ul>
</li>
<li>可以处理inputs with different sizes的问题</li>
</ul>
<h2 id="34-cnn-architectures"><a class="markdownIt-Anchor" href="#34-cnn-architectures"></a> 3.4 CNN architectures</h2>
<p>卷积网络的典型层包括下面三个阶段:</p>
<p>Convolution layer: the layer performs several convolutions in parallel to produce a set of <em>linear activations</em>.</p>
<p>Detector layer: each linear activation is run through a <em>nonlinear activation function</em>.</p>
<p>Pooling layer: pooling function to modify the output of the layer further.</p>
<p><img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230113233522114.png" alt="image-20230113233522114" /></p>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习2_Classification</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_CM2_Classification/</url>
    <content><![CDATA[<h1 id="cm2_basic-methods-for-classification"><a class="markdownIt-Anchor" href="#cm2_basic-methods-for-classification"></a> CM2_Basic methods for Classification</h1>
<p>问题描述：数据：Target variable: Y ∈ {1, . . . , K}, n observations (target, features) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>X</mi><mn>1</mn></msup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msup><mi>X</mi><mi>p</mi></msup><mo stretchy="false">)</mo><mo>∈</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">(X^1 , . . . X^p ) ∈ X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, 目标: define classification rules to predict Y from X.</p>
<p>MAP rule:</p>
<ul>
<li>Maximum a posteriori[后验概率，就是条件概率]</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><mi>k</mi><mo>=</mo><mn>1..</mn><mi>K</mi></mrow></msub><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>k</mi><mi mathvariant="normal">∣</mi><mi>X</mi><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">k(x)=argmax_{k=1..K}P(Y=k|X=x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>==&gt;assigning a point <strong>x</strong> to the group for which the posterior probability is the greatest.</li>
<li>The MAP rule is a Bayes rule[?] for the 0-1 loss</li>
</ul>
<span id="more"></span>
<h1 id="1generative-models"><a class="markdownIt-Anchor" href="#1generative-models"></a> 1.Generative Models</h1>
<h2 id="11-基本定义"><a class="markdownIt-Anchor" href="#11-基本定义"></a> 1.1 基本定义</h2>
<p><strong>定义回顾</strong></p>
<ul>
<li>Based on the conditional distribution (X|Y) distribution and the Bayes Theorem</li>
<li>基于联合分布P(X,Y)</li>
<li>Gaussians, Naive Bayes, Linear / Quadratic，Discriminant Analysis, Hidden Markov Models (HMM), Bayesian，networks, Markov random fields</li>
</ul>
<p><strong>X和Y</strong></p>
<ul>
<li>Outcome variable：Y ∈ Y = {1, . . . , K}，Y follows a discrete distribution<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mi>π</mi><mi>k</mi></msub><msub><mi>δ</mi><mrow><mi>y</mi><mo>=</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sum^K_{k=1}π_k δ_{y=k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> on {1,…,K}, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>k</mi></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">π_k = P(Y = k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> : a priori probabilities.[先验概率，非条件概率]</li>
<li>Vector of features：X = (X1, . . . , Xj, . . . , Xp) ∈ X，The Xj’s are continuous or categorical variables，The conditional distribution of (X|Y = k) admits a density fk with respect to a ref. measure µ on X==[<em><strong>允许密度fk相对于参考点μ在X上测量?</strong></em>]==</li>
</ul>
<p><strong>MAP rule for generative models</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221205/yaimage.5rgeuuxmbuk0.png" alt="yaimage" /></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\pi_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>[先验概率]和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(X = x| Y=k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>[后验概率]都是未知的</li>
<li>我们在参数化设置中推断这些数量==&gt;极大似然估计</li>
</ul>
<h2 id="12-naive-bayes朴素贝叶斯"><a class="markdownIt-Anchor" href="#12-naive-bayes朴素贝叶斯"></a> 1.2 Naive Bayes[朴素贝叶斯]</h2>
<p><strong>Naive Bayes Assumption</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">X_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>与Y独立条件分布，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>j</mi></msub><mo>=</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(X=x|Y=k) = \prod_{j=1}^pP(X_j=x_j|Y=k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24011em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029000000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>，p是X的特征数</p>
<p><strong>Parametric assumptions and Maximum Likelihood Estimation</strong></p>
<ul>
<li>observations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X_i,Y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>是独立的</li>
<li>对于任意的(j,k),假定<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>X</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X_j|Y=k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>的分布在一个如下的parametric model中
<ul>
<li>允许密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub><mo>−</mo><mo>−</mo><mo>&gt;</mo><msub><mi>f</mi><mrow><mi>j</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub><mo stretchy="false">(</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x_j --&gt; f_{j,k}(,x_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8694379999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>the vector of parameters <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>η</mi><mrow><mi>j</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">η_{j,k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> lies in a parameter space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>j</mi><mo separator="true">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{j,k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> .</li>
</ul>
</li>
</ul>
<p><strong>Example: Spam detection</strong></p>
<p>问题建模</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.1fie076gl5ds.png" alt="yaimage" /></p>
<h1 id="2-discriminative-methods"><a class="markdownIt-Anchor" href="#2-discriminative-methods"></a> 2. Discriminative methods</h1>
<h2 id="21-logistic-regression"><a class="markdownIt-Anchor" href="#21-logistic-regression"></a> 2.1 Logistic Regression</h2>
<p>判别式方法：从(Y|X)分布中定义模型</p>
<p>假设：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><mrow><mo>−</mo><mn>1</mn><mtext>和</mtext><mn>1</mn><mtext>的集合</mtext></mrow></mrow><annotation encoding="application/x-tex">y \in {-1和1的集合}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span><span class="mord cjk_fallback">和</span><span class="mord">1</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">集</span><span class="mord cjk_fallback">合</span></span></span></span></span></p>
<p>模型：$ P(Y=1|X=x) = \sigma(&lt;x,w&gt;+b) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>，我们把</mtext><mi>w</mi><mtext>叫做权重</mtext><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>s</mi><mo separator="true">,</mo><mi>b</mi><mtext>叫做截矩</mtext><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>c</mi><mi>e</mi><mi>p</mi><mi>t</mi><mtext>，然后</mtext></mrow><annotation encoding="application/x-tex">，我们把w叫做权重weights, b叫做截矩intercept，然后</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">我</span><span class="mord cjk_fallback">们</span><span class="mord cjk_fallback">把</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord cjk_fallback">叫</span><span class="mord cjk_fallback">做</span><span class="mord cjk_fallback">权</span><span class="mord cjk_fallback">重</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mord cjk_fallback">叫</span><span class="mord cjk_fallback">做</span><span class="mord cjk_fallback">截</span><span class="mord cjk_fallback">矩</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">c</span><span class="mord mathnormal">e</span><span class="mord mathnormal">p</span><span class="mord mathnormal">t</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">然</span><span class="mord cjk_fallback">后</span></span></span></span>\sigma$是激活函数</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.11tdo6q20uxs.png" alt="yaimage" /></p>
<ul>
<li>激活函数是为了把R map到[0,1]，R是实数</li>
<li>模型也可以选择为$ P(Y=1|X=x) = F(&lt;x,w&gt;+b) $，F是高斯分布</li>
</ul>
<p>Inference：</p>
<ul>
<li>条件分布的极大似然估计：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∏</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>j</mi></msub><mo>=</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\prod_{j=1}^pP(X_j=x_j|Y=k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.24011em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029000000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>可以得到<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.5uiaqwg3c1k0.png" alt="yaimage" /></li>
<li>是个凸优化问题</li>
<li>ERM for the logistic loss：<img src="C:%5CUsers%5Cnili990221%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221212083856308.png" alt="image-20221212083856308" /></li>
</ul>
<h2 id="22-nearest-neighbors"><a class="markdownIt-Anchor" href="#22-nearest-neighbors"></a> 2.2 Nearest neighbors</h2>
<p>KNN分类：y(x) =  Majority vote on Y over the K-NN of x in the sample.</p>
<p>It works in any <strong>metric space[可度量的]</strong> but … you need to choose the metric</p>
<p>K的选择==&gt;可以用交叉熵</p>
<h2 id="23-other-methods-conclusion"><a class="markdownIt-Anchor" href="#23-other-methods-conclusion"></a> 2.3 Other methods &amp; Conclusion</h2>
<p>Other methods:</p>
<ul>
<li>SVMs and kernel methods</li>
<li>Random Forests</li>
<li>Boosting</li>
<li>Neural networks and Deep Learning</li>
</ul>
<p><strong>Sum up :</strong></p>
<ul>
<li>Logistic regression is very popular for classification, especially when K = 2. In particular, logistic regression with binary variables and <strong>Lasso penalization</strong>[正则化的一个例子，通过增加额外参数来解决过拟合问题，从而减少模型的参数、限制复杂度] can be very efficient in practice.</li>
<li><strong>LDA (LQA)[???]</strong> is useful when the classes are well separated, and Gaussian assumptions are reasonable.</li>
<li>Naive Bayes is useful when p is very large.</li>
<li>K-NN works in general metric spaces.</li>
<li>用于分类的其他的判别式模型：SVMs and kernel methods、Random Forests、Boosting、Neural networks and Deep Learning<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221205/yaimage.u9tdlch3b28.png" alt="yaimage" /></li>
</ul>
<h1 id="3-multiclass-and-multilabel-classification"><a class="markdownIt-Anchor" href="#3-multiclass-and-multilabel-classification"></a> 3. Multiclass and multilabel classification</h1>
<ol>
<li>Multiclass
<ul>
<li>a classification task with more than two classes (e.g. several<br />
animals)==&gt;非二元的分类</li>
<li>each sample is assigned to one and only one label: a fruit can be either an apple or a pear but not both at the same time.==&gt;每个样本只有一个标签</li>
</ul>
</li>
<li>Multilabel
<ul>
<li>each sample is assigned to a set of target labels.</li>
<li>label = properties that are not mutually exclusive[互不排斥的属性], e.g. (topics of a collection of books)</li>
</ul>
</li>
</ol>
<p><strong>如何用二元分类器解决多标签多类别的分类问题？==&gt; One Versus All strategy</strong></p>
<ul>
<li>对于每个class，只有是和不是这两种</li>
<li>Interpretability[可解释性] : since each class is represented by one and only one classifier, it is possible to gain knowledge about the class by inspecting its corresponding classifier.</li>
<li>The final decision corresponds to the classifier with the highest score</li>
</ul>
<h1 id="4-一些误差"><a class="markdownIt-Anchor" href="#4-一些误差"></a> 4. 一些误差</h1>
<h3 id="41-confusion-matrix"><a class="markdownIt-Anchor" href="#41-confusion-matrix"></a> 4.1 <strong>Confusion Matrix</strong></h3>
<p><strong>False Positive (FP) rate</strong>： The fraction of negative examples that are classified as positive.==&gt;被归类为正面的负面例子的比例。</p>
<p><strong>False Negative (FN) rate</strong>：The fraction of positive examples that are classified as negative.</p>
<p>同理有<strong>True Positive (TP) and True Negative (TN)</strong></p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.3tve1eoxado0.png" alt="yaimage" /></p>
<h3 id="42-varying-the-threshold-two-classes-problem"><a class="markdownIt-Anchor" href="#42-varying-the-threshold-two-classes-problem"></a> 4.2 Varying the threshold (two classes problem)</h3>
<p>对于二分类的问题，MAP规则是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mi>i</mi><mi>f</mi><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">∣</mi><mi>X</mi><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">y(x)=1 if P(Y=1|X=x)&gt;1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span></span></span></span>然后我们可以改变这个阈值1/2,然后有个这样子的图像==&gt;so???</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.60bj8rogcy00.png" alt="yaimage" /></p>
<h3 id="43-roc-curve-receiver-operating-characteristic"><a class="markdownIt-Anchor" href="#43-roc-curve-receiver-operating-characteristic"></a> 4.3 ROC Curve (Receiver Operating Characteristic)</h3>
<p>曲线上的点对应<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>F</mi><msub><mi>P</mi><mi>n</mi></msub><mo separator="true">,</mo><mi>T</mi><msub><mi>P</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(FP_n,TP_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,n是新的阈值</p>
<p>曲线一定是不减的[x+y=1]</p>
<p>(0,1)点对应zero error的分类规则</p>
<p>AUC score is the Area Under the ROC Curve.</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage-20221212083206413.5t0tz0vtlfc0.png" alt="yaimage-20221212083206413" /></p>
<h3 id="44-unbalanced-classes-in-classification"><a class="markdownIt-Anchor" href="#44-unbalanced-classes-in-classification"></a> 4.4 Unbalanced classes in classification</h3>
<p>就是一个东西可能即是这个class又是那个class，然后在这种情况下，classification rules tend to predict only the majority class : accuracy is not enough.</p>
<ul>
<li>
<p>Rebalance the metric. Empirical risk with rebalanced loss</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/20221212/yaimage.79c92nsabr40.png" alt="yaimage" /></p>
</li>
<li>
<p>oversampling methods : creates copy data or create synthetic samples (SMOTE) from the minor class[小类]</p>
</li>
</ul>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>统计学习TP3_CART</title>
    <url>/2023/01/30/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0_TP3_Tree%20based%20methods/</url>
    <content><![CDATA[<h1 id="tp_tree-based-methods"><a class="markdownIt-Anchor" href="#tp_tree-based-methods"></a> TP_Tree based methods</h1>
<p>用的检测垃圾邮件的分类例子做的TP</p>
<p>一个pandas的小点：Spam_data.describe()可以显示数据的一组描述性数据：得到每列的最大最小均值啥的</p>
<span id="more"></span>
<h1 id="1-cart"><a class="markdownIt-Anchor" href="#1-cart"></a> 1. CART</h1>
<h2 id="11-使用gridsearchcv选择max_leaf_nodes"><a class="markdownIt-Anchor" href="#11-使用gridsearchcv选择max_leaf_nodes"></a> 1.1 使用GridSearchCV选择max_leaf_nodes</h2>
<p>用处理得到的数据做分类树</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree</span><br><span class="line">clf = tree.DecisionTreeClassifier(max_leaf_nodes=<span class="number">5</span>).fit(X_Spam,Y_Spam)<span class="comment">#max_leaf_nodes表示终端节点/叶子个数</span></span><br><span class="line">tree.plot_tree(clf)</span><br></pre></td></tr></table></figure>
<p>关于max_leaf_nodes的选择：用GridSearchCV</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from sklearn.model_selection import GridSearchCV,KFold</span><br><span class="line"></span><br><span class="line">X_Spam_train, X_Spam_test,Y_Spam_train,Y_Spam_test = model_selection.train_test_split(X_Spam,Y_Spam,train_size=0.4,shuffle=True)</span><br><span class="line">maxnodes = [2,4,6,8,10,15,20,30,50,100,200,300,400,500,800]</span><br><span class="line">dtreeC = tree.DecisionTreeClassifier()</span><br><span class="line">mykfold = KFold(n_splits=5,shuffle=True)</span><br><span class="line">clf = GridSearchCV(dtreeC,&#123;&#x27;max_leaf_nodes&#x27;:maxnodes&#125;,cv=mykfold)</span><br><span class="line">Cart_grid = clf.fit(X_Spam_train,Y_Spam_train)</span><br></pre></td></tr></table></figure>
<p>然后显示结果</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">res = Cart_grid.cv_results_ <span class="comment">#所有属性</span></span><br><span class="line">res[<span class="string">&#x27;mean_test_score&#x27;</span>]</span><br><span class="line">plt.plot(maxnodes,res[<span class="string">&#x27;mean_test_score&#x27;</span>]);</span><br></pre></td></tr></table></figure>
<p>然后再来选出最好的参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Cart_grid.best_params_</span><br></pre></td></tr></table></figure>
<p>并且用这个参数去算误差</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bestTree = tree.DecisionTreeClassifier()</span><br><span class="line">bestTree.set_params(**Cart_grid.best_params_)</span><br><span class="line">bestTree.fit(X_Spam_train,Y_Spam_train).score(X_Spam_test,Y_Spam_test)</span><br></pre></td></tr></table></figure>
<p><mark>其实这里我没明白，为什么要分训练集和测试集，直接用它得到的最好参数和最好分数不行吗</mark></p>
<h2 id="12-resample重新采样"><a class="markdownIt-Anchor" href="#12-resample重新采样"></a> 1.2 resample重新采样</h2>
<p>说明CART树的不稳定性</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.utils <span class="keyword">import</span> resample</span><br><span class="line">fig, axes = plt.subplots(<span class="number">4</span>, <span class="number">3</span>, figsize=(<span class="number">10</span>, <span class="number">10</span>))  </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>):</span><br><span class="line">    X_sample,Y_sample=resample(X_Spam,Y_Spam,n_samples=<span class="number">2000</span>)</span><br><span class="line">    dt_clf=tree.DecisionTreeClassifier(max_leaf_nodes=<span class="number">6</span>)</span><br><span class="line">    dt_clf.fit(X_sample,Y_sample)</span><br><span class="line">    tree.plot_tree(dt_clf,ax=axes.flatten()[i],filled=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h1 id="2-bagged-trees"><a class="markdownIt-Anchor" href="#2-bagged-trees"></a> 2. Bagged Trees</h1>
<p>BaggingRegressor()==&gt;from sklearn.ensemble import BaggingRegressor</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X_train, X_test, Y_train, Y_test = model_selection.train_test_split(X_housing,y_housing,test_size=<span class="number">0.2</span>)</span><br><span class="line">bagTree = BaggingRegressor(n_estimators=<span class="number">20</span>).fit(X_train,Y_train)</span><br></pre></td></tr></table></figure>
<p>进行预测</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">y_BG_pred = bagTree.predict(X_test)</span><br><span class="line">score_BG = bagTree.score(X_test,Y_test)</span><br></pre></td></tr></table></figure>
<p>也可以选择里面的任意一棵树进行预测</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bagTree.estimators_[1].predict(X_test)</span><br><span class="line">bagTree.estimators_[1].score(X_test,Y_test)</span><br></pre></td></tr></table></figure>
<h1 id="3-random-forest"><a class="markdownIt-Anchor" href="#3-random-forest"></a> 3. Random Forest</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from sklearn.ensemble import RandomForestRegressor</span><br><span class="line">RF = RandomForestRegressor(n_estimators=10,max_leaf_nodes=4).fit(X_train,Y_train)</span><br></pre></td></tr></table></figure>
<p>计算每棵树的预测与直接进行比较</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">RF.estimators_<span class="comment">#包含森林中 10 棵树的结构</span></span><br><span class="line">Predict_list = [t.predict(X_test) <span class="keyword">for</span> t <span class="keyword">in</span> RF.estimators_]</span><br><span class="line">mean(Predict_list,axis=<span class="number">0</span>)<span class="comment">#10棵树，按列求的均值</span></span><br><span class="line">RF.predict(X_test)<span class="comment">#直接预测</span></span><br><span class="line"></span><br><span class="line">(mean(Predict_list,axis=<span class="number">0</span>) == RF.predict(X_test) ).<span class="built_in">all</span>()<span class="comment">#一样的</span></span><br></pre></td></tr></table></figure>
<h2 id="31-oob"><a class="markdownIt-Anchor" href="#31-oob"></a> 3.1 OOB</h2>
<p>比较OOB和经典交叉验证的运行时间，树(<code>n_estimators=</code>)在5到100间[这里用的重采样的小数据，使运行速度加快]</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start = time()</span><br><span class="line">my_kfold = KFold(n_splits=5, shuffle=True, random_state=0)</span><br><span class="line">tree_range = range(5,100)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tuned_parameters = &#123;&#x27;n_estimators&#x27;:tree_range&#125;</span><br><span class="line"></span><br><span class="line">RF = GridSearchCV(estimator=RandomForestRegressor(max_features=5),param_grid=tuned_parameters,</span><br><span class="line">                       cv=my_kfold,n_jobs=-1)</span><br><span class="line"></span><br><span class="line">RF.fit(X_housing_mini, y_housing_mini)</span><br><span class="line">test_error=  1-firstRF.cv_results_[&#x27;mean_test_score&#x27;]#这里不是直接调score</span><br><span class="line">print(str(time() - start)+ &quot; sec&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Scores oob</span><br><span class="line">start = time()</span><br><span class="line">oob_error = []</span><br><span class="line">for ntree in tree_range:</span><br><span class="line">    RF = RandomForestRegressor(n_estimators=ntree,oob_score = True).fit(X_housing_mini, y_housing_mini)</span><br><span class="line">    oob_error.append(1-RF.oob_score_)</span><br><span class="line">print(str(time() - start)+ &quot; sec&quot;)</span><br></pre></td></tr></table></figure>
<p>画图比较</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">plt.plot(tree_range,test_error,label= &quot;validation&quot;)</span><br><span class="line">plt.plot(tree_range,oob_error,label=&#x27;obb&#x27;)</span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure>
<p>开始是OOB误差大，在树变多后误差会变小。这种现象可以解释为，在 OOB 的情况下，我们使用所有的数据来构建随机森林，而在交叉验证的情况下，随机森林只构建在 4/5 的数据上，所以在第一种情况下性能更高是很自然的。</p>
<h2 id="32-用oob确定最佳参数"><a class="markdownIt-Anchor" href="#32-用oob确定最佳参数"></a> 3.2 用OOB确定最佳参数</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">max_leaf_nodes_grid = [2,4,6,8,10,15,20,30,50,100,200,300,400,500,800]</span><br><span class="line">max_features_grid=range(2,9)</span><br><span class="line">score_max = 0</span><br><span class="line">best_para = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for leaf in max_leaf_nodes_grid:</span><br><span class="line">    for fea in max_features_grid:</span><br><span class="line">         RF = RandomForestRegressor(n_estimators=50,oob_score = True,max_features=fea,max_leaf_nodes=leaf).fit(X_train, Y_train)</span><br><span class="line">         if RF.oob_score_ &gt; score_max:</span><br><span class="line">            score_max = RF.oob_score_</span><br><span class="line">            best_para = [leaf,fea]</span><br></pre></td></tr></table></figure>
<h2 id="33-gini-in-rf"><a class="markdownIt-Anchor" href="#33-gini-in-rf"></a> 3.3 Gini in RF</h2>
<p><em>property</em> <strong>feature_importances_</strong>：The impurity-based feature importances. The higher, the more important the feature. The importance of a feature is computed as the (normalized) total reduction of the criterion brought by that feature. It is also known as the Gini importance. 越高，特征越重要。 特征的重要性被计算为该特征带来的标准的（归一化）总减少。 它也被称为基尼重要性。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fig = plt.figure(figsize=(12,4))</span><br><span class="line">plt.bar(housing.feature_names,RF_100.feature_importances_,width=0.9,edgecolor=&quot;blue&quot;, alpha=0.2);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NANTES</category>
        <category>EI2</category>
        <category>EI2_2</category>
        <category>Stasc</category>
      </categories>
  </entry>
  <entry>
    <title>遗传算法</title>
    <url>/2022/07/29/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="遗传算法"><a class="markdownIt-Anchor" href="#遗传算法"></a> 遗传算法</h1>
<p>帮ZZ做SRTP学的一些东西</p>
<span id="more"></span>
<h2 id="1简介"><a class="markdownIt-Anchor" href="#1简介"></a> 1.简介</h2>
<h3 id="一些生物学常识"><a class="markdownIt-Anchor" href="#一些生物学常识"></a> 一些生物学常识</h3>
<p>基因型、表现型</p>
<p>进化：群体，个体，适应度(Fitness)</p>
<h3 id="优化问题优化问题模型"><a class="markdownIt-Anchor" href="#优化问题优化问题模型"></a> 优化问题–&gt;优化问题模型</h3>
<p>f(X)目标函数+约束条件</p>
<p>求最优化问题的方法：枚举，启发式算法（？），搜索</p>
<h3 id="遗传算法中的基本过程"><a class="markdownIt-Anchor" href="#遗传算法中的基本过程"></a> 遗传算法中的基本过程</h3>
<ol>
<li>选择：按照个体适应度，按照一定的规则，从t代群体P（t）中选择优良个体遗传到P（t+1）</li>
<li>交叉 ：将P（t）内的各个个体随机搭配成对，以每一对个体，以某个概率交换</li>
<li>变异：对群体P（t）中的每一个个体，以某一概率改变某一个或者某一些值</li>
</ol>
<p>流程</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220722224236119.webp" alt="img" /></p>
<p>群体：可行解编码成基因的个体的一个集合</p>
<h3 id="模拟遗传算法的简单实例"><a class="markdownIt-Anchor" href="#模拟遗传算法的简单实例"></a> 模拟遗传算法的简单实例</h3>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220722224550098.webp" alt="img" /></p>
<ol>
<li>
<p>个体编码</p>
<img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220722224911233.webp" alt="img" style="zoom:80%;" />
</li>
<li>
<p>初始群体的产生</p>
</li>
</ol>
<p>选取起始搜索点的初始群体数据，需要选取群体规模，这里选4。个体则随机产生</p>
<ol start="3">
<li>
<p>适应度计算</p>
<p>这里直接以目标函数为适应度</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220722225740210.webp" alt="img" /></p>
<p>第6列表示适应度概率，7进行选择，注意选择完成时，群体规模是保持不变的</p>
<p><img src="https://cdn.staticaly.com/gh/nililili7876/blog_pic@main/images/image-20220722230022681.webp" alt="img" /></p>
</li>
</ol>
<p>​	9,10,11进行交叉的过程：配对的第2位进行交叉（等位基因）</p>
<p>​	12,13进行变异</p>
<p>​	13产生子代群体，完成一次迭代。</p>
<p>最优解可由迭代次数决定</p>
<h2 id="2基本的遗传算法"><a class="markdownIt-Anchor" href="#2基本的遗传算法"></a> 2.基本的遗传算法</h2>
<h2 id="遗传算法解决tsp问题"><a class="markdownIt-Anchor" href="#遗传算法解决tsp问题"></a> 遗传算法解决TSP问题</h2>
<h3 id="问题抽象"><a class="markdownIt-Anchor" href="#问题抽象"></a> 问题抽象</h3>
<p>1.如何将答案编码成基因</p>
<p>旅行路线–&gt;一个数组</p>
<p>2.如何定义个体适应度</p>
<p>路程（目标函数）</p>
]]></content>
      <categories>
        <category>学习区</category>
        <category>暑假的乱七八糟</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
</search>
